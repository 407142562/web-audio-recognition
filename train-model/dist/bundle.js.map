{"version":3,"sources":["webpack:///webpack/bootstrap a0b60e82954c534bcfc2","webpack:///./~/deeplearn/dist/src/util.js","webpack:///./~/deeplearn/dist/src/math/ndarray.js","webpack:///./~/deeplearn/dist/src/graph/ops/op.js","webpack:///./~/deeplearn/dist/src/graph/graph_util.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./~/deeplearn/dist/src/environment.js","webpack:///./~/deeplearn/dist/src/graph/tensor_array_map.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/optimizer.js","webpack:///./~/deeplearn/dist/src/math/conv_util.js","webpack:///./~/deeplearn/dist/src/math/broadcast_util.js","webpack:///./~/deeplearn/dist/src/math/webgl/webgl_util.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./~/deeplearn/dist/src/graph/graph.js","webpack:///./~/deeplearn/dist/src/math/concat_util.js","webpack:///./~/deeplearn/dist/src/math/math.js","webpack:///./~/deeplearn/dist/src/math/webgl/shader_compiler.js","webpack:///./~/deeplearn/dist/src/math/webgl/tex_util.js","webpack:///../audio-features/src/AudioUtils.ts","webpack:///./~/deeplearn/dist/src/index.js","webpack:///./src/GraphSaverLoader.ts","webpack:///./~/deeplearn/dist/src/math/axis_util.js","webpack:///./~/deeplearn/dist/src/math/webgl/gpgpu_util.js","webpack:///./src/FeatureExtractor.ts","webpack:///./~/deeplearn/dist/src/data/dataset.js","webpack:///./~/deeplearn/dist/src/data/xhr-dataset.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/sgd_optimizer.js","webpack:///./~/deeplearn/dist/src/graph/priority_queue.js","webpack:///./~/deeplearn/dist/src/graph/session.js","webpack:///./~/deeplearn/dist/src/graph/session_util.js","webpack:///./~/deeplearn/dist/src/initializers.js","webpack:///./~/deeplearn/dist/src/math/copy2d_util.js","webpack:///./~/deeplearn/dist/src/math/math_cpu.js","webpack:///./~/deeplearn/dist/src/math/math_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/binaryop_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/gpgpu_context.js","webpack:///./~/deeplearn/dist/src/math/webgl/unaryop_gpu.js","webpack:///./~/eventemitter3/index.js","webpack:///(webpack)/~/process/browser.js","webpack:///../audio-features/src/PlotGraphs.ts","webpack:///../audio-features/src/StreamingFeatureExtractor.ts","webpack:///./src/LinePlot.ts","webpack:///./src/ModelBuilder.ts","webpack:///./src/SpeechCommandDataset.ts","webpack:///./src/util.ts","webpack:///../audio-features/src/CircularAudioBuffer.ts","webpack:///./src/index.ts","webpack:///../audio-features/~/dct/index.js","webpack:///../audio-features/~/dct/src/dct.js","webpack:///../audio-features/~/eventemitter3/index.js","webpack:///../audio-features/~/kissfft-js/src/KissFFT.js","webpack:///../audio-features/~/kissfft-js/src/main.js","webpack:///./~/deeplearn/dist/src/data/checkpoint_loader.js","webpack:///./~/deeplearn/dist/src/data/input_provider.js","webpack:///./~/deeplearn/dist/src/device_util.js","webpack:///./~/deeplearn/dist/src/graph/operation_emitter.js","webpack:///./~/deeplearn/dist/src/graph/ops/add.js","webpack:///./~/deeplearn/dist/src/graph/ops/argmax.js","webpack:///./~/deeplearn/dist/src/graph/ops/argmaxequals.js","webpack:///./~/deeplearn/dist/src/graph/ops/concat3d.js","webpack:///./~/deeplearn/dist/src/graph/ops/convolution.js","webpack:///./~/deeplearn/dist/src/graph/ops/divide.js","webpack:///./~/deeplearn/dist/src/graph/ops/element_wise_activation.js","webpack:///./~/deeplearn/dist/src/graph/ops/element_wise_cost.js","webpack:///./~/deeplearn/dist/src/graph/ops/exp.js","webpack:///./~/deeplearn/dist/src/graph/ops/linear_combination.js","webpack:///./~/deeplearn/dist/src/graph/ops/log.js","webpack:///./~/deeplearn/dist/src/graph/ops/matmul.js","webpack:///./~/deeplearn/dist/src/graph/ops/max_pool.js","webpack:///./~/deeplearn/dist/src/graph/ops/multiply.js","webpack:///./~/deeplearn/dist/src/graph/ops/reduce_sum.js","webpack:///./~/deeplearn/dist/src/graph/ops/reshape.js","webpack:///./~/deeplearn/dist/src/graph/ops/softmax.js","webpack:///./~/deeplearn/dist/src/graph/ops/subtract.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/adadelta_optimizer.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/adagrad_optimizer.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/adam_optimizer.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/adamax_optimizer.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/momentum_optimizer.js","webpack:///./~/deeplearn/dist/src/graph/optimizers/rmsprop_optimizer.js","webpack:///./~/deeplearn/dist/src/graph_runner.js","webpack:///./~/deeplearn/dist/src/math/activation_functions.js","webpack:///./~/deeplearn/dist/src/math/cost_functions.js","webpack:///./~/deeplearn/dist/src/math/reduce_util.js","webpack:///./~/deeplearn/dist/src/math/slice_util.js","webpack:///./~/deeplearn/dist/src/math/webgl/addscaledmat_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/argminmax_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/batchnorm_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/clip_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/concat_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/conv_backprop_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/conv_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/conv_gpu_depthwise.js","webpack:///./~/deeplearn/dist/src/math/webgl/copy_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/gpgpu_math.js","webpack:///./~/deeplearn/dist/src/math/webgl/max_pool_backprop_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/mulmat_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/multinomial_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/onehot_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/pool_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/reduce_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/render_ndarray_gpu_util.js","webpack:///./~/deeplearn/dist/src/math/webgl/resize_bilinear_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/slice_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/texture_manager.js","webpack:///./~/deeplearn/dist/src/math/webgl/tile_gpu.js","webpack:///./~/deeplearn/dist/src/math/webgl/transpose_gpu.js","webpack:///./~/deeplearn/dist/src/test_util.js","webpack:///./~/deeplearn/dist/src/version.js","webpack:///./~/dtype/index.js","webpack:///./~/seedrandom/index.js","webpack:///./~/seedrandom/lib/alea.js","webpack:///./~/seedrandom/lib/tychei.js","webpack:///./~/seedrandom/lib/xor128.js","webpack:///./~/seedrandom/lib/xor4096.js","webpack:///./~/seedrandom/lib/xorshift7.js","webpack:///./~/seedrandom/lib/xorwow.js","webpack:///./~/seedrandom/seedrandom.js","webpack:///./~/tab64/index.js","webpack:///(webpack)/~/path-browserify/index.js","webpack:///crypto (ignored)"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,UAAU;AACpC,4BAA4B,YAAY;AACxC,+BAA+B,mBAAmB;AAClD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,yBAAyB;AACjE;AACA;AACA;AACA;AACA,yBAAyB,UAAU;AACnC;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+BAA+B,UAAU,GAAG;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,gC;;;;;;;AC7QA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8CAA8C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,oBAAoB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,iBAAiB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6EAA6E;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,qCAAqC,EAAE;AACvF;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,2CAA2C,EAAE;AAC7F;AACA;AACA,gDAAgD,+BAA+B,EAAE;AACjF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sCAAsC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sCAAsC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,qCAAqC,EAAE;AACvF;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,2CAA2C,EAAE;AAC7F;AACA;AACA,gDAAgD,+BAA+B,EAAE;AACjF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sCAAsC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,qCAAqC,EAAE;AACvF;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,2CAA2C,EAAE;AAC7F;AACA;AACA,gDAAgD,+BAA+B,EAAE;AACjF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sCAAsC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,qCAAqC,EAAE;AACvF;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,2CAA2C,EAAE;AAC7F;AACA;AACA,gDAAgD,+BAA+B,EAAE;AACjF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sCAAsC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,qCAAqC,EAAE;AACvF;AACA;AACA,8BAA8B,UAAU;AACxC,gCAAgC,YAAY;AAC5C,gDAAgD,2CAA2C,EAAE;AAC7F;AACA;AACA,gDAAgD,+BAA+B,EAAE;AACjF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;AC3yBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,6FAA6F;AAC7F,+CAA+C;AAC/C;AACA,CAAC;AACD;AACA,8B;;;;;;;ACVA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,2CAA2C,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA,+CAA+C,8BAA8B,EAAE;AAC/E,+CAA+C,+BAA+B,EAAE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,4FAA4F,EAAE,6BAA6B,wCAAwC,EAAE;AAC7O,oDAAoD,yCAAyC,EAAE;AAC/F,oDAAoD;AACpD,6BAA6B,yBAAyB,EAAE;AACxD;AACA;AACA;AACA;AACA,KAAK,EAAE,EAAE;AACT,oDAAoD,gCAAgC,EAAE;AACtF;AACA;AACA,uDAAuD,2BAA2B,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;AC3EA;AACA;AACA;;;;;;;;ACFA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,2CAA2C;AAC5C;AACA,KAAK,2EAA2E;AAChF,KAAK,4EAA4E;AACjF,KAAK,2CAA2C;AAChD,KAAK,0DAA0D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;AClLA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;AClGA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,6FAA6F,EAAE;AACnJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;AChDA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,qC;;;;;;;ACvGA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;ACzCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,uCAAuC,EAAE;AACjF;AACA;AACA;AACA,oDAAoD,0CAA0C,EAAE;AAChG,kCAAkC,0DAA0D,EAAE;AAC9F,kCAAkC,uCAAuC,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,4CAA4C,EAAE;AACpG,kCAAkC,8DAA8D,EAAE;AAClG,kCAAkC,yCAAyC,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,mBAAmB,iCAAiC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,0BAA0B;AACpH;AACA;AACA;AACA,wCAAwC,2BAA2B,EAAE;AACrE;AACA;AACA;AACA,kCAAkC,gCAAgC,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oCAAoC,EAAE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,0BAA0B,EAAE;AAC1E,kCAAkC,+CAA+C,EAAE;AACnF,kCAAkC,6DAA6D,EAAE;AACjG;AACA;AACA;AACA;AACA,8CAA8C,0BAA0B,EAAE;AAC1E,kCAAkC,uDAAuD,EAAE;AAC3F,kCAAkC,qEAAqE,EAAE;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6CAA6C,EAAE;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,2BAA2B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,+BAA+B,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,+CAA+C,EAAE;AACnF,kCAAkC,gHAAgH,EAAE;AACpJ,kCAAkC,wCAAwC,EAAE;AAC5E;AACA;AACA;AACA;AACA,kCAAkC,oDAAoD,EAAE;AACxF,kCAAkC,+CAA+C,EAAE;AACnF;AACA;AACA;AACA;AACA,kCAAkC,oDAAoD,EAAE;AACxF,kCAAkC,4CAA4C,EAAE;AAChF;AACA;AACA;AACA,wCAAwC,oDAAoD,EAAE;AAC9F;AACA;AACA;AACA,kCAAkC,kDAAkD,EAAE;AACtF,kCAAkC,0DAA0D,EAAE;AAC9F;AACA;AACA;AACA,kCAAkC,iDAAiD,EAAE;AACrF,kCAAkC,6DAA6D,EAAE;AACjG,kCAAkC,4DAA4D,EAAE;AAChG;AACA;AACA;AACA,kCAAkC,wDAAwD,EAAE;AAC5F,kCAAkC,iGAAiG,EAAE;AACrI;AACA;AACA;AACA,kCAAkC,wDAAwD,EAAE;AAC5F,kCAAkC,8FAA8F,EAAE;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,wBAAwB,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;ACzTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA;AACA;;;;;;;;;ACDA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD,iCAAiC,gBAAgB;AACjD,2CAA2C,qEAAqE;AAChH,yCAAyC,yDAAyD;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,eAAe;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA,sDAAsD;AACtD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,oDAAoD,OAAO;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,oEAAoE,iCAAiC;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,qDAAqD,iBAAiB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0DAA0D,iBAAiB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0DAA0D,iBAAiB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wDAAwD,iBAAiB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,sDAAsD,OAAO;AAC7D;AACA,oDAAoD;AACpD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0DAA0D,iBAAiB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,iBAAiB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C,gEAAgE,mBAAmB;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C,0DAA0D,OAAO;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA,+CAA+C;AAC/C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,2DAA2D,OAAO;AAClE;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA,8CAA8C;AAC9C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA,8CAA8C;AAC9C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA,+CAA+C;AAC/C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,oDAAoD,OAAO;AAC3D;AACA,kDAAkD;AAClD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,mDAAmD,OAAO;AAC1D;AACA,iDAAiD;AACjD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,yEAAyE,uBAAuB;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,yDAAyD,OAAO;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,mEAAmE,uCAAuC;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wDAAwD,OAAO;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,8DAA8D,iBAAiB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;AC/lBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,WAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;ACvBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,4BAA4B;AACrE,0CAA0C,6BAA6B;AACvE;AACA;AACA,sCAAsC,0BAA0B,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,cAAc,IAAI;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,cAAc,IAAI;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,sCAAsC,0CAA0C;AAChF,sCAAsC,0CAA0C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,+DAA+D,EAAE;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,qCAAqC,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,kDAAkD,EAAE;AAC1G;AACA;AACA;AACA;AACA,sDAAsD,kDAAkD,EAAE;AAC1G;AACA;AACA;AACA;AACA,sDAAsD,kDAAkD,EAAE;AAC1G;AACA;AACA;AACA;AACA,sDAAsD,kDAAkD,EAAE;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uDAAuD,qCAAqC,EAAE;AAC9F;AACA;AACA;AACA;AACA,uDAAuD,2CAA2C,EAAE;AACpG;AACA;AACA;AACA;AACA,uDAAuD,yDAAyD,EAAE;AAClH;AACA;AACA;AACA;AACA,uDAAuD,yDAAyD,EAAE;AAClH;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,SAAS,EAAE,EAAE;AACb;AACA;AACA;AACA,oDAAoD,kCAAkC,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA;AACA,gDAAgD,UAAU,EAAE;AAC5D;AACA;AACA;AACA,wDAAwD,yCAAyC,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,6BAA6B,EAAE;AACjF;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,qCAAqC,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,qCAAqC,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,mCAAmC,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,oDAAoD,qCAAqC,EAAE;AAC3F;AACA;AACA;AACA,kDAAkD,mCAAmC,EAAE;AACvF;AACA;AACA;AACA,kDAAkD,mCAAmC,EAAE;AACvF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,qDAAqD,gCAAgC,EAAE;AACvF;AACA;AACA;AACA,kDAAkD,mCAAmC,EAAE;AACvF;AACA;AACA;AACA;AACA;AACA,mDAAmD,8CAA8C,EAAE;AACnG;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,kDAAkD,mCAAmC,EAAE;AACvF;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C,wDAAwD,gDAAgD,EAAE;AAC1G;AACA;AACA;AACA,sDAAsD,uCAAuC,EAAE;AAC/F;AACA;AACA;AACA,kDAAkD,mCAAmC,EAAE;AACvF;AACA;AACA;AACA,kDAAkD,mCAAmC,EAAE;AACvF;AACA;AACA;AACA,kDAAkD,mCAAmC,EAAE;AACvF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,mDAAmD,oCAAoC,EAAE;AACzF;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C,mDAAmD,2CAA2C,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,mDAAmD,EAAE;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,wDAAwD,EAAE;AAC/G;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,2DAA2D,EAAE;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2CAA2C,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,uDAAuD,EAAE;AACvH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2CAA2C,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2CAA2C,EAAE;AACnG;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA,+DAA+D,oEAAoE,EAAE;AACrI;AACA;AACA;AACA,yCAAyC,wBAAwB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,8FAA8F,EAAE;AAC1J;AACA;AACA;AACA,yCAAyC,wBAAwB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,8FAA8F,EAAE;AAC1J;AACA;AACA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iCAAiC,aAAa;AAC9C,kCAAkC,cAAc;AAChD;AACA;AACA;AACA,qDAAqD,gEAAgE,EAAE;AACvH;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC,kFAAkF;AACnF;AACA;AACA;AACA,gC;;;;;;;ACl5BA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,0CAA0C,EAAE,EAAE;AACxG,4DAA4D,2DAA2D,EAAE;AAC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EAA+E,SAAS;AACnO;AACA;AACA,yFAAyF,yBAAyB,8EAA8E,iHAAiH,6CAA6C,SAAS;AACvW;AACA;AACA,yFAAyF,wFAAwF,4BAA4B,gHAAgH,6CAA6C,SAAS;AACnX;AACA,mFAAmF,oJAAoJ,2CAA2C,OAAO;AACzR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,iDAAiD,SAAS;AACrH;AACA;AACA,2DAA2D,sEAAsE,6CAA6C,SAAS;AACvL;AACA;AACA,2DAA2D,sEAAsE,6CAA6C,SAAS;AACvL;AACA,qDAAqD,gEAAgE,2CAA2C,OAAO;AACvK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,4CAA4C,4CAA4C,EAAE,EAAE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,yCAAyC,EAAE;AAC7E;AACA;AACA,4CAA4C,gDAAgD,qGAAqG,OAAO;AACxM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,mDAAmD,SAAS;AAC9G;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA,iGAAiG,4EAA4E,mBAAmB;AAChM,4EAA4E;AAC5E;AACA;AACA;AACA;AACA,4EAA4E,6CAA6C;AACzH;AACA,4CAA4C,iIAAiI,qEAAqE,yFAAyF,gEAAgE,6JAA6J,sCAAsC;AAC9kB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kBAAkB,EAAE;AAC1D;AACA,2C;;;;;;;AC/UA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,CAAC,gEAAgE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,8BAA8B,EAAE;AACnF,gDAAgD,sCAAsC,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,4BAA4B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD,gCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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CAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,kCAAkC,EAAE;AACjF,6CAA6C,oCAAoC,EAAE;AACnF,6CAA6C,6BAA6B,EAAE;AAC5E,6CAA6C,8BAA8B,EAAE;AAC7E,6CAA6C,2CAA2C,EAAE;AAC1F,6CAA6C,uCAAuC,EAAE;AACtF,6CAA6C,mCAAmC,EAAE;AAClF,6CAA6C,gCAAgC,EAAE;AAC/E,6CAA6C,6BAA6B,EAAE;AAC5E;AACA;AACA;AACA;AACA,0DAA0D,kCAAkC,wBAAwB,4BAA4B,qBAAqB,4CAA4C,sBAAsB,OAAO;AAC9O;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uCAAuC,EAAE;AACtF,6CAA6C,qEAAqE,EAAE;AACpH,6CAA6C,qEAAqE,EAAE;AACpH,6CAA6C,mEAAmE,EAAE;AAClH,6CAA6C,mEAAmE,EAAE;AAClH,6CAA6C,oGAAoG,EAAE;AACnJ,6CAA6C,4CAA4C,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,qDAAqD,EAAE;AACpG;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,EAAE;AAC9F,6CAA6C,oFAAoF,EAAE;AACnI,6CAA6C,4CAA4C,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,EAAE;AAC9F,6CAA6C,yGAAyG,EAAE;AACxJ,6CAA6C,4CAA4C,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,qDAAqD,EAAE;AACpH,6DAA6D,8EAA8E,EAAE;AAC7I;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,+EAA+E,EAAE;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,sFAAsF,EAAE;AACrI;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,2EAA2E,EAAE;AAC1H;AACA;AACA;AACA;AACA,sC;;;;;;;;ACxRA;AAAA;AAAA;;;;;;;;;;;;;;GAcG;AAE0D;AAClB;AAEpC,MAAM,aAAa,GAAG,IAAI,CAAC;AAAA;AAAA;AAC3B,MAAM,UAAU,GAAG,GAAG,CAAC;AAAA;AAAA;AACvB,MAAM,SAAS,GAAG,EAAE,CAAC;AAAA;AAAA;AACrB,MAAM,UAAU,GAAG,KAAK,CAAC;AAAA;AAAA;AACzB,MAAM,QAAQ,GAAG,GAAG,CAAC;AAAA;AAAA;AACrB,MAAM,eAAe,GAAG,KAAK,CAA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A,8CAA8C,iCAAiC,EAAE;AACjF;AACA;AACA;AACA;AACA,6DAA6D,UAAU,EAAE;AACzE;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA,2BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,2BAA2B;AAC/F,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;ACnKA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,8EAA8E,gBAAgB,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,6BAA6B;AACxD;AACA,kEAAkE,mCAAmC;AACrG;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,yEAAyE,4BAA4B,EAAE;AACvG;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,oBAAoB;AAC1D;AACA,KAAK;AACL;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,uC;;;;;;;ACjJA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;AC7CA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;ACjIA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,4CAA4C,EAAE;AAChG;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sEAAsE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,qBAAqB,EAAE;AACjF;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,gDAAgD,EAAE;AACxG,oDAAoD,2BAA2B,EAAE;AACjF,0CAA0C,8BAA8B,EAAE;AAC1E;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oCAAoC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA,2DAA2D,gDAAgD,EAAE;AAC7G,0DAA0D,wDAAwD,EAAE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,yCAAyC,aAAa,EAAE;AACxD;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;ACxIA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mDAAmD,EAAE;AACvF;AACA;AACA;AACA;AACA,kDAAkD,eAAe,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,sCAAsC,0DAA0D,EAAE;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,wC;;;;;;;AC9HA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,+BAA+B,aAAa;AAC5C,8BAA8B,iBAAiB;AAC/C,sCAAsC,yBAAyB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8BAA8B,UAAU;AACxC,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8BAA8B,UAAU;AACxC,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;AC1HA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;ACbA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA,sDAAsD,gDAAgD;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC,2BAA2B,aAAa;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC,2BAA2B,aAAa;AACxC,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC,2BAA2B,aAAa;AACxC,+BAA+B,aAAa;AAC5C,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC,2BAA2B,iBAAiB;AAC5C,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC,2BAA2B,iBAAiB;AAC5C,+BAA+B,iBAAiB;AAChD,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iDAAiD;AACvF,sCAAsC,iDAAiD;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC,2BAA2B,cAAc;AACzC;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,iDAAiD,oBAAoB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,iDAAiD,oBAAoB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C,mCAAmC,6BAA6B;AAChE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,sDAAsD,oBAAoB;AAC1E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,gDAAgD,oBAAoB;AACpE;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA,sDAAsD,uBAAuB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA,4CAA4C,YAAY;AACxD;AACA,4CAA4C,iBAAiB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,cAAc;AACtC,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA,4CAA4C,YAAY;AACxD;AACA,4CAA4C,eAAe;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA,gCAAgC,iBAAiB;AACjD,oCAAoC,kBAAkB;AACtD;AACA,4CAA4C,YAAY;AACxD;AACA,gDAAgD,YAAY;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA,2BAA2B,aAAa;AACxC,+BAA+B,aAAa;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC,4BAA4B,iBAAiB;AAC7C,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA,oCAAoC,YAAY;AAChD;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA,gDAAgD,YAAY;AAC5D;AACA,oDAAoD,YAAY;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,uBAAuB;AAC9E;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA,uDAAuD,uBAAuB;AAC9E,uBAAuB,YAAY;AACnC;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC,4BAA4B,qBAAqB;AACjD;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA,wCAAwC,YAAY;AACpD;AACA,4CAA4C,YAAY;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC,6BAA6B,mBAAmB;AAChD,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA,oCAAoC,mBAAmB;AACvD;AACA;AACA;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C,2BAA2B,qBAAqB;AAChD,+BAA+B,qBAAqB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA,iCAAiC,sBAAsB;AACvD;AACA;AACA;AACA;AACA,kCAAkC,uBAAuB;AACzD;AACA;AACA,qCAAqC,sBAAsB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,wBAAwB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,oBAAoB,EAAE;AACvE;AACA;AACA,iDAAiD,oBAAoB,EAAE;AACvE;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;ACtjCA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,mDAAmD;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,qBAAqB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;AChcA;AACA,8CAA8C,cAAc;AAC5D;AACA,4BAA4B;AAC5B,4BAA4B;AAC5B,4BAA4B;AAC5B,4BAA4B;AAC5B,4CAA4C,2BAA2B,yBAAyB;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,6BAA6B,uBAAuB,sCAAsC,sCAAsC,2CAA2C,SAAS;AAC9P;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;ACnBA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,oBAAoB,EAAE;AACvE,iDAAiD,iDAAiD,EAAE;AACpG,iDAAiD,gDAAgD,EAAE;AACnG,iDAAiD,6CAA6C,EAAE;AAChG,iDAAiD,4CAA4C,EAAE;AAC/F,iDAAiD,qDAAqD,EAAE;AACxG,iDAAiD,2CAA2C,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,wCAAwC,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,uHAAuH,EAAE;AACzM,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,+DAA+D,yFAAyF,EAAE;AAC1J;AACA;AACA;AACA,+DAA+D,kFAAkF,EAAE;AACnJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,+CAA+C,EAAE;AAClG,iDAAiD,iDAAiD,EAAE;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,wCAAwC,EAAE;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,qCAAqC,EAAE;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,uDAAuD,EAAE;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,+DAA+D,EAAE;AAClH;AACA;AACA;AACA;AACA,sDAAsD,0BAA0B,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,yCAAyC,EAAE;AAC5F,iDAAiD,wCAAwC,EAAE;AAC3F;AACA;AACA;AACA;AACA,sDAAsD,8CAA8C,EAAE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;AClXA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,gEAAgE,oCAAoC,uBAAuB,sCAAsC,sCAAsC,yBAAyB,SAAS;AACzO;AACA;AACA,CAAC;AACD;AACA,gDAAgD,eAAe,KAAK;AACpE,iCAAiC;AACjC,+CAA+C;AAC/C,0DAA0D;AAC1D;AACA,4DAA4D;AAC5D;AACA;AACA;AACA,2BAA2B,aAAa;AACxC,+EAA+E;AAC/E;AACA;AACA,6BAA6B;AAC7B,mCAAmC;AACnC,qCAAqC;AACrC,iCAAiC;AACjC,iCAAiC;AACjC,+DAA+D;AAC/D,0DAA0D;AAC1D,6DAA6D;AAC7D,6DAA6D;AAC7D,iCAAiC;AACjC,+DAA+D;AAC/D,+DAA+D;AAC/D,+DAA+D;AAC/D,uCAAuC,mCAAmC;AAC1E,wCAAwC,mCAAmC;AAC3E,mDAAmD,+CAA+C;AAClG,mCAAmC;AACnC,uC;;;;;;;ACzCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtTA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA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QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;A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;;AAEA;AACA;AACA;AACA;;;;;;;;ACxGA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA,mCAAmC,sBAAsB;AACzD;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,iBAAiB;AAChH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;AC/FA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA,2BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;ACrGA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;ACVA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,8DAA8D,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;;ACnHA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+B;;;;;;;ACrFA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;AClCA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;ACpCA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;ACxCA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;ACnEA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;AC7FA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mD;;;;;;;ACvFA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;ACnEA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,+B;;;;;;;AC1CA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;AC9DA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,+B;;;;;;;AC1CA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;ACnEA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;ACpDA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;ACjFA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;AClDA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;AC5CA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,mC;;;;;;;ACtFA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;ACtFA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;ACzEA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;AC7DA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;AC3FA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;ACrFA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;AChEA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;AChEA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,wCAAwC;AACjF,wCAAwC,2CAA2C;AACnF,wCAAwC,2CAA2C;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,2CAA2C,6BAA6B,EAAE;AAC1E;AACA;AACA;AACA,oDAAoD,oEAAoE;AACxH,+CAA+C,2BAA2B;AAC1E;AACA;AACA;AACA;AACA;AACA,uBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,6BAA6B,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iCAAiC;AAC5D;AACA,+BAA+B,uCAAuC;AACtE;AACA;AACA,6CAA6C,kDAAkD;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iEAAiE,6BAA6B,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;AC3NA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,8CAA8C;AAC9C;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,8CAA8C;AAC9C;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,iDAAiD;AACjD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,gDAAgD;AAChD;AACA,CAAC;AACD;AACA,gD;;;;;;;ACvFA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;ACxBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;AClBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;ACdA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sCAAsC,sCAAsC,6BAA6B,6BAA6B,mDAAmD,SAAS;AAChP;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;ACdA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,yDAAyD;AACzD,8CAA8C,2CAA2C,gCAAgC,iCAAiC,qDAAqD,8BAA8B,kDAAkD,2BAA2B,wBAAwB,OAAO,6CAA6C,iDAAiD,mCAAmC,mCAAmC,qBAAqB,aAAa,qDAAqD,oCAAoC,gCAAgC,aAAa,WAAW,sCAAsC,SAAS;AAC/tB;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;ACtBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,sCAAsC,4CAA4C,oDAAoD,+CAA+C,6CAA6C,8EAA8E,+CAA+C,SAAS;AACtZ;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;AC5BA;AACA,8CAA8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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,KAAK;AACL,oDAAoD,oBAAoB,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kCAAkC;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;AC9GA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,uBAAuB,2CAA2C,2BAA2B,gDAAgD,uCAAuC,uCAAuC,oLAAoL,0BAA0B,2BAA2B,QAAQ,uEAAuE,6EAA6E,uBAAuB,aAAa,gCAAgC,8BAA8B,0BAA0B,QAAQ,wEAAwE,+EAA+E,yBAAyB,eAAe,kCAAkC,qDAAqD,kFAAkF,4KAA4K,yEAAyE,0CAA0C,aAAa,WAAW,6BAA6B,SAAS;AACpgD;AACA;AACA,CAAC;AACD;AACA,iD;;;;;;;ACpBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,iCAAiC,4CAA4C;AAC7E,iCAAiC,4CAA4C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,2BAA2B,uBAAuB,kCAAkC,UAAU,+QAA+Q,+QAA+Q,gCAAgC,SAAS,uDAAuD,iKAAiK,SAAS,mDAAmD,2LAA2L,2LAA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A2D,gCAAgC,SAAS;AACh0C;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;ACpBA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,uBAAuB,8DAA8D,qDAAqD,SAAS;AAChN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;AC9DA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,qCAAqC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,2C;;;;;;;ACrEA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,kDAAkD,gDAAgD,SAAS;AACzJ;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,oC;;;;;;;AClCA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gDAAgD,0CAA0C,OAAO;AAC7I;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA,yC;;;;;;;AC/BA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gCAAgC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gCAAgC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gCAAgC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA,uBAAuB,UAAU;AACjC;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+FAA+F,uDAAuD,wCAAwC,EAAE,YAAY,EAAE;AAC9M;AACA;AACA;AACA;AACA,+FAA+F,uDAAuD,wCAAwC,EAAE,YAAY,EAAE;AAC9M;AACA;AACA;AACA,yFAAyF,mFAAmF,EAAE;AAC9K;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uBAAuB,EAAE;AAC/D;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,uCAAuC,uBAAuB,EAAE;AAChE,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;ACnPA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA,mC;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,oBAAoB;AACpB,0BAA0B;;AAE1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;8CC3DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;;AAEA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA,kBAAkB,YAAY;AAC9B;AACA,kBAAkB,YAAY;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,sCAAsC;AACjE;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB,EAAE;AAClD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,8CAA8C;AAC9C;;AAEA;AACA;;;AAGA;AACA;AACA,CAAC;AACD,gDAAqB,aAAa,EAAE;AAAA;AACpC,CAAC;AACD;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;;;8CC/GA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,wCAAwC;AACjE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB,EAAE;AAClD;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD,gDAAqB,aAAa,EAAE;AAAA;AACpC,CAAC;AACD;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;;;8CCpGA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,wCAAwC;AACjE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB,EAAE;AAClD;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD,gDAAqB,aAAa,EAAE;AAAA;AACpC,CAAC;AACD;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;;;8CC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,8CAA8C;AAC9C,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,oCAAoC;AACpC,iCAAiC;AACjC;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,wCAAwC;AACjE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB,EAAE;AAClD;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD,gDAAqB,aAAa,EAAE;AAAA;AACpC,CAAC;AACD;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;8CCjJA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,gBAAgB;AAC7B,uBAAuB;AACvB,uBAAuB;AACvB,uBAAuB;AACvB,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qBAAqB;AACpC,8BAA8B;;AAE9B;AACA;;AAEA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,wCAAwC;AACjE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB,EAAE;AAClD;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD,gDAAqB,aAAa,EAAE;AAAA;AACpC,CAAC;AACD;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;;8CC/FA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,aAAa,aAAa;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,wCAAwC;AACjE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,mBAAmB,EAAE;AAClD;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD,gDAAqB,aAAa,EAAE;AAAA;AACpC,CAAC;AACD;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;;;ACnFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB,iBAAiB;;AAElE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,8BAA8B;AAC9B,0BAA0B;AAC1B,iBAAiB;AACjB,oBAAoB;AACpB;AACA,2BAA2B;AAC3B,aAAa;AACb,aAAa;AACb,eAAe;AACf;AACA,uBAAuB;AACvB;;AAEA,2BAA2B,sBAAsB;AACjD,2BAA2B,gCAAgC;AAC3D;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA,mCAAmC,qBAAqB,EAAE;AAC1D;;AAEA;AACA;AACA,2BAA2B,sBAAsB,aAAa;;AAE9D;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,kBAAkB;;AAElC;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,4CAA4C,EAAE;AACzD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD,gDAAqB,mBAAmB,EAAE;AAAA;AAC1C;;AAEA;AACA,CAAC;AACD;AACA;AACA;;;;;;;ACtPA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8BAA8B,cAAc;AAC5C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,qBAAqB,qBAAqB;AAC1C;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,mCAAmC;AAC3D;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,IAAI;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;AC/NA,e","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 46);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a0b60e82954c534bcfc2","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction shuffle(array) {\n    var counter = array.length;\n    var temp = 0;\n    var index = 0;\n    while (counter > 0) {\n        index = (Math.random() * counter) | 0;\n        counter--;\n        temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n}\nexports.shuffle = shuffle;\nfunction clamp(min, x, max) {\n    return Math.max(min, Math.min(x, max));\n}\nexports.clamp = clamp;\nfunction randUniform(a, b) {\n    return Math.random() * (b - a) + a;\n}\nexports.randUniform = randUniform;\nfunction randGauss(mean, stdDev, truncated) {\n    if (mean === void 0) { mean = 0; }\n    if (stdDev === void 0) { stdDev = 1; }\n    if (truncated === void 0) { truncated = false; }\n    var v1, v2, s;\n    do {\n        v1 = 2 * Math.random() - 1;\n        v2 = 2 * Math.random() - 1;\n        s = v1 * v1 + v2 * v2;\n    } while (s > 1);\n    var result = Math.sqrt(-2 * Math.log(s) / s) * v1;\n    if (truncated && Math.abs(result) > 2) {\n        return randGauss(mean, stdDev, true);\n    }\n    return mean + stdDev * result;\n}\nexports.randGauss = randGauss;\nfunction distSquared(a, b) {\n    var result = 0;\n    for (var i = 0; i < a.length; i++) {\n        var diff = Number(a[i]) - Number(b[i]);\n        result += diff * diff;\n    }\n    return result;\n}\nexports.distSquared = distSquared;\nfunction assert(expr, msg) {\n    if (!expr) {\n        throw new Error(msg);\n    }\n}\nexports.assert = assert;\nfunction assertShapesMatch(shapeA, shapeB, errorMessagePrefix) {\n    if (errorMessagePrefix === void 0) { errorMessagePrefix = ''; }\n    assert(arraysEqual(shapeA, shapeB), errorMessagePrefix + (\"Shapes \" + shapeA + \" and \" + shapeB + \" must match\"));\n}\nexports.assertShapesMatch = assertShapesMatch;\nfunction flatten(arr, ret) {\n    if (ret === void 0) { ret = []; }\n    if (Array.isArray(arr)) {\n        for (var i = 0; i < arr.length; ++i) {\n            flatten(arr[i], ret);\n        }\n    }\n    else {\n        ret.push(arr);\n    }\n    return ret;\n}\nexports.flatten = flatten;\nfunction inferShape(arr) {\n    var shape = [];\n    while (arr instanceof Array) {\n        shape.push(arr.length);\n        arr = arr[0];\n    }\n    return shape;\n}\nexports.inferShape = inferShape;\nfunction sizeFromShape(shape) {\n    if (shape.length === 0) {\n        return 1;\n    }\n    var size = shape[0];\n    for (var i = 1; i < shape.length; i++) {\n        size *= shape[i];\n    }\n    return size;\n}\nexports.sizeFromShape = sizeFromShape;\nfunction isScalarShape(shape) {\n    return shape.length === 0;\n}\nexports.isScalarShape = isScalarShape;\nfunction arraysEqual(n1, n2) {\n    if (n1.length !== n2.length) {\n        return false;\n    }\n    for (var i = 0; i < n1.length; i++) {\n        if (n1[i] !== n2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.arraysEqual = arraysEqual;\nfunction isInt(a) {\n    return a % 1 === 0;\n}\nexports.isInt = isInt;\nfunction tanh(x) {\n    if (Math.tanh != null) {\n        return Math.tanh(x);\n    }\n    if (x === Infinity) {\n        return 1;\n    }\n    else if (x === -Infinity) {\n        return -1;\n    }\n    else {\n        var e2x = Math.exp(2 * x);\n        return (e2x - 1) / (e2x + 1);\n    }\n}\nexports.tanh = tanh;\nfunction sizeToSquarishShape(size) {\n    for (var a = Math.floor(Math.sqrt(size)); a > 1; --a) {\n        if (size % a === 0) {\n            return [a, size / a];\n        }\n    }\n    return [1, size];\n}\nexports.sizeToSquarishShape = sizeToSquarishShape;\nfunction createShuffledIndices(n) {\n    var shuffledIndices = new Uint32Array(n);\n    for (var i = 0; i < n; ++i) {\n        shuffledIndices[i] = i;\n    }\n    shuffle(shuffledIndices);\n    return shuffledIndices;\n}\nexports.createShuffledIndices = createShuffledIndices;\nfunction rightPad(a, size) {\n    if (size <= a.length) {\n        return a;\n    }\n    return a + ' '.repeat(size - a.length);\n}\nexports.rightPad = rightPad;\nfunction repeatedTry(checkFn, delayFn, maxCounter) {\n    if (delayFn === void 0) { delayFn = function (counter) { return 0; }; }\n    return new Promise(function (resolve, reject) {\n        var tryCount = 0;\n        var tryFn = function () {\n            if (checkFn()) {\n                resolve();\n                return;\n            }\n            tryCount++;\n            var nextBackoff = delayFn(tryCount);\n            if (maxCounter != null && tryCount >= maxCounter) {\n                reject();\n                return;\n            }\n            setTimeout(tryFn, nextBackoff);\n        };\n        setTimeout(tryFn, 0);\n    });\n}\nexports.repeatedTry = repeatedTry;\nfunction getQueryParams(queryString) {\n    var params = {};\n    queryString.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g, function (s) {\n        var t = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            t[_i - 1] = arguments[_i];\n        }\n        decodeParam(params, t[0], t[1]);\n        return t.join('=');\n    });\n    return params;\n}\nexports.getQueryParams = getQueryParams;\nfunction decodeParam(params, name, value) {\n    params[decodeURIComponent(name)] = decodeURIComponent(value || '');\n}\nfunction inferFromImplicitShape(shape, size) {\n    var shapeProd = 1;\n    var implicitIdx = -1;\n    for (var i = 0; i < shape.length; ++i) {\n        if (shape[i] > 0) {\n            shapeProd *= shape[i];\n        }\n        else if (shape[i] === -1) {\n            if (implicitIdx !== -1) {\n                throw Error(\"Shapes can only have 1 implicit size. \" +\n                    (\"Found -1 at dim \" + implicitIdx + \" and dim \" + i));\n            }\n            implicitIdx = i;\n        }\n        else if (shape[i] <= 0) {\n            throw Error(\"Shapes can not be <= 0. Found \" + shape[i] + \" at dim \" + i);\n        }\n    }\n    if (implicitIdx === -1) {\n        if (size > 0 && size !== shapeProd) {\n            throw Error(\"Size (\" + size + \") must match the product of shape \" + shape);\n        }\n        return shape;\n    }\n    if (size % shapeProd !== 0) {\n        throw Error(\"The implicit shape can't be a fractional number. \" +\n            (\"Got \" + size + \" / \" + shapeProd));\n    }\n    var newShape = shape.slice();\n    newShape[implicitIdx] = size / shapeProd;\n    return newShape;\n}\nexports.inferFromImplicitShape = inferFromImplicitShape;\nexports.NAN_INT32 = 1 << 31;\nexports.NAN_BOOL = 255;\nexports.NAN_FLOAT32 = NaN;\nfunction getNaN(dtype) {\n    if (dtype === 'float32') {\n        return exports.NAN_FLOAT32;\n    }\n    else if (dtype === 'int32') {\n        return exports.NAN_INT32;\n    }\n    else if (dtype === 'bool') {\n        return exports.NAN_BOOL;\n    }\n    else {\n        throw new Error(\"Unknown dtype \" + dtype);\n    }\n}\nexports.getNaN = getNaN;\nfunction isValNaN(val, dtype) {\n    if (dtype === 'float32') {\n        return isNaN(val);\n    }\n    else if (dtype === 'int32') {\n        return val === exports.NAN_INT32;\n    }\n    else if (dtype === 'bool') {\n        return val === exports.NAN_BOOL;\n    }\n    else {\n        throw new Error(\"Unknown dtype \" + dtype);\n    }\n}\nexports.isValNaN = isValNaN;\nfunction squeezeShape(shape) {\n    var newShape = [];\n    var keptDims = [];\n    for (var i = 0; i < shape.length; ++i) {\n        if (shape[i] > 1) {\n            newShape.push(shape[i]);\n            keptDims.push(i);\n        }\n    }\n    return { newShape: newShape, keptDims: keptDims };\n}\nexports.squeezeShape = squeezeShape;\n//# sourceMappingURL=util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/util.js\n// module id = 0\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../environment\");\nvar util = require(\"../util\");\nvar tex_util_1 = require(\"./webgl/tex_util\");\nvar webgl_util = require(\"./webgl/webgl_util\");\nexports.GPGPU = null;\nexports.TEXTURE_MANAGER = null;\nvar DType;\n(function (DType) {\n    DType[\"float32\"] = \"float32\";\n    DType[\"int32\"] = \"int32\";\n    DType[\"bool\"] = \"bool\";\n})(DType = exports.DType || (exports.DType = {}));\nfunction initializeGPU(gpgpu, textureManager) {\n    exports.GPGPU = gpgpu;\n    exports.TEXTURE_MANAGER = textureManager;\n}\nexports.initializeGPU = initializeGPU;\nfunction throwIfGPUNotInitialized() {\n    if (exports.GPGPU == null || exports.TEXTURE_MANAGER == null) {\n        throw new Error('GPU not intialized.');\n    }\n}\nvar NDArray = (function () {\n    function NDArray(shape, data, dtype) {\n        util.assert(data.values != null || data.texture != null, 'Either `values` or `texture` must be defined');\n        util.assert(data.texture == null || (data.textureShapeRC != null), '`textureShape` must be defined when `texture` is defined');\n        this.size = util.sizeFromShape(shape);\n        if (data.values != null) {\n            util.assert(this.size === data.values.length, \"Constructing ndarray of shape (\" + this.size + \") should match the \" +\n                (\"length of values (\" + data.values.length + \")\"));\n        }\n        this.shape = shape;\n        if (data.textureType == null) {\n            data.textureType = tex_util_1.TextureType.DEFAULT;\n        }\n        this.ndarrayData = data;\n        this.dtype = dtype || 'float32';\n        var dim = this.shape.length;\n        if (dim < 2) {\n            this.strides = [];\n        }\n        else {\n            this.strides = new Array(dim - 1);\n            this.strides[dim - 2] = this.shape[dim - 1];\n            for (var i = dim - 3; i >= 0; --i) {\n                this.strides[i] = this.strides[i + 1] * this.shape[i + 1];\n            }\n        }\n    }\n    NDArray.zeros = function (shape, dtype) {\n        var values = makeZerosTypedArray(util.sizeFromShape(shape), dtype);\n        return NDArray.make(shape, { values: values }, dtype);\n    };\n    NDArray.zerosLike = function (another) {\n        return NDArray.zeros(another.shape, another.dtype);\n    };\n    NDArray.like = function (another) {\n        var newValues = copyTypedArray(another.getValues(), another.dtype);\n        return NDArray.make(another.shape, { values: newValues }, another.dtype);\n    };\n    NDArray.make = function (shape, data, dtype) {\n        if (data.isDisposed) {\n            throw new Error(\"Cannot make new NDArray from disposed NDArrayData.\");\n        }\n        switch (shape.length) {\n            case 0:\n                return new Scalar(data, dtype);\n            case 1:\n                return new Array1D(data, dtype);\n            case 2:\n                return new Array2D(shape, data, dtype);\n            case 3:\n                return new Array3D(shape, data, dtype);\n            case 4:\n                return new Array4D(shape, data, dtype);\n            default:\n                return new NDArray(shape, data, dtype);\n        }\n    };\n    NDArray.fromPixels = function (pixels, numChannels) {\n        if (numChannels === void 0) { numChannels = 3; }\n        if (numChannels > 4) {\n            throw new Error('Cannot construct NDArray with more than 4 channels from pixels.');\n        }\n        var shape = [pixels.height, pixels.width, numChannels];\n        var textureShapeRC = [shape[0], shape[1]];\n        var texture = exports.TEXTURE_MANAGER.acquireTexture(textureShapeRC);\n        var textureType = tex_util_1.TextureType.RGBA_COLOR;\n        exports.GPGPU.uploadPixelDataToTexture(texture, pixels);\n        return Array3D.make(shape, { texture: texture, textureShapeRC: textureShapeRC, textureType: textureType });\n    };\n    NDArray.prototype.reshape = function (newShape) {\n        this.throwIfDisposed();\n        newShape = util.inferFromImplicitShape(newShape, this.size);\n        if (util.arraysEqual(this.shape, newShape)) {\n            return this;\n        }\n        util.assert(this.size === util.sizeFromShape(newShape), 'new shape and old shape must have the same number of elements.');\n        return NDArray.make(newShape, this.ndarrayData, this.dtype);\n    };\n    NDArray.prototype.flatten = function () {\n        if (this instanceof Array1D) {\n            return this;\n        }\n        return this.as1D();\n    };\n    NDArray.prototype.asScalar = function () {\n        util.assert(this.size === 1, 'The array must have only 1 element.');\n        return this.reshape([]);\n    };\n    NDArray.prototype.as1D = function () {\n        return this.reshape([this.size]);\n    };\n    NDArray.prototype.as2D = function (rows, columns) {\n        return this.reshape([rows, columns]);\n    };\n    NDArray.prototype.as3D = function (rows, columns, depth) {\n        return this.reshape([rows, columns, depth]);\n    };\n    NDArray.prototype.as4D = function (rows, columns, depth, depth2) {\n        return this.reshape([rows, columns, depth, depth2]);\n    };\n    NDArray.prototype.asType = function (dtype) {\n        this.throwIfDisposed();\n        var newData = this.getData();\n        if (newData.values != null) {\n            newData = { values: toTypedArray(newData.values, dtype) };\n        }\n        return NDArray.make(this.shape, newData, dtype);\n    };\n    Object.defineProperty(NDArray.prototype, \"rank\", {\n        get: function () {\n            this.throwIfDisposed();\n            return this.shape.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NDArray.prototype.get = function () {\n        var locs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            locs[_i] = arguments[_i];\n        }\n        this.throwIfDisposed();\n        var index = locs[locs.length - 1];\n        for (var i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        return this.getValues()[index];\n    };\n    NDArray.prototype.add = function (value) {\n        var locs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            locs[_i - 1] = arguments[_i];\n        }\n        this.throwIfDisposed();\n        this.set.apply(this, [this.get.apply(this, locs) + value].concat(locs));\n    };\n    NDArray.prototype.set = function (value) {\n        var locs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            locs[_i - 1] = arguments[_i];\n        }\n        this.throwIfDisposed();\n        var index = locs[locs.length - 1];\n        for (var i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        this.getValues()[index] = value;\n    };\n    NDArray.prototype.val = function () {\n        var locs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            locs[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.throwIfDisposed();\n                        return [4, this.data()];\n                    case 1:\n                        _a.sent();\n                        return [2, this.get.apply(this, locs)];\n                }\n            });\n        });\n    };\n    NDArray.prototype.locToIndex = function (locs) {\n        var index = locs[locs.length - 1];\n        for (var i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        return index;\n    };\n    NDArray.prototype.indexToLoc = function (index) {\n        var locs = new Array(this.shape.length);\n        for (var i = 0; i < locs.length - 1; ++i) {\n            locs[i] = Math.floor(index / this.strides[i]);\n            index -= locs[i] * this.strides[i];\n        }\n        locs[locs.length - 1] = index;\n        return locs;\n    };\n    NDArray.prototype.fill = function (value) {\n        this.throwIfDisposed();\n        this.getValues().fill(value);\n    };\n    NDArray.prototype.getData = function () {\n        return this.ndarrayData;\n    };\n    NDArray.prototype.getValues = function () {\n        return this.dataSync();\n    };\n    NDArray.prototype.getValuesAsync = function () {\n        return this.data();\n    };\n    NDArray.prototype.data = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, queryFn;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.throwIfDisposed();\n                        if (this.ndarrayData.values != null) {\n                            return [2, this.ndarrayData.values];\n                        }\n                        if (!(environment_1.ENV.get('WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED') &&\n                            this.ndarrayData.textureType === tex_util_1.TextureType.DEFAULT)) return [3, 2];\n                        _a = this.ndarrayData;\n                        return [4, exports.GPGPU.downloadMatrixFromTextureAsync(this.ndarrayData.texture, this.ndarrayData.textureShapeRC[0], this.ndarrayData.textureShapeRC[1])];\n                    case 1:\n                        _a.values = _b.sent();\n                        return [2, this.ndarrayData.values];\n                    case 2:\n                        if (!!environment_1.ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED')) return [3, 4];\n                        return [4, this.dataSync()];\n                    case 3: return [2, _b.sent()];\n                    case 4:\n                        queryFn = function () { };\n                        return [4, exports.GPGPU.runQuery(queryFn)];\n                    case 5:\n                        _b.sent();\n                        return [2, this.dataSync()];\n                }\n            });\n        });\n    };\n    NDArray.prototype.dataSync = function () {\n        this.throwIfDisposed();\n        if (this.ndarrayData.values == null) {\n            throwIfGPUNotInitialized();\n            var values = void 0;\n            if (this.ndarrayData.textureType === tex_util_1.TextureType.DEFAULT) {\n                values = exports.GPGPU.downloadMatrixFromTexture(this.ndarrayData.texture, this.ndarrayData.textureShapeRC[0], this.ndarrayData.textureShapeRC[1]);\n            }\n            else {\n                values = exports.GPGPU.downloadMatrixFromRGBAColorTexture(this.ndarrayData.texture, this.ndarrayData.textureShapeRC[0], this.ndarrayData.textureShapeRC[1], this.shape[2]);\n            }\n            this.ndarrayData.values = float32ToTypedArray(values, this.dtype);\n            this.disposeTexture();\n        }\n        return this.ndarrayData.values;\n    };\n    NDArray.prototype.uploadToGPU = function () {\n        throwIfGPUNotInitialized();\n        this.throwIfDisposed();\n        this.ndarrayData.textureShapeRC =\n            webgl_util.getTextureShapeFromLogicalShape(exports.GPGPU.gl, this.shape);\n        this.ndarrayData.texture =\n            exports.TEXTURE_MANAGER.acquireTexture(this.ndarrayData.textureShapeRC);\n        this.ndarrayData.textureType = tex_util_1.TextureType.DEFAULT;\n        exports.GPGPU.uploadMatrixToTexture(this.ndarrayData.texture, this.ndarrayData.textureShapeRC[0], this.ndarrayData.textureShapeRC[1], typedArrayToFloat32(this.ndarrayData.values, this.dtype));\n        this.ndarrayData.values = null;\n    };\n    NDArray.prototype.getTexture = function () {\n        this.throwIfDisposed();\n        if (this.ndarrayData.texture == null) {\n            this.uploadToGPU();\n        }\n        return this.ndarrayData.texture;\n    };\n    NDArray.prototype.getTextureShapeRC = function () {\n        this.throwIfDisposed();\n        if (this.ndarrayData.textureShapeRC == null) {\n            this.uploadToGPU();\n        }\n        return this.ndarrayData.textureShapeRC;\n    };\n    NDArray.prototype.throwIfDisposed = function () {\n        if (this.ndarrayData.isDisposed) {\n            throw new Error(\"NDArray is disposed.\");\n        }\n    };\n    NDArray.prototype.dispose = function () {\n        this.ndarrayData.values = null;\n        this.shape = null;\n        this.ndarrayData.isDisposed = true;\n        if (this.ndarrayData.texture != null) {\n            this.disposeTexture();\n        }\n    };\n    NDArray.prototype.disposeTexture = function () {\n        throwIfGPUNotInitialized();\n        exports.TEXTURE_MANAGER.releaseTexture(this.ndarrayData.texture, this.ndarrayData.textureShapeRC);\n        this.ndarrayData.texture = null;\n        this.ndarrayData.textureShapeRC = null;\n        this.ndarrayData.textureType = null;\n    };\n    NDArray.prototype.inGPU = function () {\n        this.throwIfDisposed();\n        return this.ndarrayData.texture != null;\n    };\n    NDArray.prototype.equals = function (t) {\n        this.throwIfDisposed();\n        return this.dtype === t.dtype && util.arraysEqual(this.shape, t.shape) &&\n            util.arraysEqual(this.getValues(), t.getValues());\n    };\n    NDArray.rand = function (shape, randFunction) {\n        var size = util.sizeFromShape(shape);\n        var values = new Float32Array(size);\n        for (var i = 0; i < size; i++) {\n            values[i] = randFunction();\n        }\n        return NDArray.make(shape, { values: values });\n    };\n    NDArray.randNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev); });\n    };\n    NDArray.randTruncatedNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev, true); });\n    };\n    NDArray.randUniform = function (shape, a, b) {\n        return NDArray.rand(shape, function () { return util.randUniform(a, b); });\n    };\n    return NDArray;\n}());\nexports.NDArray = NDArray;\nvar Scalar = (function (_super) {\n    __extends(Scalar, _super);\n    function Scalar(data, dtype) {\n        var _this = this;\n        if (data.texture != null) {\n            data.textureShapeRC = [1, 1];\n        }\n        _this = _super.call(this, [], data, dtype) || this;\n        return _this;\n    }\n    Scalar.new = function (value, dtype) {\n        var values = [value];\n        return new Scalar({ values: toTypedArray(values, dtype) }, dtype);\n    };\n    Scalar.prototype.get = function () {\n        return this.getValues()[0];\n    };\n    Scalar.prototype.val = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.data()];\n                    case 1:\n                        _a.sent();\n                        return [2, this.get()];\n                }\n            });\n        });\n    };\n    Scalar.prototype.set = function (value) {\n        this.getValues()[0] = value;\n    };\n    Scalar.prototype.add = function (value) {\n        this.getValues()[0] += value;\n    };\n    Scalar.prototype.asType = function (dtype) {\n        return _super.prototype.asType.call(this, dtype);\n    };\n    Scalar.prototype.locToIndex = function (loc) {\n        return 0;\n    };\n    Scalar.prototype.indexToLoc = function (index) {\n        return [];\n    };\n    Scalar.ZERO = Scalar.new(0);\n    Scalar.ONE = Scalar.new(1);\n    Scalar.TWO = Scalar.new(2);\n    Scalar.NEG_ONE = Scalar.new(-1);\n    return Scalar;\n}(NDArray));\nexports.Scalar = Scalar;\nvar Array1D = (function (_super) {\n    __extends(Array1D, _super);\n    function Array1D(data, dtype) {\n        var _this = this;\n        var shape = (data.values != null) ?\n            [data.values.length] :\n            [util.sizeFromShape(data.textureShapeRC)];\n        _this = _super.call(this, shape, data, dtype) || this;\n        return _this;\n    }\n    Array1D.new = function (values, dtype) {\n        if (!instanceofTypedArray(values)) {\n            var inferredShape = util.inferShape(values);\n            util.assert(inferredShape.length === 1, \"Error constructing Array1D. Shape of values \" + inferredShape + \" is \" +\n                \"not 1 dimensional.\");\n        }\n        return new Array1D({ values: toTypedArray(values, dtype) }, dtype);\n    };\n    Array1D.prototype.get = function (i) {\n        return this.getValues()[i];\n    };\n    Array1D.prototype.set = function (value, i) {\n        this.getValues()[i] = value;\n    };\n    Array1D.prototype.val = function (i) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.data()];\n                    case 1:\n                        _a.sent();\n                        return [2, this.get(i)];\n                }\n            });\n        });\n    };\n    Array1D.prototype.add = function (value, i) {\n        this.getValues()[i] += value;\n    };\n    Array1D.prototype.locToIndex = function (loc) {\n        return loc[0];\n    };\n    Array1D.prototype.indexToLoc = function (index) {\n        return [index];\n    };\n    Array1D.prototype.asType = function (dtype) {\n        return _super.prototype.asType.call(this, dtype);\n    };\n    Array1D.zeros = function (shape, dtype) {\n        return NDArray.zeros(shape, dtype);\n    };\n    Array1D.randNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev); });\n    };\n    Array1D.randTruncatedNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev, true); });\n    };\n    Array1D.randUniform = function (shape, a, b) {\n        return NDArray.rand(shape, function () { return util.randUniform(a, b); });\n    };\n    return Array1D;\n}(NDArray));\nexports.Array1D = Array1D;\nvar Array2D = (function (_super) {\n    __extends(Array2D, _super);\n    function Array2D(shape, data, dtype) {\n        var _this = this;\n        util.assert(shape.length === 2, 'Shape should be of length 2');\n        _this = _super.call(this, shape, data, dtype) || this;\n        _this.stride0 = _this.strides[0];\n        return _this;\n    }\n    Array2D.new = function (shape, values, dtype) {\n        if (!instanceofTypedArray(values)) {\n            var inferredShape = util.inferShape(values);\n            if (inferredShape.length > 1) {\n                util.assertShapesMatch(shape, inferredShape, \"Error when constructing Array2D. Shape of values \" +\n                    (inferredShape + \" does not match the provided shape \") +\n                    (shape + \". \"));\n            }\n        }\n        return new Array2D(shape, { values: toTypedArray(values, dtype) }, dtype);\n    };\n    Array2D.prototype.get = function (i, j) {\n        return this.getValues()[this.stride0 * i + j];\n    };\n    Array2D.prototype.set = function (value, i, j) {\n        this.getValues()[this.stride0 * i + j] = value;\n    };\n    Array2D.prototype.add = function (value, i, j) {\n        this.getValues()[this.stride0 * i + j] += value;\n    };\n    Array2D.prototype.val = function (i, j) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.data()];\n                    case 1:\n                        _a.sent();\n                        return [2, this.get(i, j)];\n                }\n            });\n        });\n    };\n    Array2D.prototype.locToIndex = function (locs) {\n        return this.stride0 * locs[0] + locs[1];\n    };\n    Array2D.prototype.indexToLoc = function (index) {\n        return [Math.floor(index / this.stride0), index % this.stride0];\n    };\n    Array2D.prototype.asType = function (dtype) {\n        return _super.prototype.asType.call(this, dtype);\n    };\n    Array2D.zeros = function (shape, dtype) {\n        return NDArray.zeros(shape, dtype);\n    };\n    Array2D.randNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev); });\n    };\n    Array2D.randTruncatedNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev, true); });\n    };\n    Array2D.randUniform = function (shape, a, b) {\n        return NDArray.rand(shape, function () { return util.randUniform(a, b); });\n    };\n    return Array2D;\n}(NDArray));\nexports.Array2D = Array2D;\nvar Array3D = (function (_super) {\n    __extends(Array3D, _super);\n    function Array3D(shape, data, dtype) {\n        var _this = this;\n        util.assert(shape.length === 3, 'Shape should be of length 3');\n        _this = _super.call(this, shape, data, dtype) || this;\n        _this.stride0 = _this.strides[0];\n        _this.stride1 = _this.strides[1];\n        return _this;\n    }\n    Array3D.new = function (shape, values, dtype) {\n        if (!instanceofTypedArray(values)) {\n            var inferredShape = util.inferShape(values);\n            if (inferredShape.length > 1) {\n                util.assertShapesMatch(shape, inferredShape, \"Error when constructing Array3D. Shape of values \" +\n                    (inferredShape + \" does not match the provided shape \") +\n                    (shape + \". \"));\n            }\n        }\n        return new Array3D(shape, { values: toTypedArray(values, dtype) }, dtype);\n    };\n    Array3D.prototype.get = function (i, j, k) {\n        return this.getValues()[this.stride0 * i + this.stride1 * j + k];\n    };\n    Array3D.prototype.set = function (value, i, j, k) {\n        this.getValues()[this.stride0 * i + this.stride1 * j + k] = value;\n    };\n    Array3D.prototype.val = function (i, j, k) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.data()];\n                    case 1:\n                        _a.sent();\n                        return [2, this.get(i, j, k)];\n                }\n            });\n        });\n    };\n    Array3D.prototype.add = function (value, i, j, k) {\n        this.getValues()[this.stride0 * i + this.stride1 * j + k] += value;\n    };\n    Array3D.prototype.locToIndex = function (locs) {\n        return this.stride0 * locs[0] + this.stride1 * locs[1] + locs[2];\n    };\n    Array3D.prototype.indexToLoc = function (index) {\n        var i = Math.floor(index / this.stride0);\n        index -= i * this.stride0;\n        return [i, Math.floor(index / this.stride1), index % this.stride1];\n    };\n    Array3D.prototype.asType = function (dtype) {\n        return _super.prototype.asType.call(this, dtype);\n    };\n    Array3D.zeros = function (shape, dtype) {\n        return NDArray.zeros(shape, dtype);\n    };\n    Array3D.randNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev); });\n    };\n    Array3D.randTruncatedNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev, true); });\n    };\n    Array3D.randUniform = function (shape, a, b) {\n        return NDArray.rand(shape, function () { return util.randUniform(a, b); });\n    };\n    return Array3D;\n}(NDArray));\nexports.Array3D = Array3D;\nvar Array4D = (function (_super) {\n    __extends(Array4D, _super);\n    function Array4D(shape, data, dtype) {\n        var _this = this;\n        util.assert(shape.length === 4, 'Shape should be of length 4');\n        _this = _super.call(this, shape, data, dtype) || this;\n        _this.stride0 = _this.strides[0];\n        _this.stride1 = _this.strides[1];\n        _this.stride2 = _this.strides[2];\n        return _this;\n    }\n    Array4D.new = function (shape, values, dtype) {\n        if (!instanceofTypedArray(values)) {\n            var inferredShape = util.inferShape(values);\n            if (inferredShape.length > 1) {\n                util.assertShapesMatch(shape, inferredShape, \"Error when constructing Array4D. Shape of values \" +\n                    (inferredShape + \" does not match the provided shape \") +\n                    (shape + \". \"));\n            }\n        }\n        return new Array4D(shape, { values: toTypedArray(values, dtype) }, dtype);\n    };\n    Array4D.prototype.get = function (i, j, k, l) {\n        return this.getValues()[this.stride0 * i + this.stride1 * j + this.stride2 * k + l];\n    };\n    Array4D.prototype.set = function (value, i, j, k, l) {\n        this.getValues()[this.stride0 * i + this.stride1 * j + this.stride2 * k + l] = value;\n    };\n    Array4D.prototype.val = function (i, j, k, l) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.data()];\n                    case 1:\n                        _a.sent();\n                        return [2, this.get(i, j, k, l)];\n                }\n            });\n        });\n    };\n    Array4D.prototype.add = function (value, i, j, k, l) {\n        this.getValues()[this.stride0 * i + this.stride1 * j + this.stride2 * k + l] += value;\n    };\n    Array4D.prototype.locToIndex = function (locs) {\n        return this.stride0 * locs[0] + this.stride1 * locs[1] +\n            this.stride2 * locs[2] + locs[3];\n    };\n    Array4D.prototype.indexToLoc = function (index) {\n        var i = Math.floor(index / this.stride0);\n        index -= i * this.stride0;\n        var j = Math.floor(index / this.stride1);\n        index -= j * this.stride1;\n        return [i, j, Math.floor(index / this.stride2), index % this.stride2];\n    };\n    Array4D.prototype.asType = function (dtype) {\n        return _super.prototype.asType.call(this, dtype);\n    };\n    Array4D.zeros = function (shape, dtype) {\n        return NDArray.zeros(shape, dtype);\n    };\n    Array4D.randNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev); });\n    };\n    Array4D.randTruncatedNormal = function (shape, mean, stdDev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        return NDArray.rand(shape, function () { return util.randGauss(mean, stdDev, true); });\n    };\n    Array4D.randUniform = function (shape, a, b) {\n        return NDArray.rand(shape, function () { return util.randUniform(a, b); });\n    };\n    return Array4D;\n}(NDArray));\nexports.Array4D = Array4D;\nfunction copyTypedArray(array, dtype) {\n    if (dtype == null || dtype === 'float32') {\n        return new Float32Array(array);\n    }\n    else if (dtype === 'int32') {\n        return new Int32Array(array);\n    }\n    else if (dtype === 'bool') {\n        var bool = new Uint8Array(array.length);\n        for (var i = 0; i < bool.length; ++i) {\n            var val = array[i];\n            if (util.isValNaN(val, 'bool')) {\n                bool[i] = util.getNaN('bool');\n            }\n            else if (val) {\n                bool[i] = 1;\n            }\n        }\n        return bool;\n    }\n    else {\n        throw new Error(\"Unknown data type \" + dtype);\n    }\n}\nfunction instanceofTypedArray(a) {\n    return a instanceof Float32Array || a instanceof Int32Array ||\n        a instanceof Uint8Array;\n}\nfunction noConversionNeeded(a, dtype) {\n    return (a instanceof Float32Array && dtype === 'float32') ||\n        (a instanceof Int32Array && dtype === 'int32') ||\n        (a instanceof Uint8Array && dtype === 'bool');\n}\nfunction toTypedArray(a, dtype) {\n    if (noConversionNeeded(a, dtype)) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        a = util.flatten(a);\n    }\n    return copyTypedArray(a, dtype);\n}\nfunction makeZerosTypedArray(size, dtype) {\n    if (dtype == null || dtype === 'float32') {\n        return new Float32Array(size);\n    }\n    else if (dtype === 'int32') {\n        return new Int32Array(size);\n    }\n    else if (dtype === 'bool') {\n        return new Uint8Array(size);\n    }\n    else {\n        throw new Error(\"Unknown data type \" + dtype);\n    }\n}\nfunction typedArrayToFloat32(a, dtype) {\n    if (a instanceof Float32Array) {\n        return a;\n    }\n    else {\n        var res = new Float32Array(a.length);\n        for (var i = 0; i < res.length; i++) {\n            var val = a[i];\n            res[i] = util.isValNaN(val, dtype) ? NaN : val;\n        }\n        return res;\n    }\n}\nfunction float32ToTypedArray(a, dtype) {\n    if (dtype === 'float32') {\n        return a;\n    }\n    else if (dtype === 'int32' || dtype === 'bool') {\n        var result = (dtype === 'int32') ? new Int32Array(a.length) :\n            new Uint8Array(a.length);\n        for (var i = 0; i < result.length; ++i) {\n            var val = a[i];\n            val = isNaN(val) ? util.getNaN(dtype) : Math.round(val);\n            result[i] = val;\n        }\n        return result;\n    }\n    else {\n        throw new Error(\"Unknown dtype \" + dtype);\n    }\n}\n//# sourceMappingURL=ndarray.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/ndarray.js\n// module id = 1\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Operation = (function () {\n    function Operation() {\n    }\n    Operation.prototype.disposeTransientArrays = function (inferenceArrays, gradientArrays) { };\n    Operation.prototype.dispose = function () { };\n    return Operation;\n}());\nexports.Operation = Operation;\n//# sourceMappingURL=op.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/op.js\n// module id = 2\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graph_1 = require(\"./graph\");\nvar priority_queue = require(\"./priority_queue\");\nvar priority_queue_1 = require(\"./priority_queue\");\nfunction getUnorderedEvaluationSet(nodes, terminatingNodes) {\n    var terminatingNodeMap = {};\n    var seen = {};\n    var set = [];\n    var visit = nodes.slice();\n    terminatingNodes.forEach(function (node) { return terminatingNodeMap[node.id] = node; });\n    var _loop_1 = function () {\n        var cur = visit.pop();\n        if (seen[cur.id] == null) {\n            if (terminatingNodeMap[cur.id] == null) {\n                Object.keys(cur.inputs)\n                    .map(function (inputName) { return cur.inputs[inputName]; })\n                    .forEach(function (input) { return visit.push(input.node); });\n            }\n            set.push(cur);\n            seen[cur.id] = cur;\n        }\n    };\n    while (visit.length !== 0) {\n        _loop_1();\n    }\n    return set;\n}\nexports.getUnorderedEvaluationSet = getUnorderedEvaluationSet;\nfunction getOrderedEvaluationSet(unorderedEvaluationSet) {\n    var set = [];\n    var nodeIndices = {};\n    var pendingDependencies = {};\n    var nodeQueue = new priority_queue_1.PriorityQueue(function (a, b) { return priority_queue.defaultCompare(pendingDependencies[a.id], pendingDependencies[b.id]); }, function (node, newIndex) { return nodeIndices[node.id] = newIndex; });\n    unorderedEvaluationSet.forEach(function (node) { return pendingDependencies[node.id] = 0; });\n    unorderedEvaluationSet.forEach(function (node) { return Object.keys(node.inputs)\n        .map(function (key) { return node.inputs[key]; })\n        .forEach(function (input) {\n        if (unorderedEvaluationSet.indexOf(input.node) !== -1) {\n            pendingDependencies[input.node.id]++;\n        }\n    }); });\n    unorderedEvaluationSet.forEach(function (node) { return nodeQueue.enqueue(node); });\n    while (!nodeQueue.empty()) {\n        set.unshift(nodeQueue.dequeue());\n        Object.keys(set[0].inputs).map(function (key) { return set[0].inputs[key]; }).forEach(function (input) {\n            if (unorderedEvaluationSet.indexOf(input.node) === -1) {\n                return;\n            }\n            pendingDependencies[input.node.id]--;\n            nodeQueue.update(input.node, nodeIndices[input.node.id]);\n        });\n    }\n    return set;\n}\nexports.getOrderedEvaluationSet = getOrderedEvaluationSet;\nfunction isInputNode(node) {\n    return Object.keys(node.inputs).length === 0;\n}\nexports.isInputNode = isInputNode;\nfunction shouldBackProp(t) {\n    return !(t.node instanceof graph_1.ConstantNode);\n}\nexports.shouldBackProp = shouldBackProp;\nfunction isPassthroughNode(node, map) {\n    var keys = Object.keys(node.inputs);\n    for (var i = 0; i < keys.length; i++) {\n        var input = node.inputs[keys[i]];\n        if (map.get(input, true) === map.get(node.output, true)) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.isPassthroughNode = isPassthroughNode;\n//# sourceMappingURL=graph_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/graph_util.js\n// module id = 3\n// module chunks = 0","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 4\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar device_util = require(\"./device_util\");\nvar util = require(\"./util\");\nvar Type;\n(function (Type) {\n    Type[Type[\"NUMBER\"] = 0] = \"NUMBER\";\n    Type[Type[\"BOOLEAN\"] = 1] = \"BOOLEAN\";\n})(Type = exports.Type || (exports.Type = {}));\nexports.URL_PROPERTIES = [\n    { name: 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED', type: Type.BOOLEAN },\n    { name: 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE', type: Type.BOOLEAN },\n    { name: 'WEBGL_VERSION', type: Type.NUMBER },\n    { name: 'WEBGL_FLOAT_TEXTURE_ENABLED', type: Type.BOOLEAN }, {\n        name: 'WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED',\n        type: Type.BOOLEAN\n    }\n];\nfunction getWebGLRenderingContext(webGLVersion) {\n    if (webGLVersion === 0) {\n        throw new Error('Cannot get WebGL rendering context, WebGL is disabled.');\n    }\n    var tempCanvas = document.createElement('canvas');\n    if (webGLVersion === 1) {\n        return (tempCanvas.getContext('webgl') ||\n            tempCanvas.getContext('experimental-webgl'));\n    }\n    return tempCanvas.getContext('webgl2');\n}\nfunction loseContext(gl) {\n    if (gl != null) {\n        var loseContextExtension = gl.getExtension('WEBGL_lose_context');\n        if (loseContextExtension == null) {\n            throw new Error('Extension WEBGL_lose_context not supported on this browser.');\n        }\n        loseContextExtension.loseContext();\n    }\n}\nfunction isWebGLVersionEnabled(webGLVersion) {\n    var gl = getWebGLRenderingContext(webGLVersion);\n    if (gl != null) {\n        loseContext(gl);\n        return true;\n    }\n    return false;\n}\nfunction isWebGLDisjointQueryTimerEnabled(webGLVersion) {\n    var gl = getWebGLRenderingContext(webGLVersion);\n    var extensionName = webGLVersion === 1 ? 'EXT_disjoint_timer_query' :\n        'EXT_disjoint_timer_query_webgl2';\n    var ext = gl.getExtension(extensionName);\n    var isExtEnabled = ext != null;\n    if (gl != null) {\n        loseContext(gl);\n    }\n    return isExtEnabled;\n}\nfunction isFloatTextureReadPixelsEnabled(webGLVersion) {\n    if (webGLVersion === 0) {\n        return false;\n    }\n    var gl = getWebGLRenderingContext(webGLVersion);\n    if (webGLVersion === 1) {\n        if (gl.getExtension('OES_texture_float') == null) {\n            return false;\n        }\n    }\n    else {\n        if (gl.getExtension('EXT_color_buffer_float') == null) {\n            return false;\n        }\n    }\n    var frameBuffer = gl.createFramebuffer();\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    var internalFormat = webGLVersion === 2 ? gl.RGBA32F : gl.RGBA;\n    gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 1, 1, 0, gl.RGBA, gl.FLOAT, null);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    var frameBufferComplete = (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE);\n    gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, new Float32Array(4));\n    var readPixelsNoError = gl.getError() === gl.NO_ERROR;\n    loseContext(gl);\n    return frameBufferComplete && readPixelsNoError;\n}\nfunction isWebGLGetBufferSubDataAsyncExtensionEnabled(webGLVersion) {\n    if (webGLVersion !== 2) {\n        return false;\n    }\n    var gl = getWebGLRenderingContext(webGLVersion);\n    var ext = gl.getExtension('WEBGL_get_buffer_sub_data_async');\n    var isEnabled = ext != null;\n    loseContext(gl);\n    return isEnabled;\n}\nvar Environment = (function () {\n    function Environment(features) {\n        this.features = {};\n        if (features != null) {\n            this.features = features;\n        }\n    }\n    Environment.prototype.get = function (feature) {\n        if (feature in this.features) {\n            return this.features[feature];\n        }\n        this.features[feature] = this.evaluateFeature(feature);\n        return this.features[feature];\n    };\n    Environment.prototype.evaluateFeature = function (feature) {\n        if (feature === 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED') {\n            var webGLVersion = this.get('WEBGL_VERSION');\n            if (webGLVersion === 0) {\n                return false;\n            }\n            return isWebGLDisjointQueryTimerEnabled(webGLVersion);\n        }\n        else if (feature === 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE') {\n            return this.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_ENABLED') &&\n                !device_util.isMobile();\n        }\n        else if (feature === 'WEBGL_VERSION') {\n            if (isWebGLVersionEnabled(2)) {\n                return 2;\n            }\n            else if (isWebGLVersionEnabled(1)) {\n                return 1;\n            }\n            return 0;\n        }\n        else if (feature === 'WEBGL_FLOAT_TEXTURE_ENABLED') {\n            return isFloatTextureReadPixelsEnabled(this.get('WEBGL_VERSION'));\n        }\n        else if (feature === 'WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED') {\n            return isWebGLGetBufferSubDataAsyncExtensionEnabled(this.get('WEBGL_VERSION'));\n        }\n        throw new Error(\"Unknown feature \" + feature + \".\");\n    };\n    return Environment;\n}());\nexports.Environment = Environment;\nvar DEEPLEARNJS_FLAGS_PREFIX = 'dljsflags';\nfunction getFeaturesFromURL() {\n    var features = {};\n    if (typeof window === 'undefined') {\n        return features;\n    }\n    var urlParams = util.getQueryParams(window.location.search);\n    if (DEEPLEARNJS_FLAGS_PREFIX in urlParams) {\n        var urlFlags_1 = {};\n        var keyValues = urlParams[DEEPLEARNJS_FLAGS_PREFIX].split(',');\n        keyValues.forEach(function (keyValue) {\n            var _a = keyValue.split(':'), key = _a[0], value = _a[1];\n            urlFlags_1[key] = value;\n        });\n        exports.URL_PROPERTIES.forEach(function (urlProperty) {\n            if (urlProperty.name in urlFlags_1) {\n                console.log(\"Setting feature override from URL \" + urlProperty.name + \": \" +\n                    (\"\" + urlFlags_1[urlProperty.name]));\n                if (urlProperty.type === Type.NUMBER) {\n                    features[urlProperty.name] = +urlFlags_1[urlProperty.name];\n                }\n                else if (urlProperty.type === Type.BOOLEAN) {\n                    features[urlProperty.name] = urlFlags_1[urlProperty.name] === 'true';\n                }\n                else {\n                    console.warn(\"Unknown URL param: \" + urlProperty.name + \".\");\n                }\n            }\n        });\n    }\n    return features;\n}\nexports.ENV = new Environment(getFeaturesFromURL());\nfunction setEnvironment(environment) {\n    exports.ENV = environment;\n}\nexports.setEnvironment = setEnvironment;\n//# sourceMappingURL=environment.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/environment.js\n// module id = 5\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TensorArrayMapBase = (function () {\n    function TensorArrayMapBase() {\n        this.dict = {};\n    }\n    TensorArrayMapBase.prototype.get = function (tensor, skipChecks) {\n        if (skipChecks === void 0) { skipChecks = false; }\n        if (!skipChecks && this.dict[tensor.id] === undefined) {\n            throw new Error(\"tensor \" + tensor.id + \" not in array map.\");\n        }\n        var nda = this.dict[tensor.id];\n        if (!skipChecks && nda === null) {\n            throw new Error(\"tensor \" + tensor.id + \" has null array.\");\n        }\n        return nda;\n    };\n    TensorArrayMapBase.prototype.delete = function (tensor) {\n        delete this.dict[tensor.id];\n    };\n    TensorArrayMapBase.prototype.nullify = function (tensor) {\n        this.dict[tensor.id] = null;\n    };\n    TensorArrayMapBase.prototype.disposeArray = function (tensor) {\n        if (this.dict[tensor.id] === undefined) {\n            return;\n        }\n        var nda = this.dict[tensor.id];\n        if (nda === null) {\n            return;\n        }\n        nda.dispose();\n        this.dict[tensor.id] = null;\n    };\n    TensorArrayMapBase.prototype.size = function () {\n        return Object.keys(this.dict).length;\n    };\n    TensorArrayMapBase.prototype.dispose = function () {\n        var _this = this;\n        Object.keys(this.dict).forEach(function (tensorID) {\n            var nda = _this.dict[+tensorID];\n            if (nda) {\n                nda.dispose();\n            }\n        });\n        this.dict = {};\n    };\n    TensorArrayMapBase.prototype.hasNullArray = function (tensor) {\n        if (this.dict[tensor.id] === undefined) {\n            throw new Error(\"tensor \" + tensor.id + \" not in array map.\");\n        }\n        return this.dict[tensor.id] === null;\n    };\n    return TensorArrayMapBase;\n}());\nexports.TensorArrayMapBase = TensorArrayMapBase;\nvar TensorArrayMap = (function (_super) {\n    __extends(TensorArrayMap, _super);\n    function TensorArrayMap() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TensorArrayMap.prototype.set = function (tensor, array) {\n        this.dict[tensor.id] = array;\n    };\n    return TensorArrayMap;\n}(TensorArrayMapBase));\nexports.TensorArrayMap = TensorArrayMap;\nvar SummedTensorArrayMap = (function (_super) {\n    __extends(SummedTensorArrayMap, _super);\n    function SummedTensorArrayMap(math) {\n        var _this = _super.call(this) || this;\n        _this.math = math;\n        return _this;\n    }\n    SummedTensorArrayMap.prototype.add = function (tensor, array) {\n        if (this.dict[tensor.id] == null) {\n            this.dict[tensor.id] = this.math.keep(array);\n        }\n        else {\n            var oldValue = this.get(tensor);\n            var newValue = this.math.keep(this.math.addStrict(oldValue, array));\n            this.dict[tensor.id] = newValue;\n            oldValue.dispose();\n        }\n    };\n    return SummedTensorArrayMap;\n}(TensorArrayMapBase));\nexports.SummedTensorArrayMap = SummedTensorArrayMap;\n//# sourceMappingURL=tensor_array_map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/tensor_array_map.js\n// module id = 6\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar session_util = require(\"../session_util\");\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar Optimizer = (function () {\n    function Optimizer(learningRate, specifiedVariableList) {\n        this.learningRate = learningRate;\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n        this.one = ndarray_1.Scalar.new(1);\n        if (specifiedVariableList != null) {\n            this.specifiedVariableNodes = specifiedVariableList;\n        }\n    }\n    Optimizer.prototype.beforeBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        this.variableNodes = this.specifiedVariableNodes == null ?\n            session_util.getVariableNodesFromEvaluationSet(runtime.nodes) :\n            this.specifiedVariableNodes;\n        if (batchSize !== this.prevBatchSize) {\n            if (this.c != null) {\n                this.c.dispose();\n            }\n            this.prevBatchSize = batchSize;\n            this.c = ndarray_1.Scalar.new(-this.learningRate / batchSize);\n        }\n        this.variableNodes.forEach(function (node) { return _this.variableGradients.set(node.output, ndarray_1.NDArray.zeros(node.output.shape)); });\n    };\n    Optimizer.prototype.afterExample = function (math, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var gradient = gradientArrayMap.get(node.output);\n                var accumulatedGradient = _this.variableGradients.get(node.output);\n                _this.variableGradients.set(node.output, keep(math.add(gradient, accumulatedGradient)));\n                accumulatedGradient.dispose();\n            });\n        });\n    };\n    Optimizer.prototype.dispose = function () {\n        if (this.c != null) {\n            this.c.dispose();\n        }\n        this.one.dispose();\n    };\n    return Optimizer;\n}());\nexports.Optimizer = Optimizer;\n//# sourceMappingURL=optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/optimizer.js\n// module id = 7\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../util\");\nfunction computeDepthwiseConv2DInfo(inShape, filterShape, strides, pad) {\n    var filterHeight = filterShape[0], filterWidth = filterShape[1], inChannels = filterShape[2], channelMul = filterShape[3];\n    var _a = parseTupleParam(strides), strideHeight = _a[0], strideWidth = _a[1];\n    var inHeight = inShape[1];\n    var inWidth = inShape[2];\n    var batchSize = inShape[0];\n    var _b = getPadAndOutInfo(pad, inHeight, inWidth, strideHeight, strideWidth, filterHeight, filterWidth), padInfo = _b.padInfo, outHeight = _b.outHeight, outWidth = _b.outWidth;\n    var outChannels = inChannels * channelMul;\n    var outShape = [batchSize, outHeight, outWidth, outChannels];\n    return {\n        inShape: inShape,\n        outShape: outShape,\n        channelMul: channelMul,\n        strideHeight: strideHeight,\n        strideWidth: strideWidth,\n        filterHeight: filterHeight,\n        filterWidth: filterWidth,\n        padInfo: padInfo\n    };\n}\nexports.computeDepthwiseConv2DInfo = computeDepthwiseConv2DInfo;\nfunction computeConv2DInfo(inShape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad) {\n    var inHeight = inShape[0];\n    var inWidth = inShape[1];\n    var _a = getPadAndOutInfo(pad, inHeight, inWidth, strideHeight, strideWidth, filterHeight, filterWidth), padInfo = _a.padInfo, outHeight = _a.outHeight, outWidth = _a.outWidth;\n    var outShape = [outHeight, outWidth, outDepth];\n    return {\n        inShape: inShape,\n        outShape: outShape,\n        padInfo: padInfo,\n        strideHeight: strideHeight,\n        strideWidth: strideWidth,\n        filterHeight: filterHeight,\n        filterWidth: filterWidth\n    };\n}\nexports.computeConv2DInfo = computeConv2DInfo;\nfunction computeOutputShape3D(inShape, fieldSize, outDepth, stride, zeroPad) {\n    if (zeroPad == null) {\n        zeroPad = computeDefaultPad(inShape, fieldSize, stride);\n    }\n    var inputRows = inShape[0];\n    var inputCols = inShape[1];\n    var outputRows = (inputRows - fieldSize + 2 * zeroPad) / stride + 1;\n    util.assert(util.isInt(outputRows), \"The output # of rows (\" + outputRows + \") must be an integer. Change the \" +\n        \"stride and/or zero pad parameters\");\n    var outputCols = (inputCols - fieldSize + 2 * zeroPad) / stride + 1;\n    util.assert(util.isInt(outputCols), \"The output # of columns (\" + outputCols + \") must be an integer. Change \" +\n        \"the stride and/or zero pad parameters\");\n    return [outputRows, outputCols, outDepth];\n}\nexports.computeOutputShape3D = computeOutputShape3D;\nfunction computeDefaultPad(inputShape, fieldSize, stride) {\n    return Math.floor((inputShape[0] * (stride - 1) - stride + fieldSize) / 2);\n}\nexports.computeDefaultPad = computeDefaultPad;\nfunction computeWeightsShape4D(inputDepth, outputDepth, filterHeight, filterWidth) {\n    return [filterHeight, filterWidth, inputDepth, outputDepth];\n}\nexports.computeWeightsShape4D = computeWeightsShape4D;\nfunction computeDilatedRC(rc, origStride) {\n    var rowsDilated = (rc[0] - 1) * origStride + 1;\n    var colsDilated = (rc[1] - 1) * origStride + 1;\n    return [rowsDilated, colsDilated];\n}\nexports.computeDilatedRC = computeDilatedRC;\nfunction parseTupleParam(param) {\n    return typeof param === 'number' ? [param, param] : param;\n}\nfunction getPadAndOutInfo(pad, inHeight, inWidth, strideHeight, strideWidth, filterHeight, filterWidth) {\n    var padInfo;\n    var outHeight;\n    var outWidth;\n    if (typeof pad === 'number') {\n        padInfo = { top: pad, bottom: pad, left: pad, right: pad };\n        var outShape = computeOutputShape3D([inHeight, inWidth, 1], filterHeight, 1, strideHeight, pad);\n        outHeight = outShape[0];\n        outWidth = outShape[1];\n    }\n    else if (pad === 'same') {\n        outHeight = Math.ceil(inHeight / strideHeight);\n        outWidth = Math.ceil(inWidth / strideWidth);\n        var padAlongHeight = (outHeight - 1) * strideHeight + filterHeight - inHeight;\n        var padAlongWidth = (outWidth - 1) * strideWidth + filterWidth - inWidth;\n        var top_1 = Math.floor(padAlongHeight / 2);\n        var bottom = padAlongHeight - top_1;\n        var left = Math.floor(padAlongWidth / 2);\n        var right = padAlongWidth - left;\n        padInfo = { top: top_1, bottom: bottom, left: left, right: right };\n    }\n    else if (pad === 'valid') {\n        padInfo = { top: 0, bottom: 0, left: 0, right: 0 };\n        outHeight = Math.ceil((inHeight - filterHeight + 1) / strideHeight);\n        outWidth = Math.ceil((inWidth - filterWidth + 1) / strideWidth);\n    }\n    else {\n        throw Error(\"Unknown padding parameter: \" + pad);\n    }\n    return { padInfo: padInfo, outHeight: outHeight, outWidth: outWidth };\n}\n//# sourceMappingURL=conv_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/conv_util.js\n// module id = 8\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getBroadcastDims(inShape, outShape) {\n    var inRank = inShape.length;\n    var dims = [];\n    for (var i = 0; i < inRank; i++) {\n        var dim = inRank - 1 - i;\n        var a = inShape[dim] || 1;\n        var b = outShape[outShape.length - 1 - i] || 1;\n        if (b > 1 && a === 1) {\n            dims.unshift(dim);\n        }\n    }\n    return dims;\n}\nexports.getBroadcastDims = getBroadcastDims;\nfunction broadcastDimsAreOuter(dims) {\n    for (var i = 0; i < dims.length; i++) {\n        if (dims[i] !== i) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.broadcastDimsAreOuter = broadcastDimsAreOuter;\nfunction assertAndGetBroadcastShape(shapeA, shapeB) {\n    var result = [];\n    var errMsg = \"Operands could not be broadcast together with shapes \" +\n        (shapeA + \" and \" + shapeB + \".\");\n    var l = Math.max(shapeA.length, shapeB.length);\n    for (var i = 0; i < l; i++) {\n        var a = shapeA[shapeA.length - i - 1] || 1;\n        var b = shapeB[shapeB.length - i - 1] || 1;\n        if (a > 1 && b > 1 && a !== b) {\n            throw Error(errMsg);\n        }\n        result.unshift(Math.max(a, b));\n    }\n    return result;\n}\nexports.assertAndGetBroadcastShape = assertAndGetBroadcastShape;\n//# sourceMappingURL=broadcast_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/broadcast_util.js\n// module id = 9\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MAX_TEXTURE_SIZE = null;\nvar util = require(\"../../util\");\nvar environment_1 = require(\"../../environment\");\nfunction createWebGLRenderingContext(attributes) {\n    var canvas = document.createElement('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    return createWebGLRenderingContextFromCanvas(canvas, attributes);\n}\nexports.createWebGLRenderingContext = createWebGLRenderingContext;\nfunction createWebGLRenderingContextFromCanvas(canvas, attributes) {\n    var gl;\n    var webglVersion = environment_1.ENV.get('WEBGL_VERSION');\n    if (webglVersion === 2) {\n        gl = canvas.getContext('webgl2', attributes);\n    }\n    else if (webglVersion === 1) {\n        gl = (canvas.getContext('webgl', attributes) ||\n            canvas.getContext('experimental-webgl', attributes));\n    }\n    if (webglVersion === 0 || gl == null) {\n        throw new Error('This browser does not support WebGL.');\n    }\n    return gl;\n}\nexports.createWebGLRenderingContextFromCanvas = createWebGLRenderingContextFromCanvas;\nfunction callAndCheck(gl, func) {\n    var returnValue = func();\n    checkWebGLError(gl);\n    return returnValue;\n}\nexports.callAndCheck = callAndCheck;\nvar webGLDebugErrorCheckingEnabled = false;\nfunction enableDebugWebGLErrorChecking(enabled) {\n    webGLDebugErrorCheckingEnabled = enabled;\n}\nexports.enableDebugWebGLErrorChecking = enableDebugWebGLErrorChecking;\nfunction checkWebGLError(gl) {\n    if (webGLDebugErrorCheckingEnabled) {\n        var error = gl.getError();\n        if (error !== gl.NO_ERROR) {\n            throw new Error('WebGL Error: ' + getWebGLErrorMessage(gl, error));\n        }\n    }\n}\nexports.checkWebGLError = checkWebGLError;\nfunction getWebGLErrorMessage(gl, status) {\n    switch (status) {\n        case gl.NO_ERROR:\n            return 'NO_ERROR';\n        case gl.INVALID_ENUM:\n            return 'INVALID_ENUM';\n        case gl.INVALID_VALUE:\n            return 'INVALID_VALUE';\n        case gl.INVALID_OPERATION:\n            return 'INVALID_OPERATION';\n        case gl.INVALID_FRAMEBUFFER_OPERATION:\n            return 'INVALID_FRAMEBUFFER_OPERATION';\n        case gl.OUT_OF_MEMORY:\n            return 'OUT_OF_MEMORY';\n        case gl.CONTEXT_LOST_WEBGL:\n            return 'CONTEXT_LOST_WEBGL';\n        default:\n            return \"Unknown error code \" + status;\n    }\n}\nexports.getWebGLErrorMessage = getWebGLErrorMessage;\nfunction getExtensionOrThrow(gl, extensionName) {\n    return throwIfNull(gl, function () { return gl.getExtension(extensionName); }, 'Extension \"' + extensionName + '\" not supported on this browser.');\n}\nexports.getExtensionOrThrow = getExtensionOrThrow;\nfunction createVertexShader(gl, vertexShaderSource) {\n    var vertexShader = throwIfNull(gl, function () { return gl.createShader(gl.VERTEX_SHADER); }, 'Unable to create vertex WebGLShader.');\n    callAndCheck(gl, function () { return gl.shaderSource(vertexShader, vertexShaderSource); });\n    callAndCheck(gl, function () { return gl.compileShader(vertexShader); });\n    if (gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS) === false) {\n        console.log(gl.getShaderInfoLog(vertexShader));\n        throw new Error('Failed to compile vertex shader.');\n    }\n    return vertexShader;\n}\nexports.createVertexShader = createVertexShader;\nfunction createFragmentShader(gl, fragmentShaderSource) {\n    var fragmentShader = throwIfNull(gl, function () { return gl.createShader(gl.FRAGMENT_SHADER); }, 'Unable to create fragment WebGLShader.');\n    callAndCheck(gl, function () { return gl.shaderSource(fragmentShader, fragmentShaderSource); });\n    callAndCheck(gl, function () { return gl.compileShader(fragmentShader); });\n    if (gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS) === false) {\n        logShaderSourceAndInfoLog(fragmentShaderSource, gl.getShaderInfoLog(fragmentShader));\n        throw new Error('Failed to compile fragment shader.');\n    }\n    return fragmentShader;\n}\nexports.createFragmentShader = createFragmentShader;\nvar lineNumberRegex = /ERROR: [0-9]+:([0-9]+):/g;\nfunction logShaderSourceAndInfoLog(shaderSource, shaderInfoLog) {\n    var lineNumberRegexResult = lineNumberRegex.exec(shaderInfoLog);\n    if (lineNumberRegexResult == null) {\n        console.log(\"Couldn't parse line number in error: \" + shaderInfoLog);\n        console.log(shaderSource);\n        return;\n    }\n    var lineNumber = +lineNumberRegexResult[1];\n    var shaderLines = shaderSource.split('\\n');\n    var pad = shaderLines.length.toString().length + 2;\n    var linesWithLineNumbers = shaderLines.map(function (line, lineNumber) {\n        return util.rightPad((lineNumber + 1).toString(), pad) + line;\n    });\n    var maxLineLength = 0;\n    for (var i = 0; i < linesWithLineNumbers.length; i++) {\n        maxLineLength = Math.max(linesWithLineNumbers[i].length, maxLineLength);\n    }\n    var beforeErrorLines = linesWithLineNumbers.slice(0, lineNumber - 1);\n    var errorLine = linesWithLineNumbers.slice(lineNumber - 1, lineNumber);\n    var afterErrorLines = linesWithLineNumbers.slice(lineNumber);\n    console.log(beforeErrorLines.join('\\n'));\n    console.log(shaderInfoLog.split('\\n')[0]);\n    console.log(\"%c \" + util.rightPad(errorLine[0], maxLineLength), 'border:1px solid red; background-color:#e3d2d2; color:#a61717');\n    console.log(afterErrorLines.join('\\n'));\n}\nfunction createProgram(gl) {\n    return throwIfNull(gl, function () { return gl.createProgram(); }, 'Unable to create WebGLProgram.');\n}\nexports.createProgram = createProgram;\nfunction linkProgram(gl, program) {\n    callAndCheck(gl, function () { return gl.linkProgram(program); });\n    if (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {\n        console.log(gl.getProgramInfoLog(program));\n        throw new Error('Failed to link vertex and fragment shaders.');\n    }\n}\nexports.linkProgram = linkProgram;\nfunction validateProgram(gl, program) {\n    callAndCheck(gl, function () { return gl.validateProgram(program); });\n    if (gl.getProgramParameter(program, gl.VALIDATE_STATUS) === false) {\n        console.log(gl.getProgramInfoLog(program));\n        throw new Error('Shader program validation failed.');\n    }\n}\nexports.validateProgram = validateProgram;\nfunction createStaticVertexBuffer(gl, data) {\n    var buffer = throwIfNull(gl, function () { return gl.createBuffer(); }, 'Unable to create WebGLBuffer');\n    callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, buffer); });\n    callAndCheck(gl, function () { return gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW); });\n    return buffer;\n}\nexports.createStaticVertexBuffer = createStaticVertexBuffer;\nfunction createStaticIndexBuffer(gl, data) {\n    var buffer = throwIfNull(gl, function () { return gl.createBuffer(); }, 'Unable to create WebGLBuffer');\n    callAndCheck(gl, function () { return gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer); });\n    callAndCheck(gl, function () { return gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW); });\n    return buffer;\n}\nexports.createStaticIndexBuffer = createStaticIndexBuffer;\nfunction queryMaxTextureSize(gl) {\n    if (MAX_TEXTURE_SIZE != null) {\n        return MAX_TEXTURE_SIZE;\n    }\n    MAX_TEXTURE_SIZE =\n        callAndCheck(gl, function () { return gl.getParameter(gl.MAX_TEXTURE_SIZE); });\n    return MAX_TEXTURE_SIZE;\n}\nexports.queryMaxTextureSize = queryMaxTextureSize;\nfunction getChannelsPerTexture() {\n    if (!environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return 4;\n    }\n    if (environment_1.ENV.get('WEBGL_VERSION') === 2) {\n        return 1;\n    }\n    return 4;\n}\nexports.getChannelsPerTexture = getChannelsPerTexture;\nfunction createTexture(gl) {\n    return throwIfNull(gl, function () { return gl.createTexture(); }, 'Unable to create WebGLTexture.');\n}\nexports.createTexture = createTexture;\nfunction validateTextureSize(gl, width, height) {\n    var maxTextureSize = queryMaxTextureSize(gl);\n    if ((width <= 0) || (height <= 0)) {\n        var requested = \"[\" + width + \"x\" + height + \"]\";\n        throw new Error('Requested texture size ' + requested + ' is invalid.');\n    }\n    if ((width > maxTextureSize) || (height > maxTextureSize)) {\n        var requested = \"[\" + width + \"x\" + height + \"]\";\n        var max = \"[\" + maxTextureSize + \"x\" + maxTextureSize + \"]\";\n        throw new Error('Requested texture size ' + requested +\n            ' greater than WebGL maximum on this browser / GPU ' + max + '.');\n    }\n}\nexports.validateTextureSize = validateTextureSize;\nfunction createFramebuffer(gl) {\n    return throwIfNull(gl, function () { return gl.createFramebuffer(); }, 'Unable to create WebGLFramebuffer.');\n}\nexports.createFramebuffer = createFramebuffer;\nfunction bindVertexBufferToProgramAttribute(gl, program, attribute, buffer, arrayEntriesPerItem, itemStrideInBytes, itemOffsetInBytes, attribLocations) {\n    var loc = -1;\n    if ((attribLocations != null) && (attribute in attribLocations)) {\n        loc = attribLocations[attribute];\n    }\n    else {\n        loc = gl.getAttribLocation(program, attribute);\n    }\n    if (loc === -1) {\n        return;\n    }\n    callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, buffer); });\n    callAndCheck(gl, function () { return gl.vertexAttribPointer(loc, arrayEntriesPerItem, gl.FLOAT, false, itemStrideInBytes, itemOffsetInBytes); });\n    callAndCheck(gl, function () { return gl.enableVertexAttribArray(loc); });\n}\nexports.bindVertexBufferToProgramAttribute = bindVertexBufferToProgramAttribute;\nfunction bindTextureUnit(gl, texture, textureUnit) {\n    validateTextureUnit(gl, textureUnit);\n    callAndCheck(gl, function () { return gl.activeTexture(gl.TEXTURE0 + textureUnit); });\n    callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, texture); });\n}\nexports.bindTextureUnit = bindTextureUnit;\nfunction unbindTextureUnit(gl, textureUnit) {\n    validateTextureUnit(gl, textureUnit);\n    callAndCheck(gl, function () { return gl.activeTexture(gl.TEXTURE0 + textureUnit); });\n    callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n}\nexports.unbindTextureUnit = unbindTextureUnit;\nfunction getProgramUniformLocationOrThrow(gl, program, uniformName) {\n    return throwIfNull(gl, function () { return gl.getUniformLocation(program, uniformName); }, 'uniform \"' + uniformName + '\" not present in program.');\n}\nexports.getProgramUniformLocationOrThrow = getProgramUniformLocationOrThrow;\nfunction bindTextureToProgramUniformSampler(gl, program, texture, uniformSamplerLocation, textureUnit) {\n    callAndCheck(gl, function () { return bindTextureUnit(gl, texture, textureUnit); });\n    callAndCheck(gl, function () { return gl.uniform1i(uniformSamplerLocation, textureUnit); });\n}\nexports.bindTextureToProgramUniformSampler = bindTextureToProgramUniformSampler;\nfunction bindCanvasToFramebuffer(gl) {\n    callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, null); });\n    callAndCheck(gl, function () { return gl.viewport(0, 0, gl.canvas.width, gl.canvas.height); });\n    callAndCheck(gl, function () { return gl.scissor(0, 0, gl.canvas.width, gl.canvas.height); });\n}\nexports.bindCanvasToFramebuffer = bindCanvasToFramebuffer;\nfunction bindColorTextureToFramebuffer(gl, texture, framebuffer) {\n    callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer); });\n    callAndCheck(gl, function () { return gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0); });\n}\nexports.bindColorTextureToFramebuffer = bindColorTextureToFramebuffer;\nfunction unbindColorTextureFromFramebuffer(gl, framebuffer) {\n    callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer); });\n    callAndCheck(gl, function () { return gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, null, 0); });\n}\nexports.unbindColorTextureFromFramebuffer = unbindColorTextureFromFramebuffer;\nfunction validateFramebuffer(gl) {\n    var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n    if (status !== gl.FRAMEBUFFER_COMPLETE) {\n        throw new Error('Error binding framebuffer: ' + getFramebufferErrorMessage(gl, status));\n    }\n}\nexports.validateFramebuffer = validateFramebuffer;\nfunction getFramebufferErrorMessage(gl, status) {\n    switch (status) {\n        case gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n            return 'FRAMEBUFFER_INCOMPLETE_ATTACHMENT';\n        case gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n            return 'FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT';\n        case gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n            return 'FRAMEBUFFER_INCOMPLETE_DIMENSIONS';\n        case gl.FRAMEBUFFER_UNSUPPORTED:\n            return 'FRAMEBUFFER_UNSUPPORTED';\n        default:\n            return \"unknown error \" + status;\n    }\n}\nexports.getFramebufferErrorMessage = getFramebufferErrorMessage;\nfunction throwIfNull(gl, returnTOrNull, failureMessage) {\n    var tOrNull = callAndCheck(gl, function () { return returnTOrNull(); });\n    if (tOrNull == null) {\n        throw new Error(failureMessage);\n    }\n    return tOrNull;\n}\nfunction validateTextureUnit(gl, textureUnit) {\n    var maxTextureUnit = gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS - 1;\n    var glTextureUnit = textureUnit + gl.TEXTURE0;\n    if (glTextureUnit < gl.TEXTURE0 || glTextureUnit > maxTextureUnit) {\n        var textureUnitRange = \"[gl.TEXTURE0, gl.TEXTURE\" + maxTextureUnit + \"]\";\n        throw new Error(\"textureUnit must be in \" + textureUnitRange + \".\");\n    }\n}\nfunction getTextureShapeFromLogicalShape(gl, logShape) {\n    if (logShape.length !== 2) {\n        var squeezeResult = util.squeezeShape(logShape);\n        logShape = squeezeResult.newShape;\n    }\n    var maxTexSize = queryMaxTextureSize(gl);\n    var size = util.sizeFromShape(logShape);\n    if (logShape.length <= 1 && size <= maxTexSize) {\n        return [size, 1];\n    }\n    else if (logShape.length === 2 && logShape[0] <= maxTexSize &&\n        logShape[1] <= maxTexSize) {\n        return logShape;\n    }\n    else if (logShape.length === 3 && logShape[0] <= maxTexSize &&\n        logShape[1] * logShape[2] <= maxTexSize) {\n        return [logShape[0], logShape[1] * logShape[2]];\n    }\n    else if (logShape.length === 4 && logShape[0] <= maxTexSize &&\n        logShape[1] * logShape[2] * logShape[3] <= maxTexSize) {\n        return [logShape[0], logShape[1] * logShape[2] * logShape[3]];\n    }\n    else {\n        return util.sizeToSquarishShape(size);\n    }\n}\nexports.getTextureShapeFromLogicalShape = getTextureShapeFromLogicalShape;\n//# sourceMappingURL=webgl_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/webgl_util.js\n// module id = 10\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 11\n// module chunks = 0","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 12\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar initializers_1 = require(\"../initializers\");\nvar concat_util = require(\"../math/concat_util\");\nvar conv_util = require(\"../math/conv_util\");\nvar ndarray_1 = require(\"../math/ndarray\");\nvar util = require(\"../util\");\nvar GraphLayers = (function () {\n    function GraphLayers(g) {\n        this.g = g;\n    }\n    GraphLayers.prototype.dense = function (name, x, units, activation, useBias, kernelInitializer, biasInitializer) {\n        if (activation === void 0) { activation = null; }\n        if (useBias === void 0) { useBias = true; }\n        if (kernelInitializer === void 0) { kernelInitializer = new initializers_1.VarianceScalingInitializer(); }\n        if (biasInitializer === void 0) { biasInitializer = new initializers_1.ZerosInitializer(); }\n        var weights = this.g.variable(name + '-weights', kernelInitializer.initialize([x.shape[0], units], x.shape[0], units));\n        var out = this.g.matmul(x, weights);\n        if (useBias) {\n            var bias = this.g.variable(name + '-bias', biasInitializer.initialize([units], x.shape[0], units));\n            out = this.g.add(out, bias);\n        }\n        if (activation != null) {\n            out = activation(out);\n        }\n        return out;\n    };\n    return GraphLayers;\n}());\nexports.GraphLayers = GraphLayers;\nvar Graph = (function () {\n    function Graph() {\n        this.nodes = [];\n        this.layers = new GraphLayers(this);\n    }\n    Graph.prototype.variable = function (name, data) {\n        return this.addNodeAndReturnOutput(new VariableNode(this, name, data));\n    };\n    Graph.prototype.placeholder = function (name, shape) {\n        return this.addNodeAndReturnOutput(new PlaceholderNode(this, name, shape));\n    };\n    Graph.prototype.constant = function (value) {\n        var finalValue;\n        if (typeof value === 'number') {\n            finalValue = ndarray_1.Scalar.new(value);\n        }\n        else if (value instanceof ndarray_1.NDArray) {\n            finalValue = value;\n        }\n        else if (value instanceof Array) {\n            var flatValues = util.flatten(value);\n            var vals = new Float32Array(flatValues);\n            finalValue = ndarray_1.NDArray.make(util.inferShape(value), { values: vals });\n        }\n        else {\n            throw new Error('unimplemented constant type.');\n        }\n        return this.addNodeAndReturnOutput(new ConstantNode(this, finalValue));\n    };\n    Graph.prototype.reshape = function (x, shape) {\n        return this.addNodeAndReturnOutput(new ReshapeNode(this, 'Reshape', x, shape));\n    };\n    Graph.prototype.fusedLinearCombination = function (x1, x2, c1, c2) {\n        return this.addNodeAndReturnOutput(new FusedLinearCombinationNode(this, x1, x2, c1, c2));\n    };\n    Graph.prototype.add = function (x1, x2) {\n        return this.addNodeAndReturnOutput(new AddNode(this, x1, x2));\n    };\n    Graph.prototype.subtract = function (x1, x2) {\n        return this.addNodeAndReturnOutput(new SubtractNode(this, x1, x2));\n    };\n    Graph.prototype.multiply = function (x1, x2) {\n        return this.addNodeAndReturnOutput(new MultiplyNode(this, x1, x2));\n    };\n    Graph.prototype.divide = function (x1, x2) {\n        return this.addNodeAndReturnOutput(new DivideNode(this, x1, x2));\n    };\n    Graph.prototype.reduceSum = function (x) {\n        return this.addNodeAndReturnOutput(new ReduceSumNode(this, x));\n    };\n    Graph.prototype.concat3d = function (x1, x2, axis) {\n        return this.addNodeAndReturnOutput(new Concat3DNode(this, x1, x2, axis));\n    };\n    Graph.prototype.matmul = function (x1, x2) {\n        return this.addNodeAndReturnOutput(new MatMulNode(this, x1, x2));\n    };\n    Graph.prototype.conv2d = function (x, w, b, fieldSize, outputDepth, stride, zeroPad) {\n        if (stride === void 0) { stride = 1; }\n        return this.addNodeAndReturnOutput(new Convolution2DNode(this, x, w, b, fieldSize, outputDepth, stride, zeroPad));\n    };\n    Graph.prototype.maxPool = function (x, fieldSize, stride, zeroPad) {\n        if (stride === void 0) { stride = 1; }\n        return this.addNodeAndReturnOutput(new MaxPoolNode(this, x, fieldSize, stride, zeroPad));\n    };\n    Graph.prototype.exp = function (x) {\n        return this.addNodeAndReturnOutput(new ExpNode(this, x));\n    };\n    Graph.prototype.log = function (x) {\n        return this.addNodeAndReturnOutput(new LogNode(this, x));\n    };\n    Graph.prototype.relu = function (x) {\n        return this.addNodeAndReturnOutput(new ReLUNode(this, x));\n    };\n    Graph.prototype.leakyRelu = function (x, alpha) {\n        return this.addNodeAndReturnOutput(new LeakyReLUNode(this, x, alpha));\n    };\n    Graph.prototype.tanh = function (x) {\n        return this.addNodeAndReturnOutput(new TanHNode(this, x));\n    };\n    Graph.prototype.sigmoid = function (x) {\n        return this.addNodeAndReturnOutput(new SigmoidNode(this, x));\n    };\n    Graph.prototype.square = function (x) {\n        return this.addNodeAndReturnOutput(new SquareNode(this, x));\n    };\n    Graph.prototype.softmax = function (x) {\n        return this.addNodeAndReturnOutput(new SoftmaxNode(this, x));\n    };\n    Graph.prototype.softmaxCrossEntropyCost = function (x, target) {\n        return this.addNodeAndReturnOutput(new SoftmaxCrossEntropyCostNode(this, x, target));\n    };\n    Graph.prototype.meanSquaredCost = function (label, prediction) {\n        return this.addNodeAndReturnOutput(new MeanSquaredCostNode(this, label, prediction));\n    };\n    Graph.prototype.argmax = function (x) {\n        return this.addNodeAndReturnOutput(new ArgMaxNode(this, x));\n    };\n    Graph.prototype.argmaxEquals = function (x1, x2) {\n        return this.addNodeAndReturnOutput(new ArgMaxEqualsNode(this, x1, x2));\n    };\n    Graph.prototype.addNodeAndReturnOutput = function (node) {\n        this.nodes.push(node);\n        node.validate();\n        return node.output;\n    };\n    Graph.prototype.getNodes = function () {\n        return this.nodes;\n    };\n    return Graph;\n}());\nexports.Graph = Graph;\nvar Tensor = (function () {\n    function Tensor(shape) {\n        this.shape = shape;\n        this.id = Tensor.nextID++;\n    }\n    Tensor.nextID = 0;\n    return Tensor;\n}());\nexports.Tensor = Tensor;\nvar Node = (function () {\n    function Node(graph, name, inputs, output) {\n        this.graph = graph;\n        this.name = name;\n        this.inputs = inputs;\n        this.output = output;\n        this.id = Node.nextID++;\n        output.node = this;\n    }\n    Node.nextID = 0;\n    return Node;\n}());\nexports.Node = Node;\nvar VariableNode = (function (_super) {\n    __extends(VariableNode, _super);\n    function VariableNode(graph, name, data) {\n        var _this = _super.call(this, graph, name, {}, new Tensor(data.shape)) || this;\n        _this.data = data;\n        return _this;\n    }\n    VariableNode.prototype.validate = function () {\n        util.assert(this.data != null, 'Error adding variable op: Data for variable \\'' + this.name +\n            '\\' is null or undefined');\n    };\n    return VariableNode;\n}(Node));\nexports.VariableNode = VariableNode;\nvar PlaceholderNode = (function (_super) {\n    __extends(PlaceholderNode, _super);\n    function PlaceholderNode(graph, name, shape) {\n        return _super.call(this, graph, name, {}, new Tensor(shape)) || this;\n    }\n    PlaceholderNode.prototype.validate = function () { };\n    return PlaceholderNode;\n}(Node));\nexports.PlaceholderNode = PlaceholderNode;\nvar ConstantNode = (function (_super) {\n    __extends(ConstantNode, _super);\n    function ConstantNode(graph, data) {\n        var _this = _super.call(this, graph, 'Constant', {}, new Tensor(data.shape)) || this;\n        _this.data = data;\n        return _this;\n    }\n    ConstantNode.prototype.validate = function () {\n        util.assert(this.data != null, 'Error adding constant: data for placeholder \\'' + this.name +\n            '\\' is null or undefined');\n    };\n    return ConstantNode;\n}(Node));\nexports.ConstantNode = ConstantNode;\nvar ReshapeNode = (function (_super) {\n    __extends(ReshapeNode, _super);\n    function ReshapeNode(graph, name, x, shape) {\n        var _this = _super.call(this, graph, name, { x: x }, new Tensor(shape)) || this;\n        _this.name = name;\n        _this.x = x;\n        _this.shape = shape;\n        return _this;\n    }\n    ReshapeNode.prototype.validate = function () {\n        var xSize = util.sizeFromShape(this.x.shape);\n        var shapeSize = util.sizeFromShape(this.shape);\n        util.assert(xSize === shapeSize, \"Error making reshape operation: input to reshape '\" + this.name + \"'\" +\n            (\" of shape (\" + this.x.shape + \") does not match size of \") +\n            (\"requested shape \" + this.shape + \".\"));\n    };\n    ReshapeNode.X = 'x';\n    return ReshapeNode;\n}(Node));\nexports.ReshapeNode = ReshapeNode;\nvar FusedLinearCombinationNode = (function (_super) {\n    __extends(FusedLinearCombinationNode, _super);\n    function FusedLinearCombinationNode(graph, t1, t2, c1, c2) {\n        var _this = _super.call(this, graph, 'Linear Combination', { t1: t1, t2: t2, c1: c1, c2: c2 }, new Tensor(t1.shape)) || this;\n        _this.t1 = t1;\n        _this.t2 = t2;\n        _this.c1 = c1;\n        _this.c2 = c2;\n        return _this;\n    }\n    FusedLinearCombinationNode.prototype.validate = function () {\n        util.assertShapesMatch(this.t1.shape, this.t2.shape);\n        if (!util.isScalarShape(this.c1.shape)) {\n            throw new Error('Error adding fusedLinearCombination: c1 is not a scalar, got ' +\n                (\"shape: \" + this.c1.shape));\n        }\n        if (!util.isScalarShape(this.c2.shape)) {\n            throw new Error('Error adding fusedLinearCombination: c2 is not a scalar, got ' +\n                (\"shape: \" + this.c2.shape));\n        }\n    };\n    FusedLinearCombinationNode.T1 = 't1';\n    FusedLinearCombinationNode.T2 = 't2';\n    FusedLinearCombinationNode.C1 = 'c1';\n    FusedLinearCombinationNode.C2 = 'c2';\n    return FusedLinearCombinationNode;\n}(Node));\nexports.FusedLinearCombinationNode = FusedLinearCombinationNode;\nvar AddNode = (function (_super) {\n    __extends(AddNode, _super);\n    function AddNode(graph, t1, t2) {\n        var _this = _super.call(this, graph, 'Add', { t1: t1, t2: t2 }, new Tensor(util.sizeFromShape(t1.shape) === 1 ? t2.shape : t1.shape)) || this;\n        _this.t1 = t1;\n        _this.t2 = t2;\n        return _this;\n    }\n    AddNode.prototype.validate = function () {\n        util.assert(util.sizeFromShape(this.t1.shape) === 1 ||\n            util.sizeFromShape(this.t2.shape) === 1 ||\n            util.arraysEqual(this.t1.shape, this.t2.shape), 'Error adding add operation op: one of inputs must be scalar or the ' +\n            (\"shapes \" + this.t1.shape + \" and \" + this.t2.shape + \" must match.\"));\n    };\n    AddNode.T1 = 't1';\n    AddNode.T2 = 't2';\n    return AddNode;\n}(Node));\nexports.AddNode = AddNode;\nvar SubtractNode = (function (_super) {\n    __extends(SubtractNode, _super);\n    function SubtractNode(graph, t1, t2) {\n        var _this = _super.call(this, graph, 'Subtract', { t1: t1, t2: t2 }, new Tensor(util.sizeFromShape(t1.shape) === 1 ? t2.shape : t1.shape)) || this;\n        _this.t1 = t1;\n        _this.t2 = t2;\n        return _this;\n    }\n    SubtractNode.prototype.validate = function () {\n        util.assert(util.sizeFromShape(this.t1.shape) === 1 ||\n            util.sizeFromShape(this.t2.shape) === 1 ||\n            util.arraysEqual(this.t1.shape, this.t2.shape), 'Error adding subtract op: one of inputs must be scalar or the ' +\n            (\"shapes \" + this.t1.shape + \" and \" + this.t2.shape + \" must match.\"));\n    };\n    SubtractNode.T1 = 't1';\n    SubtractNode.T2 = 't2';\n    return SubtractNode;\n}(Node));\nexports.SubtractNode = SubtractNode;\nvar MultiplyNode = (function (_super) {\n    __extends(MultiplyNode, _super);\n    function MultiplyNode(graph, t1, t2) {\n        var _this = _super.call(this, graph, 'Multiply', { t1: t1, t2: t2 }, new Tensor(util.sizeFromShape(t1.shape) === 1 ? t2.shape : t1.shape)) || this;\n        _this.t1 = t1;\n        _this.t2 = t2;\n        return _this;\n    }\n    MultiplyNode.prototype.validate = function () {\n        util.assert(util.sizeFromShape(this.t1.shape) === 1 ||\n            util.sizeFromShape(this.t2.shape) === 1 ||\n            util.arraysEqual(this.t1.shape, this.t2.shape), 'Error adding multiply op: one of inputs must be scalar or the ' +\n            (\"shapes \" + this.t1.shape + \" and \" + this.t2.shape + \" must match.\"));\n    };\n    MultiplyNode.T1 = 't1';\n    MultiplyNode.T2 = 't2';\n    return MultiplyNode;\n}(Node));\nexports.MultiplyNode = MultiplyNode;\nvar DivideNode = (function (_super) {\n    __extends(DivideNode, _super);\n    function DivideNode(graph, t1, t2) {\n        var _this = _super.call(this, graph, 'Divide', { t1: t1, t2: t2 }, new Tensor(util.sizeFromShape(t1.shape) === 1 ? t2.shape : t1.shape)) || this;\n        _this.t1 = t1;\n        _this.t2 = t2;\n        return _this;\n    }\n    DivideNode.prototype.validate = function () {\n        util.assert(util.sizeFromShape(this.t1.shape) === 1 ||\n            util.sizeFromShape(this.t2.shape) === 1 ||\n            util.arraysEqual(this.t1.shape, this.t2.shape), 'Error adding divide op: one of inputs must be scalar or the ' +\n            (\"shapes \" + this.t1.shape + \" and \" + this.t2.shape + \" must match.\"));\n    };\n    DivideNode.T1 = 't1';\n    DivideNode.T2 = 't2';\n    return DivideNode;\n}(Node));\nexports.DivideNode = DivideNode;\nvar ReduceSumNode = (function (_super) {\n    __extends(ReduceSumNode, _super);\n    function ReduceSumNode(graph, x) {\n        return _super.call(this, graph, 'ReduceSum', { x: x }, new Tensor([])) || this;\n    }\n    ReduceSumNode.prototype.validate = function () { };\n    ReduceSumNode.X = 'x';\n    return ReduceSumNode;\n}(Node));\nexports.ReduceSumNode = ReduceSumNode;\nvar Concat3DNode = (function (_super) {\n    __extends(Concat3DNode, _super);\n    function Concat3DNode(graph, x1, x2, axis) {\n        var _this = _super.call(this, graph, 'Concat3D', { x1: x1, x2: x2 }, new Tensor(concat_util.computeOutShape(x1.shape, x2.shape, axis))) || this;\n        _this.x1 = x1;\n        _this.x2 = x2;\n        _this.axis = axis;\n        return _this;\n    }\n    Concat3DNode.prototype.validate = function () {\n        concat_util.assertParams(this.x1.shape, this.x2.shape, this.axis);\n    };\n    Concat3DNode.X1 = 'x1';\n    Concat3DNode.X2 = 'x2';\n    Concat3DNode.AXIS = 'axis';\n    return Concat3DNode;\n}(Node));\nexports.Concat3DNode = Concat3DNode;\nfunction getMatMulOutputShape(x1Shape, x2Shape) {\n    if (x1Shape.length === 1 && x2Shape.length === 1) {\n        return [1];\n    }\n    else if (x1Shape.length === 1 && x2Shape.length === 2) {\n        return [x2Shape[1]];\n    }\n    else if (x1Shape.length === 2 && x2Shape.length === 1) {\n        return [x1Shape[0]];\n    }\n    return [x1Shape[0], x2Shape[1]];\n}\nvar MatMulNode = (function (_super) {\n    __extends(MatMulNode, _super);\n    function MatMulNode(graph, x1, x2) {\n        var _this = _super.call(this, graph, 'MatMul', { x1: x1, x2: x2 }, new Tensor(getMatMulOutputShape(x1.shape, x2.shape))) || this;\n        _this.x1 = x1;\n        _this.x2 = x2;\n        return _this;\n    }\n    MatMulNode.prototype.validate = function () {\n        if (this.x1.shape.length === 2 && this.x2.shape.length === 2) {\n            util.assert(this.x1.shape[1] === this.x2.shape[0], 'Error adding matmul op: inner shapes of matrices with shapes ' +\n                (this.x1.shape + \" and \" + this.x2.shape + \" must match.\"));\n        }\n        else if (this.x1.shape.length === 2 && this.x2.shape.length === 1) {\n            util.assert(this.x1.shape[1] === this.x2.shape[0], 'Error adding matmul op: second dimension of matrix with shape ' +\n                this.x1.shape.toString() +\n                (\" must match size of vector with shape \" + this.x2.shape + \".\"));\n        }\n        else if (this.x1.shape.length === 1 && this.x2.shape.length === 2) {\n            util.assert(this.x1.shape[0] === this.x2.shape[0], \"Error adding matmul op: size of vector with shape \" + this.x1.shape +\n                \" must match first dimension of matrix with \" +\n                (\"shape \" + this.x2.shape + \".\"));\n        }\n        else {\n            throw new Error('Error adding matmul op: inputs must be vectors or matrices.');\n        }\n    };\n    MatMulNode.X1 = 'x1';\n    MatMulNode.X2 = 'x2';\n    return MatMulNode;\n}(Node));\nexports.MatMulNode = MatMulNode;\nvar Convolution2DNode = (function (_super) {\n    __extends(Convolution2DNode, _super);\n    function Convolution2DNode(graph, x, w, b, fieldSize, outputDepth, stride, zeroPad) {\n        if (stride === void 0) { stride = 1; }\n        var _this = _super.call(this, graph, 'Convolution 2D', { x: x, w: w, b: b }, new Tensor(conv_util.computeOutputShape3D(x.shape, fieldSize, outputDepth, stride, zeroPad))) || this;\n        _this.x = x;\n        _this.w = w;\n        _this.b = b;\n        _this.fieldSize = fieldSize;\n        _this.outputDepth = outputDepth;\n        _this.stride = stride;\n        _this.zeroPad = zeroPad;\n        return _this;\n    }\n    Convolution2DNode.prototype.validate = function () {\n        util.assert(this.x.shape.length === 3, 'Error adding conv2d op: input must be of rank 3, but got shape: ' +\n            (this.x.shape + \".\"));\n        util.assert(this.w.shape.length === 4, 'Error adding conv2d op: weights must be of rank 4, but got shape: ' +\n            (this.w.shape + \".\"));\n        util.assert(this.b.shape.length === 1, 'Error adding conv2d op: biases must be of rank 1, but got shape: ' +\n            (this.b.shape + \".\"));\n        util.assert(this.x.shape[2] === this.w.shape[2], \"Error adding conv2d op: depth of input (\" + this.x.shape[2] + \") \" +\n            (\"must match input depth for weights (\" + this.w.shape[2] + \").\"));\n    };\n    Convolution2DNode.X = 'x';\n    Convolution2DNode.W = 'w';\n    Convolution2DNode.B = 'b';\n    return Convolution2DNode;\n}(Node));\nexports.Convolution2DNode = Convolution2DNode;\nvar MaxPoolNode = (function (_super) {\n    __extends(MaxPoolNode, _super);\n    function MaxPoolNode(graph, x, fieldSize, stride, zeroPad) {\n        if (stride === void 0) { stride = 1; }\n        var _this = _super.call(this, graph, 'Max pool', { x: x }, new Tensor(conv_util.computeOutputShape3D(x.shape, fieldSize, x.shape[2], stride, zeroPad))) || this;\n        _this.x = x;\n        _this.fieldSize = fieldSize;\n        _this.stride = stride;\n        _this.zeroPad = zeroPad;\n        return _this;\n    }\n    MaxPoolNode.prototype.validate = function () {\n        util.assert(this.x.shape.length === 3, 'Error adding maxPool op: input must be of rank 3, but got shape: ' +\n            (this.x.shape + \".\"));\n    };\n    MaxPoolNode.X = 'x';\n    return MaxPoolNode;\n}(Node));\nexports.MaxPoolNode = MaxPoolNode;\nvar ReLUNode = (function (_super) {\n    __extends(ReLUNode, _super);\n    function ReLUNode(graph, x) {\n        return _super.call(this, graph, 'ReLU', { x: x }, new Tensor(x.shape)) || this;\n    }\n    ReLUNode.prototype.validate = function () { };\n    ReLUNode.X = 'x';\n    return ReLUNode;\n}(Node));\nexports.ReLUNode = ReLUNode;\nvar LeakyReLUNode = (function (_super) {\n    __extends(LeakyReLUNode, _super);\n    function LeakyReLUNode(graph, x, alpha) {\n        var _this = _super.call(this, graph, 'LeakyReLU', { x: x }, new Tensor(x.shape)) || this;\n        _this.alpha = alpha;\n        return _this;\n    }\n    LeakyReLUNode.prototype.validate = function () { };\n    LeakyReLUNode.X = 'x';\n    return LeakyReLUNode;\n}(Node));\nexports.LeakyReLUNode = LeakyReLUNode;\nvar ExpNode = (function (_super) {\n    __extends(ExpNode, _super);\n    function ExpNode(graph, x) {\n        return _super.call(this, graph, 'Exp', { x: x }, new Tensor(x.shape)) || this;\n    }\n    ExpNode.prototype.validate = function () { };\n    ExpNode.X = 'x';\n    return ExpNode;\n}(Node));\nexports.ExpNode = ExpNode;\nvar LogNode = (function (_super) {\n    __extends(LogNode, _super);\n    function LogNode(graph, x) {\n        return _super.call(this, graph, 'Log', { x: x }, new Tensor(x.shape)) || this;\n    }\n    LogNode.prototype.validate = function () { };\n    LogNode.X = 'x';\n    return LogNode;\n}(Node));\nexports.LogNode = LogNode;\nvar TanHNode = (function (_super) {\n    __extends(TanHNode, _super);\n    function TanHNode(graph, x) {\n        return _super.call(this, graph, 'TanH', { x: x }, new Tensor(x.shape)) || this;\n    }\n    TanHNode.prototype.validate = function () { };\n    TanHNode.X = 'x';\n    return TanHNode;\n}(Node));\nexports.TanHNode = TanHNode;\nvar SigmoidNode = (function (_super) {\n    __extends(SigmoidNode, _super);\n    function SigmoidNode(graph, x) {\n        return _super.call(this, graph, 'Sigmoid', { x: x }, new Tensor(x.shape)) || this;\n    }\n    SigmoidNode.prototype.validate = function () { };\n    SigmoidNode.X = 'x';\n    return SigmoidNode;\n}(Node));\nexports.SigmoidNode = SigmoidNode;\nvar SquareNode = (function (_super) {\n    __extends(SquareNode, _super);\n    function SquareNode(graph, x) {\n        return _super.call(this, graph, 'Square', { x: x }, new Tensor(x.shape)) || this;\n    }\n    SquareNode.prototype.validate = function () { };\n    SquareNode.X = 'x';\n    return SquareNode;\n}(Node));\nexports.SquareNode = SquareNode;\nvar SoftmaxCrossEntropyCostNode = (function (_super) {\n    __extends(SoftmaxCrossEntropyCostNode, _super);\n    function SoftmaxCrossEntropyCostNode(graph, x, target) {\n        var _this = _super.call(this, graph, 'SoftmaxCrossEntropyCost', { x: x, target: target }, new Tensor([])) || this;\n        _this.x = x;\n        _this.target = target;\n        return _this;\n    }\n    SoftmaxCrossEntropyCostNode.prototype.validate = function () {\n        util.assert(util.arraysEqual(this.x.shape, this.target.shape), \"Error adding softmaxCrossEntropyCost op: x shape (\" + this.x.shape + \") \" +\n            (\"must match target shape (\" + this.target.shape + \").\"));\n    };\n    SoftmaxCrossEntropyCostNode.X = 'x';\n    SoftmaxCrossEntropyCostNode.TARGET = 'target';\n    return SoftmaxCrossEntropyCostNode;\n}(Node));\nexports.SoftmaxCrossEntropyCostNode = SoftmaxCrossEntropyCostNode;\nvar SoftmaxNode = (function (_super) {\n    __extends(SoftmaxNode, _super);\n    function SoftmaxNode(graph, x) {\n        var _this = _super.call(this, graph, 'Softmax', { x: x }, new Tensor(x.shape)) || this;\n        _this.x = x;\n        return _this;\n    }\n    SoftmaxNode.prototype.validate = function () {\n        util.assert(this.x.shape.length === 1, 'The input to a softmax must be a 1-D tensor');\n        util.assert(this.x.shape[0] >= 2, 'The input to a softmax must have at least 2 values');\n    };\n    SoftmaxNode.X = 'x';\n    return SoftmaxNode;\n}(Node));\nexports.SoftmaxNode = SoftmaxNode;\nvar MeanSquaredCostNode = (function (_super) {\n    __extends(MeanSquaredCostNode, _super);\n    function MeanSquaredCostNode(graph, label, prediction) {\n        var _this = _super.call(this, graph, 'Mean Squared Cost', { label: label, prediction: prediction }, new Tensor([])) || this;\n        _this.label = label;\n        _this.prediction = prediction;\n        return _this;\n    }\n    MeanSquaredCostNode.prototype.validate = function () {\n        util.assert(util.arraysEqual(this.label.shape, this.prediction.shape), \"Error adding meanSquaredCost op: label shape (\" + this.label.shape + \") \" +\n            (\"must match prediction shape (\" + this.prediction.shape + \").\"));\n    };\n    MeanSquaredCostNode.LABEL = 'label';\n    MeanSquaredCostNode.PREDICTION = 'prediction';\n    return MeanSquaredCostNode;\n}(Node));\nexports.MeanSquaredCostNode = MeanSquaredCostNode;\nvar ArgMaxNode = (function (_super) {\n    __extends(ArgMaxNode, _super);\n    function ArgMaxNode(graph, x) {\n        var _this = _super.call(this, graph, 'ArgMax', { x: x }, new Tensor([1])) || this;\n        _this.x = x;\n        return _this;\n    }\n    ArgMaxNode.prototype.validate = function () {\n        util.assert(util.sizeFromShape(this.x.shape) > 0, 'Error adding argmax op: input tensor must have at least one entry.');\n    };\n    ArgMaxNode.X = 'x';\n    return ArgMaxNode;\n}(Node));\nexports.ArgMaxNode = ArgMaxNode;\nvar ArgMaxEqualsNode = (function (_super) {\n    __extends(ArgMaxEqualsNode, _super);\n    function ArgMaxEqualsNode(graph, x1, x2) {\n        var _this = _super.call(this, graph, 'ArgMaxEquals', { x1: x1, x2: x2 }, new Tensor([1])) || this;\n        _this.x1 = x1;\n        _this.x2 = x2;\n        return _this;\n    }\n    ArgMaxEqualsNode.prototype.validate = function () {\n        util.assert(util.arraysEqual(this.x1.shape, this.x2.shape), \"Error adding ArgMaxEquals op: x1 shape (\" + this.x1.shape + \") \" +\n            (\"must match x2 shape (\" + this.x2.shape + \").\"));\n    };\n    ArgMaxEqualsNode.X1 = 'x1';\n    ArgMaxEqualsNode.X2 = 'x2';\n    return ArgMaxEqualsNode;\n}(Node));\nexports.ArgMaxEqualsNode = ArgMaxEqualsNode;\n//# sourceMappingURL=graph.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/graph.js\n// module id = 13\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../util\");\nfunction assertParams(aShape, bShape, axis) {\n    var aRank = aShape.length;\n    var bRank = bShape.length;\n    util.assert(aShape.length === bShape.length, \"Error in concat\" + aRank + \"D: rank of x1 (\" + aRank + \") and x2 (\" + bRank + \") \" +\n        \"must be the same.\");\n    util.assert(axis >= 0 && axis < aRank, \"Error in concat\" + aRank + \"D: axis must be \" +\n        (\"between 0 and \" + (aRank - 1) + \".\"));\n    for (var i = 0; i < aRank; i++) {\n        util.assert((i === axis) || (aShape[i] === bShape[i]), \"Error in concat\" + aRank + \"D: Shape (\" + aShape + \") does not match \" +\n            (\"(\" + bShape + \") along the non-concatenated axis \" + i + \".\"));\n    }\n}\nexports.assertParams = assertParams;\nfunction computeOutShape(x1Shape, x2Shape, axis) {\n    util.assert(x1Shape.length === x2Shape.length, 'x1 and x2 should have the same rank.');\n    var outputShape = x1Shape.slice();\n    outputShape[axis] += x2Shape[axis];\n    return outputShape;\n}\nexports.computeOutShape = computeOutShape;\n//# sourceMappingURL=concat_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/concat_util.js\n// module id = 14\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../util\");\nvar axis_util = require(\"./axis_util\");\nvar broadcast_util = require(\"./broadcast_util\");\nvar concat_util = require(\"./concat_util\");\nvar conv_util = require(\"./conv_util\");\nvar copy2d_util = require(\"./copy2d_util\");\nvar ndarray_1 = require(\"./ndarray\");\nvar slice_util = require(\"./slice_util\");\nvar SumTypesMap;\n(function (SumTypesMap) {\n    SumTypesMap[\"float32\"] = \"float32\";\n    SumTypesMap[\"int32\"] = \"int32\";\n    SumTypesMap[\"bool\"] = \"int32\";\n})(SumTypesMap = exports.SumTypesMap || (exports.SumTypesMap = {}));\nvar NDArrayMath = (function () {\n    function NDArrayMath(safeMode) {\n        this.safeMode = safeMode;\n        this.ndarrayScopes = [];\n        this.ndarraysToKeep = [];\n        this.activeScopeNDArraysToKeep = [];\n        this.debugMode = false;\n    }\n    NDArrayMath.prototype.scope = function (scopeFn) {\n        var _this = this;\n        this.startScope();\n        var keepFn = function (ndarray) { return _this.keep(ndarray); };\n        var trackFn = function (ndarray) { return _this.track(ndarray); };\n        var result = scopeFn(keepFn, trackFn);\n        if (result instanceof Promise) {\n            result.then(function (r) { return _this.endScope(r); });\n            return result;\n        }\n        else {\n            this.endScope(result);\n            return result;\n        }\n    };\n    NDArrayMath.prototype.enableDebugMode = function () {\n        this.debugMode = true;\n        console.warn('Debugging mode is ON. The output of every math call will ' +\n            'be downloaded to CPU and checked for NaNs. ' +\n            'This significantly impacts performance.');\n    };\n    NDArrayMath.prototype.startScope = function () {\n        var newScope = [];\n        this.ndarrayScopes.push(newScope);\n        this.activeScope = newScope;\n        var newNDArraysToKeep = [];\n        this.ndarraysToKeep.push(newNDArraysToKeep);\n        this.activeScopeNDArraysToKeep = newNDArraysToKeep;\n    };\n    NDArrayMath.prototype.extractNDArraysFromScopeResult = function (result) {\n        if (result == null) {\n            return [];\n        }\n        if (result instanceof ndarray_1.NDArray) {\n            return [result];\n        }\n        var list = [];\n        var resultObj = result;\n        for (var k in resultObj) {\n            var val = resultObj[k];\n            if (val instanceof ndarray_1.NDArray) {\n                list.push(val);\n            }\n        }\n        return list;\n    };\n    NDArrayMath.prototype.endScope = function (result) {\n        var _this = this;\n        var arraysToKeep = this.activeScopeNDArraysToKeep;\n        var resultArrays = this.extractNDArraysFromScopeResult(result);\n        arraysToKeep = arraysToKeep.concat(resultArrays);\n        for (var i = 0; i < this.activeScope.length; i++) {\n            var ndarray = this.activeScope[i];\n            if (this.isNDArrayDataInList(ndarray, arraysToKeep)) {\n                continue;\n            }\n            ndarray.dispose();\n        }\n        this.ndarrayScopes.pop();\n        this.activeScope = this.ndarrayScopes.length === 0 ?\n            null :\n            this.ndarrayScopes[this.ndarrayScopes.length - 1];\n        resultArrays.forEach(function (val) {\n            if (!_this.isNDArrayDataInList(val, _this.activeScopeNDArraysToKeep)) {\n                _this.track(val);\n            }\n        });\n        this.ndarraysToKeep.pop();\n        this.activeScopeNDArraysToKeep = this.ndarraysToKeep.length === 0 ?\n            null :\n            this.ndarraysToKeep[this.ndarraysToKeep.length - 1];\n    };\n    NDArrayMath.prototype.isNDArrayDataInList = function (ndarray, ndarrayList) {\n        for (var i = 0; i < ndarrayList.length; i++) {\n            if (ndarrayList[i].getData() === ndarray.getData()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    NDArrayMath.prototype.keep = function (result) {\n        if (this.activeScope == null) {\n            if (this.safeMode) {\n                throw new Error('You are using math in safe mode. Enclose all ' +\n                    'math.method() calls inside a scope: ' +\n                    'math.scope(() => {math.method();...}) to avoid memory ' +\n                    'leaks.');\n            }\n            return result;\n        }\n        this.activeScopeNDArraysToKeep.push(result);\n        return result;\n    };\n    NDArrayMath.prototype.checkForNaN = function (vals, dtype, name) {\n        for (var i = 0; i < vals.length; i++) {\n            if (util.isValNaN(vals[i], dtype)) {\n                throw Error(\"The result of the last math.\" + name + \" has NaNs.\");\n            }\n        }\n    };\n    NDArrayMath.prototype.track = function (result) {\n        if (this.activeScope == null) {\n            if (this.safeMode) {\n                throw new Error('You are using math in safe mode. Enclose all ' +\n                    'math.method() calls inside a scope: ' +\n                    'math.scope(() => {math.method();...}) to avoid memory ' +\n                    'leaks.');\n            }\n            return result;\n        }\n        this.activeScope.push(result);\n        return result;\n    };\n    NDArrayMath.prototype.dispose = function () { };\n    NDArrayMath.prototype.matMul = function (a, b, aOrientation, bOrientation) {\n        var _this = this;\n        if (aOrientation === void 0) { aOrientation = MatrixOrientation.REGULAR; }\n        if (bOrientation === void 0) { bOrientation = MatrixOrientation.REGULAR; }\n        var innerShapeA = (aOrientation === MatrixOrientation.REGULAR) ? a.shape[1] : a.shape[0];\n        var innerShapeB = (bOrientation === MatrixOrientation.REGULAR) ? b.shape[0] : b.shape[1];\n        util.assert(a.rank === 2 && b.rank === 2, \"Error in matMul: inputs must be rank 2, got ranks \" + a.rank +\n            (\" and \" + b.rank + \".\"));\n        util.assert(innerShapeA === innerShapeB, \"Error in matMul: inner shapes (\" + innerShapeA + \") and (\" +\n            (innerShapeB + \") of NDArrays with shapes \" + a.shape + \" and \") +\n            (b.shape + \" and orientations \" + MatrixOrientation[aOrientation]) +\n            (\" and \" + MatrixOrientation[bOrientation] + \" must match.\"));\n        return this.executeOp('matMul', function () { return _this.matMulInternal(a, b, aOrientation, bOrientation); });\n    };\n    NDArrayMath.prototype.executeOp = function (name, f) {\n        var start;\n        if (this.debugMode) {\n            start = performance.now();\n        }\n        var result = f();\n        if (this.debugMode) {\n            var vals = result.getValues();\n            var time = util.rightPad(performance.now() - start + \"ms\", 9);\n            var paddedName = util.rightPad(name, 25);\n            var rank = result.rank;\n            var size = result.size;\n            var shape = util.rightPad(result.shape.toString(), 14);\n            console.log(\"%c\" + paddedName + \"\\t%c\" + time + \"\\t%c\" + rank + \"D \" + shape + \"\\t%c\" + size, 'font-weight:bold', 'color:red', 'color:blue', 'color: orange');\n            this.checkForNaN(vals, result.dtype, name);\n        }\n        return this.track(result);\n    };\n    NDArrayMath.prototype.vectorTimesMatrix = function (v, matrix) {\n        util.assert(v.rank === 1, \"Error in vectorTimesMatrix: first input must be rank 1, but got \" +\n            (\"rank \" + v.rank + \".\"));\n        util.assert(matrix.rank === 2, \"Error in vectorTimesMatrix: second input must be rank 2, but got \" +\n            (\"rank \" + matrix.rank + \".\"));\n        util.assert(v.size === matrix.shape[0], \"Error in vectorTimesMatrix: size of vector (\" + v.size + \") \" +\n            (\"must match first dimension of matrix (\" + matrix.shape[0] + \")\"));\n        return this.matMul(v.as2D(1, -1), matrix).as1D();\n    };\n    NDArrayMath.prototype.matrixTimesVector = function (matrix, v) {\n        util.assert(v.rank === 1, \"Error in matrixTimesVector: second input must rank 1, but got \" +\n            (\"rank \" + v.rank + \".\"));\n        util.assert(matrix.rank === 2, \"Error in matrixTimesVector: first input must be a rank 2, but got \" +\n            (\"rank \" + matrix.rank + \".\"));\n        util.assert(v.size === matrix.shape[1], \"Error in matrixTimesVector: size of first rank 1 input \" + v.size + \" \" +\n            \"must match inner dimension of second rank 2 input, but got \" +\n            (\"shape \" + matrix.shape + \".\"));\n        return this.matMul(matrix, v.as2D(-1, 1)).as1D();\n    };\n    NDArrayMath.prototype.dotProduct = function (v1, v2) {\n        util.assert(v1.rank === 1 && v2.rank === 1, \"Error in dotProduct: inputs must be rank 1, but got ranks \" +\n            (v1.rank + \" and \" + v2.rank + \".\"));\n        util.assert(v1.size === v2.size, \"Error in dotProduct: size of inputs (\" + v1.size + \") and (\" +\n            (v2.size + \") must match.\"));\n        return this.matMul(v1.as2D(1, -1), v2.as2D(-1, 1)).asScalar();\n    };\n    NDArrayMath.prototype.outerProduct = function (v1, v2) {\n        util.assert(v1.rank === 1 && v2.rank === 1, \"Error in outerProduct: inputs must be rank 1, but got ranks \" +\n            (v1.rank + \" and \" + v2.rank + \".\"));\n        return this.matMul(v1.as2D(-1, 1), v2.as2D(1, -1));\n    };\n    NDArrayMath.prototype.clone = function (ndarray) {\n        var _this = this;\n        return this.executeOp('clone', function () { return _this.cloneInternal(ndarray); });\n    };\n    NDArrayMath.prototype.reshape = function (ndarray, newShape) {\n        console.warn('math.reshape() is deprecated. Please call reshape() ' +\n            'directly on the ndarray object');\n        return ndarray.reshape(newShape);\n    };\n    NDArrayMath.prototype.slice1D = function (input, begin, size) {\n        var _this = this;\n        slice_util.assertParamsValid(input, [begin], [size]);\n        return this.executeOp('slice1D', function () { return _this.slice1DInternal(input, begin, size); });\n    };\n    NDArrayMath.prototype.slice2D = function (input, begin, size) {\n        var _this = this;\n        slice_util.assertParamsValid(input, begin, size);\n        return this.executeOp('slice2D', function () { return _this.slice2DInternal(input, begin, size); });\n    };\n    NDArrayMath.prototype.slice3D = function (input, begin, size) {\n        var _this = this;\n        slice_util.assertParamsValid(input, begin, size);\n        return this.executeOp('slice3D', function () { return _this.slice3DInternal(input, begin, size); });\n    };\n    NDArrayMath.prototype.slice4D = function (input, begin, size) {\n        var _this = this;\n        slice_util.assertParamsValid(input, begin, size);\n        return this.executeOp('slice4D', function () { return _this.slice4DInternal(input, begin, size); });\n    };\n    NDArrayMath.prototype.copy2D = function (source, sourceBegin, sourceSize, dest, destBegin, destSize) {\n        var _this = this;\n        util.assert(sourceBegin[0] + sourceSize[0] <= source.shape[0] &&\n            sourceBegin[1] + sourceSize[1] <= source.shape[1], \"Error in copy2D: requested source start position \" + sourceBegin + \" \" +\n            (\"and source size \" + sourceSize + \" would overflow source NDArray\") +\n            (\"of shape \" + source.shape + \".\"));\n        util.assert(destBegin[0] + destSize[0] <= dest.shape[0] &&\n            destBegin[1] + destSize[1] <= dest.shape[1], \"Error in copy2D: requested dest start position \" + destBegin + \" \" +\n            (\"and source size \" + destSize + \" would overflow dest NDArray of\") +\n            (\"shape \" + dest.shape + \".\"));\n        copy2d_util.validateShapes(sourceSize, destSize);\n        this.executeOp('copy2D', function () {\n            _this.copy2DInternal(source, sourceBegin, sourceSize, dest, destBegin, destSize);\n            return dest;\n        });\n    };\n    NDArrayMath.prototype.concat1D = function (a, b) {\n        var _this = this;\n        concat_util.assertParams(a.shape, b.shape, 0);\n        return this.executeOp('concat1D', function () { return _this.concat1DInternal(a, b); });\n    };\n    NDArrayMath.prototype.concat2D = function (a, b, axis) {\n        var _this = this;\n        concat_util.assertParams(a.shape, b.shape, axis);\n        return this.executeOp('concat2D', function () { return _this.concat2DInternal(a, b, axis); });\n    };\n    NDArrayMath.prototype.concat3D = function (ndarray1, ndarray2, axis) {\n        var _this = this;\n        concat_util.assertParams(ndarray1.shape, ndarray2.shape, axis);\n        return this.executeOp('concat3D', function () { return _this.concat3DInternal(ndarray1, ndarray2, axis); });\n    };\n    NDArrayMath.prototype.concat4D = function (ndarray1, ndarray2, axis) {\n        var _this = this;\n        concat_util.assertParams(ndarray1.shape, ndarray2.shape, axis);\n        return this.executeOp('concat4D', function () { return _this.concat4DInternal(ndarray1, ndarray2, axis); });\n    };\n    NDArrayMath.prototype.logSumExp = function (input, axis, keepDims) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        var axes = axis_util.parseAxisParam(axis, input.shape);\n        return this.executeOp('logSumExp', function () {\n            var xMax = _this.max(input, axes, true);\n            var a = _this.subtract(input, xMax);\n            var b = _this.exp(a);\n            var c = _this.sum(b, axes);\n            var d = _this.log(c);\n            var res = _this.add(xMax.reshape(d.shape), d);\n            if (keepDims) {\n                var newShape = axis_util.expandShapeToKeepDim(res.shape, axes);\n                return res.reshape(newShape);\n            }\n            return res;\n        });\n    };\n    NDArrayMath.prototype.sum = function (input, axis, keepDims) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        var origAxes = axis_util.parseAxisParam(axis, input.shape);\n        var axes = origAxes;\n        var permutedAxes = axis_util.getPermutedAxes(axes, input.rank);\n        return this.executeOp('sum', function () {\n            if (permutedAxes != null) {\n                input = _this.transpose(input, permutedAxes);\n                axes = axis_util.getInnerMostAxes(axes.length, input.rank);\n            }\n            var res = _this.sumInternal(input, axes);\n            if (keepDims) {\n                var newShape = axis_util.expandShapeToKeepDim(res.shape, origAxes);\n                return res.reshape(newShape);\n            }\n            return res;\n        });\n    };\n    NDArrayMath.prototype.mean = function (x, axis, keepDims) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var shapes = axis_util.computeOutAndReduceShapes(x.shape, axes);\n        var reduceShape = shapes[1];\n        var reduceSize = util.sizeFromShape(reduceShape);\n        return this.executeOp('mean', function () {\n            return _this.scope(function (keep, track) {\n                var res = _this.divide(x, track(ndarray_1.Scalar.new(reduceSize)));\n                return _this.sum(res, axis, keepDims);\n            });\n        });\n    };\n    NDArrayMath.prototype.argMin = function (input, axis) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        var axes = axis_util.parseAxisParam(axis, input.shape);\n        var permutedAxes = axis_util.getPermutedAxes(axes, input.rank);\n        return this.executeOp('argMin', function () {\n            if (permutedAxes != null) {\n                input = _this.transpose(input, permutedAxes);\n                axes = axis_util.getInnerMostAxes(axes.length, input.rank);\n            }\n            return _this.argMinInternal(input, axes);\n        });\n    };\n    NDArrayMath.prototype.argMax = function (input, axis) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        var axes = axis_util.parseAxisParam(axis, input.shape);\n        var permutedAxes = axis_util.getPermutedAxes(axes, input.rank);\n        return this.executeOp('argMax', function () {\n            if (permutedAxes != null) {\n                input = _this.transpose(input, permutedAxes);\n                axes = axis_util.getInnerMostAxes(axes.length, input.rank);\n            }\n            return _this.argMaxInternal(input, axes);\n        });\n    };\n    NDArrayMath.prototype.argMaxEquals = function (x1, x2) {\n        var _this = this;\n        util.assertShapesMatch(x1.shape, x2.shape, 'Error in argMaxEquals: ');\n        return this.executeOp('argMaxEquals', function () { return _this.scope(function () {\n            return _this.equal(_this.argMax(x1), _this.argMax(x2));\n        }); });\n    };\n    NDArrayMath.prototype.equal = function (x, y) {\n        var _this = this;\n        return this.executeOp('equal', function () { return _this.equalInternal(x, y); });\n    };\n    NDArrayMath.prototype.equalStrict = function (x, y) {\n        util.assertShapesMatch(x.shape, y.shape, 'Error in equalStrict: ');\n        return this.equal(x, y);\n    };\n    NDArrayMath.prototype.topK = function (ndarray, k) {\n        var _this = this;\n        util.assert(k <= ndarray.size, \"Error in topK: k value (\" + k + \") must be less than size of input \" +\n            (\"ndarray, got shape \" + ndarray.shape + \".\"));\n        var result;\n        this.executeOp('topK', function () {\n            result = _this.topKInternal(ndarray, k);\n            return result.values;\n        });\n        this.track(result.indices);\n        return result;\n    };\n    NDArrayMath.prototype.min = function (input, axis, keepDims) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        var origAxes = axis_util.parseAxisParam(axis, input.shape);\n        var axes = origAxes;\n        var permutedAxes = axis_util.getPermutedAxes(axes, input.rank);\n        return this.executeOp('min', function () {\n            if (permutedAxes != null) {\n                input = _this.transpose(input, permutedAxes);\n                axes = axis_util.getInnerMostAxes(axes.length, input.rank);\n            }\n            var res = _this.minInternal(input, axes);\n            if (keepDims) {\n                var newShape = axis_util.expandShapeToKeepDim(res.shape, origAxes);\n                return res.reshape(newShape);\n            }\n            return res;\n        });\n    };\n    NDArrayMath.prototype.max = function (input, axis, keepDims) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        var origAxes = axis_util.parseAxisParam(axis, input.shape);\n        var axes = origAxes;\n        var permutedAxes = axis_util.getPermutedAxes(axes, input.rank);\n        return this.executeOp('max', function () {\n            if (permutedAxes != null) {\n                input = _this.transpose(input, permutedAxes);\n                axes = axis_util.getInnerMostAxes(axes.length, input.rank);\n            }\n            var res = _this.maxInternal(input, axes);\n            if (keepDims) {\n                var newShape = axis_util.expandShapeToKeepDim(res.shape, origAxes);\n                return res.reshape(newShape);\n            }\n            return res;\n        });\n    };\n    NDArrayMath.prototype.softmax = function (logits, dim) {\n        var _this = this;\n        if (dim === void 0) { dim = -1; }\n        if (dim === -1) {\n            dim = logits.rank - 1;\n        }\n        if (dim !== logits.rank - 1) {\n            throw Error('Softmax along a non-last dimension is not yet supported. ' +\n                (\"Logits was rank \" + logits.rank + \" and dim was \" + dim));\n        }\n        return this.executeOp('softmax', function () {\n            return _this.scope(function () {\n                var lse = _this.logSumExp(logits, [dim], true);\n                var logResult = _this.subtract(logits, lse);\n                return _this.exp(logResult);\n            });\n        });\n    };\n    NDArrayMath.prototype.switchDim = function (a, newDim) {\n        return this.transpose(a, newDim);\n    };\n    NDArrayMath.prototype.tile = function (a, reps) {\n        var _this = this;\n        util.assert(a.rank === reps.length, \"Error in transpose: rank of input \" + a.rank + \" \" +\n            (\"must match length of reps \" + reps + \".\"));\n        return this.executeOp('tile', function () { return _this.tileInternal(a, reps); });\n    };\n    NDArrayMath.prototype.transpose = function (a, perm) {\n        var _this = this;\n        if (perm == null) {\n            perm = a.shape.map(function (s, i) { return i; }).reverse();\n        }\n        util.assert(a.rank === perm.length, \"Error in transpose: rank of input \" + a.rank + \" \" +\n            (\"must match length of perm \" + perm + \".\"));\n        return this.executeOp('transpose', function () { return _this.transposeInternal(a, perm); });\n    };\n    NDArrayMath.prototype.scalarPlusArray = function (c, a) {\n        util.assert(c.size === 1, \"Error in scalarPlusArray: first argument must be rank 0, but got \" +\n            (\"rank \" + c.rank + \".\"));\n        return this.add(c, a);\n    };\n    NDArrayMath.prototype.scalarMinusArray = function (c, a) {\n        util.assert(c.size === 1, \"Error in scalarMinusArray: first argument must be rank 0, but got \" +\n            (\"rank \" + c.rank + \".\"));\n        return this.subtract(c, a);\n    };\n    NDArrayMath.prototype.arrayMinusScalar = function (a, c) {\n        util.assert(c.size === 1, \"Error in arrayMinusScalar: second argument must be rank 0, but \" +\n            (\"got rank \" + c.rank + \".\"));\n        return this.subtract(a, c);\n    };\n    NDArrayMath.prototype.neg = function (a) {\n        var _this = this;\n        return this.executeOp('neg', function () { return _this.negInternal(a); });\n    };\n    NDArrayMath.prototype.add = function (a, b) {\n        var _this = this;\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return this.executeOp('add', function () { return _this.addInternal(a, b); });\n    };\n    NDArrayMath.prototype.addStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in addStrict: ');\n        return this.add(a, b);\n    };\n    NDArrayMath.prototype.subtract = function (a, b) {\n        var _this = this;\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return this.executeOp('subtract', function () { return _this.subtractInternal(a, b); });\n    };\n    NDArrayMath.prototype.sub = function (a, b) {\n        return this.subtract(a, b);\n    };\n    NDArrayMath.prototype.subStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in subStrict: ');\n        return this.subtract(a, b);\n    };\n    NDArrayMath.prototype.multiply = function (a, b) {\n        var _this = this;\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return this.executeOp('multiply', function () { return _this.multiplyInternal(a, b); });\n    };\n    NDArrayMath.prototype.elementWiseMul = function (a, b) {\n        return this.multiplyStrict(a, b);\n    };\n    NDArrayMath.prototype.multiplyStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in multiplyStrict: ');\n        return this.multiply(a, b);\n    };\n    NDArrayMath.prototype.divide = function (a, b) {\n        var _this = this;\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return this.executeOp('divide', function () { return _this.divideInternal(a, b); });\n    };\n    NDArrayMath.prototype.divideStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in divideStrict: ');\n        return this.divide(a, b);\n    };\n    NDArrayMath.prototype.scalarDividedByArray = function (c, a) {\n        util.assert(c.size === 1, \"Error in scalarDividedByArray: first argument must be rank 0, but \" +\n            (\"got NDArray of rank \" + c.rank + \".\"));\n        return this.divide(c, a);\n    };\n    NDArrayMath.prototype.arrayDividedByScalar = function (a, c) {\n        util.assert(c.size === 1, \"Error in arrayDividedByScalar: second argument must be rank 0, \" +\n            (\"but got NDArray of rank \" + c.rank + \".\"));\n        return this.divide(a, c);\n    };\n    NDArrayMath.prototype.ceil = function (ndarray) {\n        var _this = this;\n        return this.executeOp('ceil', function () { return _this.ceilInternal(ndarray); });\n    };\n    NDArrayMath.prototype.floor = function (ndarray) {\n        var _this = this;\n        return this.executeOp('floor', function () { return _this.floorInternal(ndarray); });\n    };\n    NDArrayMath.prototype.exp = function (ndarray) {\n        var _this = this;\n        return this.executeOp('exp', function () { return _this.expInternal(ndarray); });\n    };\n    NDArrayMath.prototype.log = function (ndarray) {\n        var _this = this;\n        return this.executeOp('log', function () { return _this.logInternal(ndarray); });\n    };\n    NDArrayMath.prototype.sqrt = function (ndarray) {\n        var _this = this;\n        return this.executeOp('sqrt', function () { return _this.sqrtInternal(ndarray); });\n    };\n    NDArrayMath.prototype.square = function (x) {\n        var _this = this;\n        return this.executeOp('square', function () { return _this.squareInternal(x); });\n    };\n    NDArrayMath.prototype.abs = function (ndarray) {\n        var _this = this;\n        return this.executeOp('abs', function () { return _this.absInternal(ndarray); });\n    };\n    NDArrayMath.prototype.clip = function (ndarray, min, max) {\n        var _this = this;\n        util.assert((min <= max), \"Error in clip: min (\" + min + \") must be\" +\n            (\"less than or equal to max (\" + max + \").\"));\n        return this.executeOp('clip', function () { return _this.clipInternal(ndarray, min, max); });\n    };\n    NDArrayMath.prototype.relu = function (ndarray) {\n        var _this = this;\n        return this.executeOp('relu', function () { return _this.reluInternal(ndarray); });\n    };\n    NDArrayMath.prototype.elu = function (ndarray) {\n        var _this = this;\n        return this.executeOp('elu', function () { return _this.eluInternal(ndarray); });\n    };\n    NDArrayMath.prototype.leakyRelu = function (ndarray, alpha) {\n        var _this = this;\n        if (alpha === void 0) { alpha = 0.2; }\n        return this.executeOp('leakyRelu', function () { return _this.leakyReluInternal(ndarray, alpha); });\n    };\n    NDArrayMath.prototype.sigmoid = function (ndarray) {\n        var _this = this;\n        return this.executeOp('sigmoid', function () { return _this.sigmoidInternal(ndarray); });\n    };\n    NDArrayMath.prototype.sin = function (ndarray) {\n        var _this = this;\n        return this.executeOp('sin', function () { return _this.sinInternal(ndarray); });\n    };\n    NDArrayMath.prototype.cos = function (ndarray) {\n        var _this = this;\n        return this.executeOp('cos', function () { return _this.cosInternal(ndarray); });\n    };\n    NDArrayMath.prototype.tan = function (ndarray) {\n        var _this = this;\n        return this.executeOp('tan', function () { return _this.tanInternal(ndarray); });\n    };\n    NDArrayMath.prototype.asin = function (ndarray) {\n        var _this = this;\n        return this.executeOp('asin', function () { return _this.asinInternal(ndarray); });\n    };\n    NDArrayMath.prototype.acos = function (ndarray) {\n        var _this = this;\n        return this.executeOp('acos', function () { return _this.acosInternal(ndarray); });\n    };\n    NDArrayMath.prototype.atan = function (ndarray) {\n        var _this = this;\n        return this.executeOp('atan', function () { return _this.atanInternal(ndarray); });\n    };\n    NDArrayMath.prototype.sinh = function (ndarray) {\n        var _this = this;\n        return this.executeOp('sinh', function () { return _this.sinhInternal(ndarray); });\n    };\n    NDArrayMath.prototype.cosh = function (ndarray) {\n        var _this = this;\n        return this.executeOp('cosh', function () { return _this.coshInternal(ndarray); });\n    };\n    NDArrayMath.prototype.tanh = function (ndarray) {\n        var _this = this;\n        return this.executeOp('tanh', function () { return _this.tanhInternal(ndarray); });\n    };\n    NDArrayMath.prototype.step = function (ndarray, alpha) {\n        var _this = this;\n        if (alpha === void 0) { alpha = 0.0; }\n        return this.executeOp('step', function () { return _this.stepInternal(ndarray, alpha); });\n    };\n    NDArrayMath.prototype.scaledArrayAdd = function (c1, a, c2, b) {\n        var _this = this;\n        util.assert(c1.size === 1, \"Error in scaledArrayAdd: first argument must rank 0, but got \" +\n            (\" rank \" + c1.rank + \".\"));\n        util.assert(c2.size === 1, \"Error in scaledArrayAdd: third argument must be rank 0, but got \" +\n            (\"NDArray of rank \" + c2.rank + \".\"));\n        util.assertShapesMatch(a.shape, b.shape, 'Error in scaledArrayAdd: ');\n        return this.executeOp('scaledArrayAdd', function () { return _this.scaledArrayAddInternal(c1, a, c2, b); });\n    };\n    NDArrayMath.prototype.scalarTimesArray = function (c, a) {\n        util.assert(c.size === 1, \"Error in arrayDividedByScalar: first argument must be rank 0, but \" +\n            (\"got rank \" + c.rank + \".\"));\n        return this.multiply(c, a);\n    };\n    NDArrayMath.prototype.elementWiseMulBroadcast = function (a, b) {\n        util.assert(a.rank === 2, \"Error in elementWiseMulBroadcast: first argument must be \" +\n            (\"rank 2, but got rank \" + a.rank + \".\"));\n        util.assert(b.rank === 2, \"Error in elementWiseMulBroadcast: second argument must be \" +\n            (\"rank 2, but got rank \" + b.rank + \".\"));\n        return this.multiply(a, b);\n    };\n    NDArrayMath.prototype.conv2d = function (x, filter, bias, strides, pad) {\n        var _this = this;\n        util.assert(x.rank === 3, \"Error in conv2d: x must be rank 3, but got rank \" + x.rank + \".\");\n        util.assert(filter.rank === 4, \"Error in conv2d: filter must be rank 4, but got rank \" +\n            (filter.rank + \".\"));\n        if (bias != null) {\n            util.assert(bias.rank === 1, \"Error in conv2d: bias must be rank 1, but got rank \" +\n                (bias.rank + \".\"));\n        }\n        util.assert(x.shape[2] === filter.shape[2], \"Error in conv2d: depth of input (\" + x.shape[2] + \") must match  \" +\n            (\"input depth for filter \" + filter.shape[2] + \".\"));\n        var filterHeight = filter.shape[0];\n        var filterWidth = filter.shape[1];\n        var outDepth = filter.shape[3];\n        var _a = parseTupleParam(strides), strideHeight = _a[0], strideWidth = _a[1];\n        var convInfo = conv_util.computeConv2DInfo(x.shape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad);\n        return this.executeOp('conv2d', function () { return _this.conv2dInternal(x, filter, bias, convInfo); });\n    };\n    NDArrayMath.prototype.conv2dBackProp = function (x, dy, filter, strides, pad) {\n        var dw = this.conv2dDerFilter(x, dy, filter.shape, strides, pad);\n        var db = this.conv2dDerBias(dy);\n        var dx = this.conv2dDerInput(x.shape, dy, filter, strides, pad);\n        return { db: db, dw: dw, dx: dx };\n    };\n    NDArrayMath.prototype.conv2dDerInput = function (inShape, dy, filter, strides, pad) {\n        var _this = this;\n        var inDepth = inShape[2];\n        var outDepth = dy.shape[2];\n        util.assert(inShape.length === 3, \"Error in conv2dDerInput: x must be rank 3, but got rank \" +\n            (inShape.length + \".\"));\n        util.assert(dy.rank === 3, \"Error in conv2dDerInput: dy must be rank 3, but got \" +\n            (\"rank \" + dy.rank));\n        util.assert(filter.rank === 4, \"Error in conv2dDerInput: filter must be rank 4, but got \" +\n            (\"rank \" + filter.rank));\n        util.assert(inDepth === filter.shape[2], \"Error in conv2dDerInput: depth of input (\" + inDepth + \") must \" +\n            (\"match input depth for filter \" + filter.shape[2] + \".\"));\n        util.assert(outDepth === filter.shape[3], \"Error in conv2dDerInput: depth of output (\" + outDepth + \") must\" +\n            (\"match output depth for filter \" + filter.shape[3] + \".\"));\n        var filterHeight = filter.shape[0];\n        var filterWidth = filter.shape[1];\n        var _a = parseTupleParam(strides), strideHeight = _a[0], strideWidth = _a[1];\n        var convInfo = conv_util.computeConv2DInfo(inShape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad);\n        return this.executeOp('conv2dDerInput', function () { return _this.conv2dDerInputInternal(dy, filter, convInfo); });\n    };\n    NDArrayMath.prototype.conv2dDerBias = function (dy) {\n        return this.track(this.conv2dDerBiasInternal(dy));\n    };\n    NDArrayMath.prototype.conv2dDerFilter = function (x, dy, filterSize, strides, pad) {\n        util.assert(x.rank === 3, \"Error in conv2dDerFilter: x must be rank 3, but got shape \" +\n            (x.shape + \".\"));\n        util.assert(dy.rank === 3, \"Error in conv2dDerFilter: dy must be rank 3, but got shape \" +\n            (dy.shape + \".\"));\n        util.assert(filterSize.length === 4, \"Error in conv2dDerFilter: filterSize must be length 4, but got \" +\n            (filterSize + \".\"));\n        util.assert(x.shape[2] === filterSize[2], \"Error in conv2dDerFilter: depth of x \" + x.shape[2] + \") must \" +\n            (\"match input depth in filter (\" + filterSize[2] + \".\"));\n        util.assert(dy.shape[2] === filterSize[3], \"Error in conv2dDerFilter: depth of dy (\" + dy.shape[2] + \") must \" +\n            (\"match output depth for filter (\" + filterSize[3] + \").\"));\n        var filterHeight = filterSize[0];\n        var filterWidth = filterSize[1];\n        var outDepth = filterSize[3];\n        var _a = parseTupleParam(strides), strideHeight = _a[0], strideWidth = _a[1];\n        var convInfo = conv_util.computeConv2DInfo(x.shape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad);\n        return this.track(this.conv2dDerFilterInternal(x, dy, convInfo));\n    };\n    NDArrayMath.prototype.conv2dTranspose = function (x, filter, outputShape, strides, pad) {\n        return this.conv2dDerInput(outputShape, x, filter, strides, pad);\n    };\n    NDArrayMath.prototype.depthwiseConv2D = function (input, filter, strides, pad, rates) {\n        var _this = this;\n        if (rates === void 0) { rates = [1, 1]; }\n        var input4D = input;\n        var reshapedTo4D = false;\n        if (input.rank === 3) {\n            reshapedTo4D = true;\n            input4D = input.as4D(1, input.shape[0], input.shape[1], input.shape[2]);\n        }\n        util.assert(input4D.rank === 4, \"Error in depthwiseConv2D: input must be rank 4, but got \" +\n            (\"rank \" + input4D.rank + \".\"));\n        util.assert(filter.rank === 4, \"Error in depthwiseConv2D: filter must be rank 4, but got rank \" +\n            (filter.rank + \".\"));\n        util.assert(input4D.shape[3] === filter.shape[2], \"Error in depthwiseConv2D: number of input channels \" +\n            (\"(\" + input4D.shape[3] + \") must match the inChannels dimension in \") +\n            (\"filter \" + filter.shape[2] + \".\"));\n        rates = rates || [1, 1];\n        var _a = parseTupleParam(rates), rateHeight = _a[0], rateWidth = _a[1];\n        util.assert(rateHeight === 1 && rateWidth === 1, 'Error in depthwiseConv2D: rates greater than 1 are not yet ' +\n            (\"supported. Got rates '\" + rates + \"'\"));\n        var convInfo = conv_util.computeDepthwiseConv2DInfo(input4D.shape, filter.shape, strides, pad);\n        return this.executeOp('depthwiseConv2D', function () {\n            var res = _this.depthwiseConv2DInternal(input4D, filter, convInfo);\n            if (reshapedTo4D) {\n                return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n            }\n            return res;\n        });\n    };\n    NDArrayMath.prototype.maxPool = function (x, filterSize, strides, pad) {\n        var _this = this;\n        util.assert(x.rank === 3, \"Error in maxPool: x must be rank 3 but got rank \" + x.rank + \".\");\n        var _a = parseTupleParam(filterSize), filterHeight = _a[0], filterWidth = _a[1];\n        var outDepth = x.shape[2];\n        var _b = parseTupleParam(strides), strideHeight = _b[0], strideWidth = _b[1];\n        var convInfo = conv_util.computeConv2DInfo(x.shape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad);\n        return this.executeOp('maxPool', function () { return _this.maxPoolInternal(x, convInfo); });\n    };\n    NDArrayMath.prototype.maxPoolBackprop = function (dy, x, filterSize, strides, pad) {\n        var _this = this;\n        util.assert(dy.rank === 3, \"Error in maxPoolBackprop: dy must be rank 3 but got rank \" +\n            (dy.rank + \".\"));\n        util.assert(x.rank === 3, \"Error in maxPoolBackprop: x must be rank 3 but got rank \" +\n            (x.rank + \".\"));\n        var _a = parseTupleParam(filterSize), filterHeight = _a[0], filterWidth = _a[1];\n        var outDepth = x.shape[2];\n        var _b = parseTupleParam(strides), strideHeight = _b[0], strideWidth = _b[1];\n        var convInfo = conv_util.computeConv2DInfo(x.shape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad);\n        return this.executeOp('maxPoolBackprop', function () { return _this.maxPoolBackpropInternal(dy, x, convInfo); });\n    };\n    NDArrayMath.prototype.minPool = function (x, filterSize, strides, pad) {\n        var _this = this;\n        util.assert(x.rank === 3, \"Error in minPool: x must be rank 3 but got rank \" + x.rank + \".\");\n        var _a = parseTupleParam(filterSize), filterHeight = _a[0], filterWidth = _a[1];\n        var outDepth = x.shape[2];\n        var _b = parseTupleParam(strides), strideHeight = _b[0], strideWidth = _b[1];\n        var convInfo = conv_util.computeConv2DInfo(x.shape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad);\n        return this.executeOp('minPool', function () { return _this.minPoolInternal(x, convInfo); });\n    };\n    NDArrayMath.prototype.avgPool = function (x, filterSize, strides, pad) {\n        var _this = this;\n        util.assert(x.rank === 3, \"Error in avgPool: x must be rank 3 but got rank \" + x.rank + \".\");\n        var _a = parseTupleParam(filterSize), filterHeight = _a[0], filterWidth = _a[1];\n        var outDepth = x.shape[2];\n        var _b = parseTupleParam(strides), strideHeight = _b[0], strideWidth = _b[1];\n        var convInfo = conv_util.computeConv2DInfo(x.shape, filterHeight, filterWidth, outDepth, strideHeight, strideWidth, pad);\n        return this.executeOp('avgPool', function () { return _this.avgPoolInternal(x, convInfo); });\n    };\n    NDArrayMath.prototype.resizeBilinear3D = function (x, newShape2D, alignCorners) {\n        var _this = this;\n        if (alignCorners === void 0) { alignCorners = false; }\n        util.assert(x.rank === 3, \"Error in resizeBilinear3D: x must be rank 3 but got rank \" + x.rank + \".\");\n        util.assert(newShape2D.length === 2, \"Error in resizeBilinear3D: new shape must 2D, but got shape \" +\n            (newShape2D + \".\"));\n        return this.executeOp('resizeBilinear3D', function () { return _this.resizeBilinear3DInternal(x, newShape2D, alignCorners); });\n    };\n    NDArrayMath.prototype.batchNormalization2D = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var _this = this;\n        if (varianceEpsilon === void 0) { varianceEpsilon = .001; }\n        util.assert(x.rank === 2, \"Error in batchNormalization3D: x must be rank 3 but got rank \" +\n            (x.rank + \".\"));\n        util.assert(mean.rank === 2 || mean.rank === 1, \"Error in batchNormalization2D: mean must be rank 2 or rank 1 but \" +\n            (\"got rank \" + mean.rank + \".\"));\n        util.assert(variance.rank === 2 || variance.rank === 1, \"Error in batchNormalization2D: variance must be rank 2 or rank 1 \" +\n            (\"but got rank \" + variance.rank + \".\"));\n        if (scale != null) {\n            util.assert(scale.rank === 2 || scale.rank === 1, \"Error in batchNormalization2D: scale must be rank 2 or rank 1 \" +\n                (\"but got rank \" + scale.rank + \".\"));\n        }\n        if (offset != null) {\n            util.assert(offset.rank === 2 || offset.rank === 1, \"Error in batchNormalization2D: offset must be rank 2 or rank 1 \" +\n                (\"but got rank \" + offset.rank + \".\"));\n        }\n        return this.executeOp('batchNorm2D', function () { return _this.batchNormalization2DInternal(x, mean, variance, varianceEpsilon, scale, offset); });\n    };\n    NDArrayMath.prototype.batchNormalization3D = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var _this = this;\n        if (varianceEpsilon === void 0) { varianceEpsilon = .001; }\n        util.assert(x.rank === 3, \"Error in batchNormalization3D: x must be rank 3 but got rank \" +\n            (x.rank + \".\"));\n        util.assert(mean.rank === 3 || mean.rank === 1, \"Error in batchNormalization3D: mean must be rank 3 or rank 1 but \" +\n            (\"got rank \" + mean.rank + \".\"));\n        util.assert(variance.rank === 3 || variance.rank === 1, \"Error in batchNormalization3D: variance must be rank 3 or rank 1 \" +\n            (\"but got rank \" + variance.rank + \".\"));\n        if (scale != null) {\n            util.assert(scale.rank === 3 || scale.rank === 1, \"Error in batchNormalization3D: scale must be rank 3 or rank 1 \" +\n                (\"but got rank \" + scale.rank + \".\"));\n        }\n        if (offset != null) {\n            util.assert(offset.rank === 3 || offset.rank === 1, \"Error in batchNormalization3D: offset must be rank 3 or rank 1 \" +\n                (\"but got rank \" + offset.rank + \".\"));\n        }\n        return this.executeOp('batchNorm3D', function () { return _this.batchNormalization3DInternal(x, mean, variance, varianceEpsilon, scale, offset); });\n    };\n    NDArrayMath.prototype.multiRNNCell = function (lstmCells, data, c, h) {\n        var res = this.scope(function () {\n            var input = data;\n            var newStates = [];\n            for (var i = 0; i < lstmCells.length; i++) {\n                var output = lstmCells[i](input, c[i], h[i]);\n                newStates.push(output[0]);\n                newStates.push(output[1]);\n                input = output[1];\n            }\n            return newStates;\n        });\n        var newC = [];\n        var newH = [];\n        for (var i = 0; i < res.length; i += 2) {\n            newC.push(res[i]);\n            newH.push(res[i + 1]);\n        }\n        return [newC, newH];\n    };\n    NDArrayMath.prototype.basicLSTMCell = function (forgetBias, lstmKernel, lstmBias, data, c, h) {\n        var _this = this;\n        var res = this.scope(function () {\n            var combined = _this.concat2D(data, h, 1);\n            var weighted = _this.matMul(combined, lstmKernel);\n            var res = _this.add(weighted, lstmBias);\n            var batchSize = res.shape[0];\n            var sliceCols = res.shape[1] / 4;\n            var sliceSize = [batchSize, sliceCols];\n            var i = _this.slice2D(res, [0, 0], sliceSize);\n            var j = _this.slice2D(res, [0, sliceCols], sliceSize);\n            var f = _this.slice2D(res, [0, sliceCols * 2], sliceSize);\n            var o = _this.slice2D(res, [0, sliceCols * 3], sliceSize);\n            var newC = _this.addStrict(_this.multiplyStrict(c, _this.sigmoid(_this.scalarPlusArray(forgetBias, f))), _this.multiplyStrict(_this.sigmoid(i), _this.tanh(j)));\n            var newH = _this.multiplyStrict(_this.tanh(newC), _this.sigmoid(o));\n            return [newC, newH];\n        });\n        return [res[0], res[1]];\n    };\n    NDArrayMath.prototype.multinomial = function (probabilities, numSamples, seed) {\n        var _this = this;\n        var numOutcomes = probabilities.size;\n        if (numOutcomes < 2) {\n            throw new Error(\"Error in multinomial: you need at least 2 outcomes, but got \" +\n                (numOutcomes + \".\"));\n        }\n        if (probabilities.rank > 2) {\n            throw new Error(\"Rank of probabilities must be 1 or 2, but is \" + probabilities.rank);\n        }\n        seed = seed || Math.random();\n        var origRank = probabilities.rank;\n        if (probabilities.rank === 1) {\n            probabilities = probabilities.as2D(1, -1);\n        }\n        return this.executeOp('multinomial', function () {\n            var res = _this.multinomialInternal(probabilities, numSamples, seed);\n            if (origRank === 1) {\n                return res.as1D();\n            }\n            return res;\n        });\n    };\n    NDArrayMath.prototype.oneHot = function (indices, depth, onValue, offValue) {\n        var _this = this;\n        if (onValue === void 0) { onValue = 1; }\n        if (offValue === void 0) { offValue = 0; }\n        if (depth < 2) {\n            throw new Error(\"Error in oneHot: depth must be >=2, but it is \" + depth);\n        }\n        return this.executeOp('oneHot', function () { return _this.oneHotInternal(indices, depth, onValue, offValue); });\n    };\n    NDArrayMath.prototype.moments = function (x, axis, keepDims) {\n        var _this = this;\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var result = this.scope(function () {\n            var mean = _this.mean(x, axes, keepDims);\n            var keepDimsShape = mean.shape;\n            if (!keepDims) {\n                keepDimsShape = axis_util.expandShapeToKeepDim(mean.shape, axes);\n            }\n            var devSquared = _this.square(_this.subtract(x, mean.reshape(keepDimsShape)));\n            var variance = _this.mean(devSquared, axes, keepDims);\n            return { mean: mean, variance: variance };\n        });\n        return result;\n    };\n    return NDArrayMath;\n}());\nexports.NDArrayMath = NDArrayMath;\nvar MatrixOrientation;\n(function (MatrixOrientation) {\n    MatrixOrientation[MatrixOrientation[\"REGULAR\"] = 0] = \"REGULAR\";\n    MatrixOrientation[MatrixOrientation[\"TRANSPOSED\"] = 1] = \"TRANSPOSED\";\n})(MatrixOrientation = exports.MatrixOrientation || (exports.MatrixOrientation = {}));\nfunction parseTupleParam(param) {\n    return typeof param === 'number' ? [param, param] : param;\n}\n//# sourceMappingURL=math.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/math.js\n// module id = 15\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../../environment\");\nvar util = require(\"../../util\");\nvar broadcast_util = require(\"../broadcast_util\");\nvar tex_util = require(\"./tex_util\");\nvar tex_util_1 = require(\"./tex_util\");\nfunction makeShader(inputsInfo, outputShape, userCode, broadcast) {\n    var sampleSnippet = getSampleSnippet();\n    var setOutputSnippet = getSetOutputSnippet();\n    var inputPrefixSnippet = inputsInfo.map(function (x) { return \"uniform sampler2D \" + x.name + \";\"; }).join('\\n');\n    var inputSamplingSnippet = inputsInfo.map(function (x) { return getInputSamplingSnippet(x, outputShape, broadcast); })\n        .join('\\n');\n    var outTexShape = outputShape.texShape;\n    var outputSamplingSnippet = getOutputSamplingSnippet(outputShape.logicalShape, outTexShape);\n    var source = [\n        SHADER_PREFIX, sampleSnippet, setOutputSnippet, inputPrefixSnippet,\n        outputSamplingSnippet, inputSamplingSnippet, userCode\n    ].join('\\n');\n    return source;\n}\nexports.makeShader = makeShader;\nfunction getSampleSnippet() {\n    return environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED') ?\n        FLOAT_TEXTURE_SAMPLE_SNIPPET :\n        UNSIGNED_BYTE_TEXTURE_SAMPLE_SNIPPET;\n}\nfunction getSetOutputSnippet() {\n    return environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED') ?\n        FLOAT_TEXTURE_SETOUTPUT_SNIPPET :\n        UNSIGNED_BYTE_TEXTURE_SETOUTPUT_SNIPPET;\n}\nfunction getSamplerFromInInfo(inInfo) {\n    var shape = inInfo.shapeInfo.logicalShape;\n    switch (shape.length) {\n        case 0:\n            return getSamplerScalar(inInfo);\n        case 1:\n            return getSampler1D(inInfo);\n        case 2:\n            return getSampler2D(inInfo);\n        case 3:\n            return getSampler3D(inInfo);\n        case 4:\n            return getSampler4D(inInfo);\n        default:\n            throw new Error(shape.length + \"-D input sampling\" +\n                \" is not yet supported\");\n    }\n}\nfunction getInputSamplingSnippet(inInfo, outShapeInfo, broadcast) {\n    var res = getSamplerFlat(inInfo);\n    res += getSamplerFromInInfo(inInfo);\n    if (broadcast ||\n        util.arraysEqual(inInfo.shapeInfo.logicalShape, outShapeInfo.logicalShape)) {\n        res += getSamplerAtOutputCoords(inInfo, outShapeInfo, broadcast);\n    }\n    return res;\n}\nfunction getOutputSamplingSnippet(outShape, outTexShape) {\n    switch (outShape.length) {\n        case 0:\n            return getOutputScalarCoords();\n        case 1:\n            return getOutput1DCoords(outShape, outTexShape);\n        case 2:\n            return getOutput2DCoords(outShape, outTexShape);\n        case 3:\n            return getOutput3DCoords(outShape, outTexShape);\n        case 4:\n            return getOutput4DCoords(outShape, outTexShape);\n        default:\n            throw new Error(outShape.length + \"-D output sampling is not yet supported\");\n    }\n}\nvar SAMPLE_1D_SNIPPET = \"\\nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar SAMPLE_2D_SNIPPET = \"\\nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\\n  int index = row * numC + col;\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar SAMPLE_3D_SNIPPET = \"\\nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\\n    int stride1, int row, int col, int depth) {\\n  // Explicitly use integer operations as dot() only works on floats.\\n  int index = row * stride0 + col * stride1 + depth;\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar SAMPLE_4D_SNIPPET = \"\\nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\\n    int stride1, int stride2, int row, int col, int depth,\\n    int depth2) {\\n  // Explicitly use integer operations as dot() only works on floats.\\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar UNSIGNED_BYTE_TEXTURE_SAMPLE_SNIPPET = \"\\n  uniform float NaN;\\n\\n  const vec4 floatDeltas = vec4(\\n      1.0,\\n      1.0 / 255.0,\\n      1.0 / (255.0 * 255.0),\\n      1.0 / (255.0 * 255.0 * 255.0)\\n  );\\n  const float minValue = \" + tex_util.FLOAT_MIN + \".0;\\n  const float maxValue = \" + tex_util.FLOAT_MAX + \".0;\\n  const float range = (maxValue - minValue) / 255.0;\\n  const vec2 dotRange = vec2(1.0, range);\\n\\n  float sample(sampler2D texture, vec2 uv) {\\n    vec4 sampleValue = texture2D(texture, uv);\\n    if (all(equal(sampleValue, vec4(\" + tex_util.BYTE_NAN_VALUE + \")))) {\\n      return NaN;\\n    }\\n\\n    vec4 encValue = floor(sampleValue * 255.0 + 0.5);\\n    float decodedValue = dot(encValue, floatDeltas);\\n    return dot(vec2(minValue, decodedValue), dotRange);\\n  }\\n\";\nvar UNSIGNED_BYTE_TEXTURE_SETOUTPUT_SNIPPET = \"\\n  const vec4 floatPowers = vec4(\\n    1.0,\\n    255.0,\\n    255.0 * 255.0,\\n    255.0 * 255.0 * 255.0\\n  );\\n  const vec2 recipRange = vec2(1.0/range);\\n  const vec2 recipRange255 = vec2(1.0/(maxValue - minValue));\\n\\n  void setOutput(float decodedValue) {\\n    if (isNaN(decodedValue)) {\\n      gl_FragColor = vec4(\" + tex_util.BYTE_NAN_VALUE + \");\\n      return;\\n    }\\n\\n    float a = dot(vec2(decodedValue, -minValue), recipRange);\\n    float b = fract(a) * 255.0;\\n    float c = fract(b) * 255.0;\\n    float d = fract(c) * 255.0;\\n    gl_FragColor = floor(vec4(a, b, c, d)) / 255.0;\\n\\n    // TODO(dsmilkov): Version above gets better accuracy but probably slower\\n    // than the version below. Benchmark to determine if the accuracy is worth\\n    // the cost.\\n\\n    // float normValue = dot(vec2(decodedValue, -minValue), recipRange255);\\n    // vec4 f = normValue * floatPowers;\\n    // gl_FragColor = floor(fract(f) * 255.0) / 255.0;\\n  }\\n\";\nvar FLOAT_TEXTURE_SAMPLE_SNIPPET = \"\\n  float sample(sampler2D texture, vec2 uv) {\\n    return texture2D(texture, uv).r;\\n  }\\n\";\nvar FLOAT_TEXTURE_SETOUTPUT_SNIPPET = \"\\n  void setOutput(float val) {\\n    gl_FragColor = vec4(val, 0, 0, 0);\\n  }\\n\";\nvar SHADER_PREFIX = \"\\n  precision highp float;\\n  precision highp int;\\n  varying vec2 resultUV;\\n  const vec2 halfCR = vec2(0.5, 0.5);\\n\\n  bool isNaN(float val) {\\n    return val == val ? false : true;\\n  }\\n\\n  bool hasNaN(vec4 values) {\\n    return any(notEqual(values, values));\\n  }\\n\\n  float getNaN(vec4 values) {\\n    return dot(vec4(1), values);\\n  }\\n\\n  int round(float value) {\\n    return int(floor(value + 0.5));\\n  }\\n\\n  int imod(int x, int y) {\\n    return x - y * (x / y);\\n  }\\n\\n  const vec2 randomConst = vec2(\\n    23.14069263277926, // e^pi (Gelfond's constant)\\n     2.665144142690225 // 2^sqrt(2) (Gelfond\\u2013Schneider constant)\\n  );\\n\\n  float random(float seed) {\\n      return fract(cos(dot(resultUV * seed, randomConst)) * 12345.6789);\\n  }\\n\\n  float sampleUVAndDepth(sampler2D texture, vec2 uv, int depth) {\\n    float value;\\n    if (depth == 0) {\\n      value = texture2D(texture, uv).r;\\n    } else if (depth == 1) {\\n      value = texture2D(texture, uv).g;\\n    } else if (depth == 2) {\\n      value = texture2D(texture, uv).b;\\n    } else if (depth == 3) {\\n      value = texture2D(texture, uv).a;\\n    }\\n    return floor(value * 255.0 + 0.5);\\n  }\\n\\n  \" + SAMPLE_1D_SNIPPET + \"\\n  \" + SAMPLE_2D_SNIPPET + \"\\n  \" + SAMPLE_3D_SNIPPET + \"\\n  \" + SAMPLE_4D_SNIPPET + \"\\n\";\nfunction getOutputScalarCoords() {\n    return \"\\n    int getOutputCoords() {\\n      return 0;\\n    }\\n  \";\n}\nfunction getOutput1DCoords(shape, texShape) {\n    if (texShape[0] === 1) {\n        return \"\\n      int getOutputCoords() {\\n        return int(resultUV.x * \" + texShape[1] + \".0);\\n      }\\n    \";\n    }\n    if (texShape[1] === 1) {\n        return \"\\n      int getOutputCoords() {\\n        return int(resultUV.y * \" + texShape[0] + \".0);\\n      }\\n    \";\n    }\n    return \"\\n    int getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      return resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n    }\\n  \";\n}\nfunction getOutput3DCoords(shape, texShape) {\n    var stride0 = shape[1] * shape[2];\n    var stride1 = shape[2];\n    return \"\\n    ivec3 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n      int r = index / \" + stride0 + \";\\n      index -= r * \" + stride0 + \";\\n      int c = index / \" + stride1 + \";\\n      int d = index - c * \" + stride1 + \";\\n      return ivec3(r, c, d);\\n    }\\n  \";\n}\nfunction getOutput4DCoords(shape, texShape) {\n    var stride2 = shape[3];\n    var stride1 = shape[2] * stride2;\n    var stride0 = shape[1] * stride1;\n    return \"\\n    ivec4 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n        vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n\\n      int r = index / \" + stride0 + \";\\n      index -= r * \" + stride0 + \";\\n\\n      int c = index / \" + stride1 + \";\\n      index -= c * \" + stride1 + \";\\n\\n      int d = index / \" + stride2 + \";\\n      int d2 = index - d * \" + stride2 + \";\\n\\n      return ivec4(r, c, d, d2);\\n    }\\n  \";\n}\nfunction getOutput2DCoords(shape, texShape) {\n    if (util.arraysEqual(shape, texShape)) {\n        return \"\\n      ivec2 getOutputCoords() {\\n        return ivec2(resultUV.yx * vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      }\\n    \";\n    }\n    if (shape[1] === 1) {\n        return \"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n        int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n        return ivec2(index, 0);\\n      }\\n    \";\n    }\n    if (shape[0] === 1) {\n        return \"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n        int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n        return ivec2(0, index);\\n      }\\n    \";\n    }\n    return \"\\n    ivec2 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n      int r = index / \" + shape[1] + \";\\n      int c = index - r * \" + shape[1] + \";\\n      return ivec2(r, c);\\n    }\\n  \";\n}\nfunction getSamplerScalar(inputInfo) {\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    return \"\\n    float \" + funcName + \"() {\\n      return sample(\" + texName + \", halfCR);\\n    }\\n  \";\n}\nfunction getSampler1D(inputInfo) {\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    return \"\\n    float \" + funcName + \"(int index) {\\n      return \" + funcName + \"Flat(index);\\n    }\\n  \";\n}\nfunction getSampler2D(inputInfo) {\n    var shape = inputInfo.shapeInfo.logicalShape;\n    var texShape = inputInfo.shapeInfo.texShape;\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    var texNumR = texShape[0];\n    var texNumC = texShape[1];\n    if (util.arraysEqual(shape, texShape)) {\n        return \"\\n    float \" + funcName + \"(int row, int col) {\\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n      return sample(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    var _a = util.squeezeShape(shape), newShape = _a.newShape, keptDims = _a.keptDims;\n    var squeezedShape = newShape;\n    if (squeezedShape.length < shape.length) {\n        var newInputInfo = squeezeInputInfo(inputInfo, squeezedShape);\n        var params = ['row', 'col'];\n        return \"\\n      \" + getSamplerFromInInfo(newInputInfo) + \"\\n      float \" + funcName + \"(int row, int col) {\\n        return \" + funcName + \"(\" + getSqueezedParams(params, keptDims) + \");\\n      }\\n    \";\n    }\n    if (texNumC === 1) {\n        return \"\\n    float \" + funcName + \"(int row, int col) {\\n      int index = row * \" + shape[1] + \" + col;\\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / \" + texNumR + \".0);\\n      return sample(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    if (texNumR === 1) {\n        return \"\\n    float \" + funcName + \"(int row, int col) {\\n      int index = row * \" + shape[1] + \" + col;\\n      vec2 uv = vec2((float(index) + 0.5) / \" + texNumC + \".0, 0.5);\\n      return sample(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    return \"\\n  float \" + funcName + \"(int row, int col) {\\n    vec2 uv = UVfrom2D(\" + texNumR + \", \" + texNumC + \", \" + shape[1] + \", row, col);\\n    return sample(\" + texName + \", uv);\\n  }\\n\";\n}\nfunction getSampler3D(inputInfo) {\n    var texShape = inputInfo.shapeInfo.texShape;\n    var shape = inputInfo.shapeInfo.logicalShape;\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    var texNumR = texShape[0];\n    var texNumC = texShape[1];\n    var stride0 = shape[1] * shape[2];\n    var stride1 = shape[2];\n    var texType = inputInfo.shapeInfo.textureType;\n    if (texType === tex_util_1.TextureType.DEFAULT) {\n        var _a = util.squeezeShape(shape), newShape = _a.newShape, keptDims = _a.keptDims;\n        var squeezedShape = newShape;\n        if (squeezedShape.length < shape.length) {\n            var newInputInfo = squeezeInputInfo(inputInfo, squeezedShape);\n            var params = ['row', 'col', 'depth'];\n            return \"\\n        \" + getSamplerFromInInfo(newInputInfo) + \"\\n        float \" + funcName + \"(int row, int col, int depth) {\\n          return \" + funcName + \"(\" + getSqueezedParams(params, keptDims) + \");\\n        }\\n      \";\n        }\n    }\n    if (texNumC === stride0) {\n        if (texType === tex_util_1.TextureType.DEFAULT) {\n            return \"\\n        float \" + funcName + \"(int row, int col, int depth) {\\n          int texR = row;\\n          int texC = col * \" + stride1 + \" + depth;\\n          vec2 uv = (vec2(texC, texR) + halfCR) /\\n                     vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n          return sample(\" + texName + \", uv);\\n        }\\n      \";\n        }\n        else if (texType === tex_util_1.TextureType.RGBA_COLOR) {\n            return \"\\n        float \" + funcName + \"(int row, int col, int depth) {\\n          vec2 uv = (vec2(col, row) + halfCR) /\\n                     vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n          return sampleUVAndDepth(\" + texName + \", uv, depth);\\n        }\\n      \";\n        }\n        else {\n            throw new Error(\"Unknown TextureType \" + texType + \".\");\n        }\n    }\n    if (texNumC === stride1 && texType === tex_util_1.TextureType.DEFAULT) {\n        return \"\\n    float \" + funcName + \"(int row, int col, int depth) {\\n      int texR = row * \" + shape[1] + \" + col;\\n      int texC = depth;\\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n      return sample(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    if (texType === tex_util_1.TextureType.DEFAULT) {\n        return \"\\n      float \" + funcName + \"(int row, int col, int depth) {\\n        vec2 uv = UVfrom3D(\\n            \" + texNumR + \", \" + texNumC + \", \" + stride0 + \", \" + stride1 + \", row, col, depth);\\n        return sample(\" + texName + \", uv);\\n      }\\n  \";\n    }\n    else if (texType === tex_util_1.TextureType.RGBA_COLOR) {\n        return \"\\n      float \" + funcName + \"(int row, int col, int depth) {\\n        vec2 uv = UVfrom2D(\" + texNumR + \", \" + texNumC + \", \" + shape[1] + \", row, col);\\n        return sampleUVAndDepth(\" + texName + \", uv, depth);\\n      }\\n    \";\n    }\n    else {\n        throw new Error(\"Unknown TextureType \" + texType + \".\");\n    }\n}\nfunction getSampler4D(inputInfo) {\n    var shape = inputInfo.shapeInfo.logicalShape;\n    var texShape = inputInfo.shapeInfo.texShape;\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    var texNumR = texShape[0];\n    var texNumC = texShape[1];\n    var stride2 = shape[3];\n    var stride1 = shape[2] * stride2;\n    var stride0 = shape[1] * stride1;\n    var _a = util.squeezeShape(shape), newShape = _a.newShape, keptDims = _a.keptDims;\n    if (newShape.length < shape.length) {\n        var newInputInfo = squeezeInputInfo(inputInfo, newShape);\n        var params = ['row', 'col', 'depth', 'depth2'];\n        return \"\\n      \" + getSamplerFromInInfo(newInputInfo) + \"\\n      float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n        return \" + funcName + \"(\" + getSqueezedParams(params, keptDims) + \");\\n      }\\n    \";\n    }\n    if (texNumC === stride0) {\n        return \"\\n      float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n        int texR = row;\\n        int texC = col * \" + stride1 + \" + depth * \" + stride2 + \" + depth2;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n        return sample(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    if (texNumC === stride2) {\n        return \"\\n      float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n        int texR = row * \" + shape[1] * shape[2] + \" + col * \" + shape[2] + \" + depth;\\n        int texC = depth2;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n        return sample(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    return \"\\n    float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n      vec2 uv = UVfrom4D(\" + texNumR + \", \" + texNumC + \", \" + stride0 + \", \" + stride1 + \",\\n          \" + stride2 + \", row, col, depth, depth2);\\n      return sample(\" + texName + \", uv);\\n    }\\n  \";\n}\nfunction getSamplerFlat(inputInfo) {\n    var texName = inputInfo.name;\n    var texShape = inputInfo.shapeInfo.texShape;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1) + 'Flat';\n    var tNumR = texShape[0];\n    var tNumC = texShape[1];\n    if (tNumC === 1 && tNumR === 1) {\n        return \"\\n      float \" + funcName + \"(int index) {\\n        return sample(\" + texName + \", halfCR);\\n      }\\n    \";\n    }\n    if (tNumC === 1) {\n        return \"\\n      float \" + funcName + \"(int index) {\\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / \" + tNumR + \".0);\\n        return sample(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    if (tNumR === 1) {\n        return \"\\n      float \" + funcName + \"(int index) {\\n        vec2 uv = vec2((float(index) + 0.5) / \" + tNumC + \".0, 0.5);\\n        return sample(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    return \"\\n    float \" + funcName + \"(int index) {\\n      vec2 uv = UVfrom1D(\" + tNumR + \", \" + tNumC + \", index);\\n      return sample(\" + texName + \", uv);\\n    }\\n  \";\n}\nfunction getBroadcastOutputCoordsSampler(inputInfo, outShapeInfo, texFuncSnippet, funcName) {\n    var inRank = inputInfo.shapeInfo.logicalShape.length;\n    var outRank = outShapeInfo.logicalShape.length;\n    var type = 'int';\n    if (outRank === 2) {\n        type = 'ivec2';\n    }\n    else if (outRank === 3) {\n        type = 'ivec3';\n    }\n    else if (outRank === 4) {\n        type = 'ivec4';\n    }\n    var broadcastDims = broadcast_util.getBroadcastDims(inputInfo.shapeInfo.logicalShape, outShapeInfo.logicalShape);\n    var rankDiff = outRank - inRank;\n    var coordsSnippet;\n    if (inRank === 0) {\n        coordsSnippet = '';\n    }\n    else if (outRank < 2 && broadcastDims.length >= 1) {\n        coordsSnippet = 'coords = 0;';\n    }\n    else {\n        coordsSnippet =\n            broadcastDims.map(function (d) { return \"coords[\" + (d + rankDiff) + \"] = 0;\"; }).join('\\n');\n    }\n    var unpackedCoordsSnippet = '';\n    if (outRank < 2 && inRank > 0) {\n        unpackedCoordsSnippet = 'coords';\n    }\n    else {\n        unpackedCoordsSnippet = inputInfo.shapeInfo.logicalShape\n            .map(function (s, i) { return \"coords[\" + (i + rankDiff) + \"]\"; })\n            .join(', ');\n    }\n    return \"\\n    float \" + funcName + \"() {\\n      \" + type + \" coords = getOutputCoords();\\n      \" + coordsSnippet + \"\\n      return get\" + texFuncSnippet + \"(\" + unpackedCoordsSnippet + \");\\n    }\\n  \";\n}\nfunction getSamplerAtOutputCoords(inputInfo, outShapeInfo, supportsBroadcasting) {\n    var inTexShape = inputInfo.shapeInfo.texShape;\n    var texName = inputInfo.name;\n    var isRGBAColorTexture = inputInfo.shapeInfo.textureType === tex_util_1.TextureType.RGBA_COLOR;\n    var texFuncSnippet = texName.charAt(0).toUpperCase() + texName.slice(1);\n    var funcName = 'get' + texFuncSnippet + 'AtOutCoords';\n    var broadcastDims = broadcast_util.getBroadcastDims(inputInfo.shapeInfo.logicalShape, outShapeInfo.logicalShape);\n    var inRank = inputInfo.shapeInfo.logicalShape.length;\n    var outRank = outShapeInfo.logicalShape.length;\n    var doBroadcast = supportsBroadcasting && ((outRank > inRank) || broadcastDims.length > 0);\n    var broadcastOverOuter = broadcast_util.broadcastDimsAreOuter(broadcastDims);\n    if (doBroadcast && !broadcastOverOuter) {\n        return getBroadcastOutputCoordsSampler(inputInfo, outShapeInfo, texFuncSnippet, funcName);\n    }\n    var outTexShape = outShapeInfo.texShape;\n    if (util.arraysEqual(inTexShape, outTexShape) && !isRGBAColorTexture) {\n        return \"\\n      float \" + funcName + \"() {\\n        return sample(\" + texName + \", resultUV);\\n      }\\n    \";\n    }\n    var inTexExpandedShape = isRGBAColorTexture ?\n        [inTexShape[0], inTexShape[1] * inputInfo.shapeInfo.logicalShape[2]] :\n        inTexShape;\n    var sampleSnippet = \"return sample(\" + texName + \", uv);\";\n    var rgbaColorSnippet = '';\n    if (isRGBAColorTexture) {\n        rgbaColorSnippet = \"\\n      int col = texC / \" + inputInfo.shapeInfo.logicalShape[2] + \";\\n      int texD = texC - col * \" + inputInfo.shapeInfo.logicalShape[2] + \";\\n      texC = col;\\n    \";\n        sampleSnippet = \"return sampleUVAndDepth(\" + texName + \", uv, texD);\";\n    }\n    var inSize = util.sizeFromShape(inTexExpandedShape);\n    var broadcastSnippet = '';\n    if (doBroadcast && broadcastOverOuter) {\n        broadcastSnippet = \"\\n        int mainPart = index / \" + inSize + \";\\n        index -= mainPart * \" + inSize + \";\\n      \";\n    }\n    return \"\\n    float \" + funcName + \"() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + outTexShape[0] + \", \" + outTexShape[1] + \"));\\n      int index = resTexRC.x * \" + outTexShape[1] + \" + resTexRC.y;\\n      \" + broadcastSnippet + \"\\n      int texR = index / \" + inTexExpandedShape[1] + \";\\n      int texC = index - texR * \" + inTexExpandedShape[1] + \";\\n\\n      \" + rgbaColorSnippet + \"\\n\\n      vec2 uv = (vec2(texC, texR) + halfCR) /\\n                 vec2(\" + inTexShape[1] + \".0, \" + inTexShape[0] + \".0);\\n\\n      \" + sampleSnippet + \"\\n    }\\n  \";\n}\nfunction getCoordsDataType(rank) {\n    if (rank === 1) {\n        return 'int';\n    }\n    else if (rank === 2) {\n        return 'ivec2';\n    }\n    else if (rank === 3) {\n        return 'ivec3';\n    }\n    else if (rank === 4) {\n        return 'ivec4';\n    }\n    else {\n        throw Error(\"GPU for rank \" + rank + \" is not yet supported\");\n    }\n}\nexports.getCoordsDataType = getCoordsDataType;\nfunction squeezeInputInfo(inInfo, squeezedShape) {\n    var newInputInfo = JSON.parse(JSON.stringify(inInfo));\n    newInputInfo.shapeInfo.logicalShape = squeezedShape;\n    return newInputInfo;\n}\nfunction getSqueezedParams(params, keptDims) {\n    return keptDims.map(function (d) { return params[d]; }).join(', ');\n}\n//# sourceMappingURL=shader_compiler.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/shader_compiler.js\n// module id = 16\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureType;\n(function (TextureType) {\n    TextureType[TextureType[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    TextureType[TextureType[\"RGBA_COLOR\"] = 1] = \"RGBA_COLOR\";\n})(TextureType = exports.TextureType || (exports.TextureType = {}));\nfunction getUnpackedMatrixTextureShapeWidthHeight(rows, columns) {\n    return [columns, rows];\n}\nexports.getUnpackedMatrixTextureShapeWidthHeight = getUnpackedMatrixTextureShapeWidthHeight;\nfunction getUnpackedArraySizeFromMatrixSize(matrixSize, channelsPerTexture) {\n    return matrixSize * channelsPerTexture;\n}\nexports.getUnpackedArraySizeFromMatrixSize = getUnpackedArraySizeFromMatrixSize;\nfunction getColorMatrixTextureShapeWidthHeight(rows, columns) {\n    return [columns * 4, rows];\n}\nexports.getColorMatrixTextureShapeWidthHeight = getColorMatrixTextureShapeWidthHeight;\nfunction getMatrixSizeFromUnpackedArraySize(unpackedSize, channelsPerTexture) {\n    if (unpackedSize % channelsPerTexture !== 0) {\n        throw new Error(\"unpackedSize (\" + unpackedSize + \") must be a multiple of \" +\n            (\"\" + channelsPerTexture));\n    }\n    return unpackedSize / channelsPerTexture;\n}\nexports.getMatrixSizeFromUnpackedArraySize = getMatrixSizeFromUnpackedArraySize;\nfunction encodeMatrixToUnpackedArray(matrix, unpackedArray, channelsPerTexture) {\n    var requiredSize = getUnpackedArraySizeFromMatrixSize(matrix.length, channelsPerTexture);\n    if (unpackedArray.length < requiredSize) {\n        throw new Error(\"unpackedArray length (\" + unpackedArray.length + \") must be >= \" +\n            (\"\" + requiredSize));\n    }\n    var dst = 0;\n    for (var src = 0; src < matrix.length; ++src) {\n        unpackedArray[dst] = matrix[src];\n        dst += channelsPerTexture;\n    }\n}\nexports.encodeMatrixToUnpackedArray = encodeMatrixToUnpackedArray;\nexports.FLOAT_MAX = 20000;\nexports.FLOAT_MIN = -exports.FLOAT_MAX;\nvar FLOAT_RANGE = (exports.FLOAT_MAX - exports.FLOAT_MIN) / 255;\nvar FLOAT_DELTAS = [1, 1 / 255, 1 / (255 * 255), 1 / (255 * 255 * 255)];\nvar FLOAT_POWERS = [1, 255, 255 * 255];\nexports.BYTE_NAN_VALUE = 0;\nfunction encodeFloatArray(floatArray) {\n    var uintArray = new Uint8Array(floatArray.length * 4);\n    var _loop_1 = function (i) {\n        var value = floatArray[i / 4];\n        if (isNaN(value)) {\n            uintArray[i] = exports.BYTE_NAN_VALUE;\n            uintArray[i + 1] = exports.BYTE_NAN_VALUE;\n            uintArray[i + 2] = exports.BYTE_NAN_VALUE;\n            uintArray[i + 3] = exports.BYTE_NAN_VALUE;\n            return \"continue\";\n        }\n        var normalizedValue = (value - exports.FLOAT_MIN) / FLOAT_RANGE;\n        var enc = FLOAT_POWERS.map(function (pow) { return pow * normalizedValue; });\n        var buckets = enc.map(function (value) { return Math.floor((value % 1) * 255); });\n        uintArray[i] = Math.floor(normalizedValue);\n        uintArray[i + 1] = buckets[0];\n        uintArray[i + 2] = buckets[1];\n        uintArray[i + 3] = buckets[2];\n    };\n    for (var i = 0; i < uintArray.length; i += 4) {\n        _loop_1(i);\n    }\n    return uintArray;\n}\nexports.encodeFloatArray = encodeFloatArray;\nfunction decodeToFloatArray(uintArray) {\n    var floatArray = new Float32Array(uintArray.length / 4);\n    var _loop_2 = function (i) {\n        if (uintArray[i] === exports.BYTE_NAN_VALUE &&\n            uintArray[i + 1] === exports.BYTE_NAN_VALUE &&\n            uintArray[i + 2] === exports.BYTE_NAN_VALUE &&\n            uintArray[i + 3] === exports.BYTE_NAN_VALUE) {\n            floatArray[i / 4] = NaN;\n            return \"continue\";\n        }\n        var dot = 0;\n        FLOAT_DELTAS.forEach(function (delta, j) {\n            dot += delta * uintArray[i + j];\n        });\n        var value = dot * FLOAT_RANGE + exports.FLOAT_MIN;\n        floatArray[i / 4] = value;\n    };\n    for (var i = 0; i < uintArray.length; i += 4) {\n        _loop_2(i);\n    }\n    return floatArray;\n}\nexports.decodeToFloatArray = decodeToFloatArray;\nfunction decodeMatrixFromUnpackedArray(unpackedArray, matrix, channelsPerTexture) {\n    var requiredSize = getMatrixSizeFromUnpackedArraySize(unpackedArray.length, channelsPerTexture);\n    if (matrix.length < requiredSize) {\n        throw new Error(\"matrix length (\" + matrix.length + \") must be >= \" + requiredSize);\n    }\n    var dst = 0;\n    for (var src = 0; src < unpackedArray.length; src += channelsPerTexture) {\n        matrix[dst++] = unpackedArray[src];\n    }\n}\nexports.decodeMatrixFromUnpackedArray = decodeMatrixFromUnpackedArray;\nfunction decodeMatrixFromUnpackedColorRGBAArray(unpackedArray, matrix, channels) {\n    var requiredSize = unpackedArray.length * channels / 4;\n    if (matrix.length < requiredSize) {\n        throw new Error(\"matrix length (\" + matrix.length + \") must be >= \" + requiredSize);\n    }\n    var dst = 0;\n    for (var src = 0; src < unpackedArray.length; src += 4) {\n        for (var c = 0; c < channels; c++) {\n            matrix[dst++] = unpackedArray[src + c];\n        }\n    }\n}\nexports.decodeMatrixFromUnpackedColorRGBAArray = decodeMatrixFromUnpackedColorRGBAArray;\nfunction getPackedMatrixTextureShapeWidthHeight(rows, columns) {\n    return [Math.ceil(columns / 2), Math.ceil(rows / 2)];\n}\nexports.getPackedMatrixTextureShapeWidthHeight = getPackedMatrixTextureShapeWidthHeight;\nfunction getPackedRGBAArraySizeFromMatrixShape(rows, columns) {\n    var _a = getPackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    return w * h * 4;\n}\nexports.getPackedRGBAArraySizeFromMatrixShape = getPackedRGBAArraySizeFromMatrixShape;\nfunction encodeMatrixToPackedRGBA(matrix, rows, columns, packedRGBA) {\n    var requiredSize = getPackedRGBAArraySizeFromMatrixShape(rows, columns);\n    if (packedRGBA.length < requiredSize) {\n        throw new Error(\"packedRGBA length (\" + packedRGBA.length + \") must be >= \" + requiredSize);\n    }\n    var _a = getPackedMatrixTextureShapeWidthHeight(rows, columns), textureWidth = _a[0], textureHeight = _a[1];\n    var oddWidth = (columns % 2) === 1;\n    var oddHeight = (rows % 2) === 1;\n    var widthInFullBlocks = Math.floor(columns / 2);\n    var heightInFullBlocks = Math.floor(rows / 2);\n    {\n        var dstStride = (oddWidth ? 4 : 0);\n        var oneRow = columns;\n        var dst = 0;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            var matrixSrcRow = (blockY * 2 * columns);\n            for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n                var matrixSrcCol = blockX * 2;\n                var src = matrixSrcRow + matrixSrcCol;\n                packedRGBA[dst] = matrix[src];\n                packedRGBA[dst + 1] = matrix[src + 1];\n                packedRGBA[dst + 2] = matrix[src + oneRow];\n                packedRGBA[dst + 3] = matrix[src + oneRow + 1];\n                dst += 4;\n            }\n            dst += dstStride;\n        }\n    }\n    if (oddWidth) {\n        var src = columns - 1;\n        var dst = (textureWidth - 1) * 4;\n        var srcStride = 2 * columns;\n        var dstStride = textureWidth * 4;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            packedRGBA[dst] = matrix[src];\n            packedRGBA[dst + 2] = matrix[src + columns];\n            src += srcStride;\n            dst += dstStride;\n        }\n    }\n    if (oddHeight) {\n        var src = (rows - 1) * columns;\n        var dst = (textureHeight - 1) * textureWidth * 4;\n        for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n            packedRGBA[dst++] = matrix[src++];\n            packedRGBA[dst++] = matrix[src++];\n            dst += 2;\n        }\n    }\n    if (oddWidth && oddHeight) {\n        packedRGBA[packedRGBA.length - 4] = matrix[matrix.length - 1];\n    }\n    return packedRGBA;\n}\nexports.encodeMatrixToPackedRGBA = encodeMatrixToPackedRGBA;\nfunction decodeMatrixFromPackedRGBA(packedRGBA, rows, columns, matrix) {\n    var requiredSize = rows * columns;\n    if (requiredSize < matrix.length) {\n        throw new Error(\"matrix length (\" + matrix.length + \") must be >= \" + requiredSize);\n    }\n    var oddWidth = (columns % 2) === 1;\n    var oddHeight = (rows % 2) === 1;\n    var widthInFullBlocks = Math.floor(columns / 2);\n    var heightInFullBlocks = Math.floor(rows / 2);\n    var _a = getPackedMatrixTextureShapeWidthHeight(rows, columns), textureWidth = _a[0], textureHeight = _a[1];\n    {\n        var srcStride = oddWidth ? 4 : 0;\n        var dstStride = columns + (oddWidth ? 1 : 0);\n        var src = 0;\n        var dstRow1 = 0;\n        var dstRow2 = columns;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n                matrix[dstRow1++] = packedRGBA[src++];\n                matrix[dstRow1++] = packedRGBA[src++];\n                matrix[dstRow2++] = packedRGBA[src++];\n                matrix[dstRow2++] = packedRGBA[src++];\n            }\n            src += srcStride;\n            dstRow1 += dstStride;\n            dstRow2 += dstStride;\n        }\n    }\n    if (oddWidth) {\n        var src = (textureWidth - 1) * 4;\n        var dst = columns - 1;\n        var srcStride = textureWidth * 4;\n        var dstStride = 2 * columns;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            matrix[dst] = packedRGBA[src];\n            matrix[dst + columns] = packedRGBA[src + 2];\n            src += srcStride;\n            dst += dstStride;\n        }\n    }\n    if (oddHeight) {\n        var src = (textureHeight - 1) * textureWidth * 4;\n        var dst = (rows - 1) * columns;\n        for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n            matrix[dst++] = packedRGBA[src++];\n            matrix[dst++] = packedRGBA[src++];\n            src += 2;\n        }\n    }\n    if (oddWidth && oddHeight) {\n        matrix[matrix.length - 1] = packedRGBA[packedRGBA.length - 4];\n    }\n    return matrix;\n}\nexports.decodeMatrixFromPackedRGBA = decodeMatrixFromPackedRGBA;\n//# sourceMappingURL=tex_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/tex_util.js\n// module id = 17\n// module chunks = 0","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\nimport * as KissFFT from 'kissfft-js';\nimport * as DCT from 'dct';\n\nconst SR = 44100;\n\n\nlet melFilterbank = null;\nlet context = null;\n\nexport default class AudioUtils {\n  static loadExampleBuffer() {\n    return AudioUtils.loadBuffer('assets/spoken_command_example.wav');\n  }\n\n  static loadSineBuffer() {\n    return AudioUtils.loadBuffer('assets/sine_100ms_example.wav');\n  }\n\n  static loadBuffer(url: string) {\n    if (!context) {\n      context = new AudioContext();\n    }\n\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      // Load an example of speech being spoken.\n      xhr.open('GET', url);\n      xhr.onload = () => {\n        context.decodeAudioData(xhr.response, buffer => {\n          resolve(buffer);\n        })\n      };\n      xhr.responseType = 'arraybuffer';\n      xhr.onerror = (err) => reject(err);\n      xhr.send();\n    });\n  }\n\n  static async loadBufferOffline(url: string) {\n    const offlineCtx = new OfflineAudioContext(1, 16000, 16000);\n    return fetch(url).then(body => body.arrayBuffer())\n      .then(buffer => offlineCtx.decodeAudioData(buffer));\n  }\n\n  /**\n   * Calculates the FFT for an array buffer. Output is an array.\n   */\n  static fft(y: Float32Array) {\n    const fftr = new KissFFT.FFTR(y.length);\n    const transform = fftr.forward(y);\n    fftr.dispose();\n    return transform;\n  }\n\n  static dct(y: Float32Array) {\n    return DCT(y);\n  }\n\n  /**\n   * Calculates the STFT, given a fft size, and a hop size. For example, if fft\n   * size is 2048 and hop size is 1024, there will be 50% overlap. Given those\n   * params, if the input sample has 4096 values, there would be 3 analysis\n   * frames: [0, 2048], [1024, 3072], [2048, 4096].\n   */\n  static stft(y: Float32Array, fftSize=2048, hopSize=fftSize) {\n    // Split the input buffer into sub-buffers of size fftSize.\n    const bufferCount = Math.floor((y.length - fftSize) / hopSize) + 1;\n    let matrix = range(bufferCount).map(x => new Float32Array(fftSize));\n    for (let i = 0; i < bufferCount; i++) {\n      const ind = i * hopSize;\n      const buffer = y.slice(ind, ind + fftSize);\n      // In the end, we will likely have an incomplete buffer, which we should\n      // just ignore.\n      if (buffer.length != fftSize) {\n        continue;\n      }\n\n      const win = AudioUtils.hannWindow(buffer.length);\n      const winBuffer = AudioUtils.applyWindow(buffer, win);\n      const fft = AudioUtils.fft(winBuffer);\n      // TODO: Understand why fft output is 2 larger than expected (eg. 1026\n      // rather than 1024).\n      matrix[i].set(fft.slice(0, fftSize));\n    }\n    return matrix;\n  }\n\n  /**\n   * Given STFT energies, calculates the mel spectrogram.\n   */\n  static melSpectrogram(stftEnergies: Float32Array[],\n    melCount=20, lowHz=300, highHz=8000, sr=SR) {\n    this.lazyCreateMelFilterbank(stftEnergies[0].length, melCount, lowHz, highHz, sr);\n\n    // For each fft slice, calculate the corresponding mel values.\n    const out = [];\n    for (let i = 0; i < stftEnergies.length; i++) {\n      out[i] = AudioUtils.applyFilterbank(stftEnergies[i], melFilterbank);\n    }\n    return out;\n  }\n\n  /**\n   * Given STFT energies, calculates the MFCC spectrogram.\n   */\n  static mfccSpectrogram(stftEnergies: Float32Array[], melCount=20) {\n    // For each fft slice, calculate the corresponding MFCC values.\n    const out = [];\n    for (let i = 0; i < stftEnergies.length; i++) {\n      out[i] = this.mfcc(stftEnergies[i], melCount);\n    }\n    return out;\n  }\n\n  static lazyCreateMelFilterbank(length: number, melCount=20, lowHz=300, highHz=8000, sr=SR) {\n    // Lazy-create a Mel filterbank.\n    if (!melFilterbank || melFilterbank.length != length) {\n      melFilterbank = this.createMelFilterbank(length, melCount, lowHz, highHz, sr);\n    }\n  }\n\n  /**\n   * Given an interlaced complex array (y_i is real, y_(i+1) is imaginary),\n   * calculates the magnitudes. Output is half the size.\n   */\n  static fftMags(y: Float32Array) {\n    let out = new Float32Array(y.length / 2);\n    for (let i = 0; i < y.length / 2; i++) {\n      out[i] = Math.hypot(y[i*2], y[i*2 + 1]);\n    }\n    return out;\n  }\n\n  /**\n   * Given an interlaced complex array (y_i is real, y_(i+1) is imaginary),\n   * calculates the energies. Output is half the size.\n   */\n  static fftEnergies(y: Float32Array) {\n    let out = new Float32Array(y.length / 2);\n    for (let i = 0; i < y.length / 2; i++) {\n      out[i] = y[i*2]*y[i*2] + y[i*2 + 1]*y[i*2 + 1];\n    }\n    return out;\n  }\n\n  /**\n   * Generates a Hann window of a given length.\n   */\n  static hannWindow(length: number) {\n    let win = new Float32Array(length);\n    for (let i = 0; i < length; i++) {\n      win[i] = 0.5 * (1 - Math.cos(2 * Math.PI * i / (length - 1)));\n    }\n    return win;\n  }\n\n  /**\n   * Applies a window to a buffer (point-wise multiplication).\n   */\n  static applyWindow(buffer, win) {\n    if (buffer.length != win.length) {\n      console.error(`Buffer length ${buffer.length} != window length\n        ${win.length}.`);\n      return;\n    }\n\n    let out = new Float32Array(buffer.length);\n    for (let i = 0; i < buffer.length; i++) {\n      out[i] = win[i] * buffer[i];\n    }\n    return out;\n  }\n\n  static pointWiseMultiply(out: Float32Array,\n    array1: Float32Array, array2: Float32Array) {\n    if (out.length != array1.length || array1.length != array2.length) {\n      console.error(`Output length ${out.length} != array1 length\n        ${array1.length} != array2 length ${array2.length}.`);\n      return;\n    }\n    for (let i = 0; i < out.length; i++) {\n      out[i] = array1[i] * array2[i];\n    }\n    return out;\n  }\n\n  static createMelFilterbank(fftSize, melCount=20, lowHz=300, highHz=8000, sr=SR) {\n    const lowMel = this.hzToMel(lowHz);\n    const highMel = this.hzToMel(highHz);\n\n    // Construct linearly spaced array of melCount intervals, between lowMel and\n    // highMel.\n    const mels = linearSpace(lowMel, highMel, melCount + 2);\n    // Convert from mels to hz.\n    const hzs = mels.map(mel => this.melToHz(mel));\n    // Go from hz to the corresponding bin in the FFT.\n    const bins = hzs.map(hz => this.freqToBin(hz, fftSize));\n\n    // Now that we have the start and end frequencies, create each triangular\n    // window (each value in [0, 1]) that we will apply to an FFT later. These\n    // are mostly sparse, except for the values of the triangle\n    const length = bins.length - 2;\n    const filters = [];\n    for (let i = 0; i < length; i++) {\n      // Now generate the triangles themselves.\n      filters[i] = this.triangleWindow(fftSize, bins[i], bins[i+1], bins[i+2]);\n    }\n\n    return filters;\n  }\n\n  /**\n   * Given an array of FFT magnitudes, apply a filterbank. Output should be an\n   * array with size |filterbank|.\n   */\n  static applyFilterbank(fftEnergies: Float32Array, filterbank: Float32Array[])\n    : Float32Array {\n    if (fftEnergies.length != filterbank[0].length) {\n      console.error(`Each entry in filterbank should have dimensions matching\n        FFT. |FFT| = ${fftEnergies.length}, |filterbank[0]| = ${filterbank[0].length}.`);\n      return;\n    }\n\n    // Apply each filter to the whole FFT signal to get one value.\n    let out = new Float32Array(filterbank.length);\n    for (let i = 0; i < filterbank.length; i++) {\n      // To calculate filterbank energies we multiply each filterbank with the\n      // power spectrum.\n      const win = AudioUtils.applyWindow(fftEnergies, filterbank[i]);\n      // Then add up the coefficents, and take the log.\n      out[i] = logGtZero(sum(win));\n    }\n    return out;\n  }\n\n  static hzToMel(hz) {\n    return 1125 * Math.log(1 + hz/700);\n  }\n\n  static melToHz(mel) {\n    return 700 * (Math.exp(mel/1125) - 1);\n  }\n\n  static freqToBin(freq, fftSize, sr=SR) {\n    return Math.floor((fftSize+1) * freq / (sr/2));\n  }\n\n  /**\n   * Creates a triangular window.\n   */\n  static triangleWindow(length, startIndex, peakIndex, endIndex) {\n    const win = new Float32Array(length);\n    const deltaUp = 1.0 / (peakIndex - startIndex);\n    for (let i = startIndex; i < peakIndex; i++) {\n      // Linear ramp up between start and peak index (values from 0 to 1).\n      win[i] = (i - startIndex) * deltaUp;\n    }\n    const deltaDown = 1.0 / (endIndex - peakIndex);\n    for (let i = peakIndex; i < endIndex; i++) {\n      // Linear ramp down between peak and end index (values from 1 to 0).\n      win[i] = 1 - (i - peakIndex) * deltaDown;\n    }\n    return win;\n  }\n\n  static cepstrumFromEnergySpectrum(melEnergies: Float32Array) {\n    return this.dct(melEnergies);\n  }\n\n  /**\n   * Calculate MFC coefficients from FFT energies.\n   */\n  static mfcc(fftEnergies: Float32Array, melCount=20, lowHz=300, highHz=8000, sr=SR) {\n    this.lazyCreateMelFilterbank(fftEnergies.length, melCount, lowHz, highHz, sr);\n\n    // Apply the mel filterbank to the FFT magnitudes.\n    const melEnergies = this.applyFilterbank(fftEnergies, melFilterbank);\n    // Go from mel coefficients to MFCC.\n    return this.cepstrumFromEnergySpectrum(melEnergies);\n  }\n\n  static normalizeSpecInPlace(spec, normMin=0, normMax=1) {\n    let min = Infinity;\n    let max = -Infinity;\n    const times = spec.length;\n    const freqs = spec[0].length;\n    for (let i = 0; i < times; i++) {\n      for (let j = 0; j < freqs; j++) {\n        const val = spec[i][j];\n        if (val < min) {\n          min = val;\n        }\n        if (val > max) {\n          max = val;\n        }\n      }\n    }\n\n    const scale = (normMax - normMin) / (max - min);\n    const offset = normMin - min;\n    for (let i = 0; i < times; i++) {\n      for (let j = 0; j < freqs; j++) {\n        // Get a normalized value in [0, 1].\n        const norm = (spec[i][j] - min) / (max - min);\n        // Then convert it to the desired range.\n        spec[i][j] = normMin + norm * (normMax - normMin);\n      }\n    }\n  }\n\n  static playbackArrayBuffer(buffer: Float32Array, sampleRate?: number) {\n    if (!context) {\n      context = new AudioContext();\n    }\n    if (!sampleRate) {\n      sampleRate = context.sampleRate;\n    }\n    const audioBuffer = context.createBuffer(1, buffer.length, sampleRate);\n    const audioBufferData = audioBuffer.getChannelData(0);\n    audioBufferData.set(buffer);\n\n    const source = context.createBufferSource();\n    source.buffer = audioBuffer;\n    source.connect(context.destination);\n    source.start();\n  }\n\n}\n\nfunction linearSpace(start, end, count) {\n  const delta = (end - start) / (count + 1);\n  let out = [];\n  for (let i = 0; i < count; i++) {\n    out[i] = start + delta * i;\n  }\n  return out;\n}\n\nfunction sum(array) {\n  return array.reduce(function(a, b) { return a + b; });\n}\n\nfunction range(count) : number[] {\n  let out = [];\n  for (let i = 0; i < count; i++) {\n    out.push(i);\n  }\n  return out;\n}\n\n// Use a lower minimum value for energy.\nconst MIN_VAL = -10;\nfunction logGtZero(val) {\n  // Ensure that the log argument is nonnegative.\n  const offset = Math.exp(MIN_VAL);\n  return Math.log(val + offset);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../audio-features/src/AudioUtils.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar xhr_dataset = require(\"./data/xhr-dataset\");\nexports.xhr_dataset = xhr_dataset;\nvar environment = require(\"./environment\");\nexports.environment = environment;\nvar conv_util = require(\"./math/conv_util\");\nexports.conv_util = conv_util;\nvar gpgpu_util = require(\"./math/webgl/gpgpu_util\");\nexports.gpgpu_util = gpgpu_util;\nvar render_ndarray_gpu_util = require(\"./math/webgl/render_ndarray_gpu_util\");\nexports.render_ndarray_gpu_util = render_ndarray_gpu_util;\nvar webgl_util = require(\"./math/webgl/webgl_util\");\nexports.webgl_util = webgl_util;\nvar test_util = require(\"./test_util\");\nexports.test_util = test_util;\nvar util = require(\"./util\");\nexports.util = util;\nvar version_1 = require(\"./version\");\nexports.version = version_1.version;\nvar checkpoint_loader_1 = require(\"./data/checkpoint_loader\");\nexports.CheckpointLoader = checkpoint_loader_1.CheckpointLoader;\nvar dataset_1 = require(\"./data/dataset\");\nexports.InMemoryDataset = dataset_1.InMemoryDataset;\nvar input_provider_1 = require(\"./data/input_provider\");\nexports.InCPUMemoryShuffledInputProviderBuilder = input_provider_1.InCPUMemoryShuffledInputProviderBuilder;\nexports.InGPUMemoryShuffledInputProviderBuilder = input_provider_1.InGPUMemoryShuffledInputProviderBuilder;\nvar xhr_dataset_1 = require(\"./data/xhr-dataset\");\nexports.XhrDataset = xhr_dataset_1.XhrDataset;\nvar environment_1 = require(\"./environment\");\nexports.ENV = environment_1.ENV;\nexports.Environment = environment_1.Environment;\nvar graph_1 = require(\"./graph/graph\");\nexports.Graph = graph_1.Graph;\nexports.Tensor = graph_1.Tensor;\nvar adadelta_optimizer_1 = require(\"./graph/optimizers/adadelta_optimizer\");\nexports.AdadeltaOptimizer = adadelta_optimizer_1.AdadeltaOptimizer;\nvar adagrad_optimizer_1 = require(\"./graph/optimizers/adagrad_optimizer\");\nexports.AdagradOptimizer = adagrad_optimizer_1.AdagradOptimizer;\nvar adam_optimizer_1 = require(\"./graph/optimizers/adam_optimizer\");\nexports.AdamOptimizer = adam_optimizer_1.AdamOptimizer;\nvar adamax_optimizer_1 = require(\"./graph/optimizers/adamax_optimizer\");\nexports.AdamaxOptimizer = adamax_optimizer_1.AdamaxOptimizer;\nvar momentum_optimizer_1 = require(\"./graph/optimizers/momentum_optimizer\");\nexports.MomentumOptimizer = momentum_optimizer_1.MomentumOptimizer;\nvar optimizer_1 = require(\"./graph/optimizers/optimizer\");\nexports.Optimizer = optimizer_1.Optimizer;\nvar rmsprop_optimizer_1 = require(\"./graph/optimizers/rmsprop_optimizer\");\nexports.RMSPropOptimizer = rmsprop_optimizer_1.RMSPropOptimizer;\nvar sgd_optimizer_1 = require(\"./graph/optimizers/sgd_optimizer\");\nexports.SGDOptimizer = sgd_optimizer_1.SGDOptimizer;\nvar session_1 = require(\"./graph/session\");\nexports.CostReduction = session_1.CostReduction;\nexports.Session = session_1.Session;\nvar graph_runner_1 = require(\"./graph_runner\");\nexports.GraphRunner = graph_runner_1.GraphRunner;\nexports.MetricReduction = graph_runner_1.MetricReduction;\nvar initializers_1 = require(\"./initializers\");\nexports.ConstantInitializer = initializers_1.ConstantInitializer;\nexports.NDArrayInitializer = initializers_1.NDArrayInitializer;\nexports.OnesInitializer = initializers_1.OnesInitializer;\nexports.RandomNormalInitializer = initializers_1.RandomNormalInitializer;\nexports.RandomTruncatedNormalInitializer = initializers_1.RandomTruncatedNormalInitializer;\nexports.RandomUniformInitializer = initializers_1.RandomUniformInitializer;\nexports.VarianceScalingInitializer = initializers_1.VarianceScalingInitializer;\nexports.ZerosInitializer = initializers_1.ZerosInitializer;\nvar math_1 = require(\"./math/math\");\nexports.MatrixOrientation = math_1.MatrixOrientation;\nexports.NDArrayMath = math_1.NDArrayMath;\nvar math_cpu_1 = require(\"./math/math_cpu\");\nexports.NDArrayMathCPU = math_cpu_1.NDArrayMathCPU;\nvar math_gpu_1 = require(\"./math/math_gpu\");\nexports.NDArrayMathGPU = math_gpu_1.NDArrayMathGPU;\nvar ndarray_1 = require(\"./math/ndarray\");\nexports.initializeGPU = ndarray_1.initializeGPU;\nvar ndarray_2 = require(\"./math/ndarray\");\nexports.Array1D = ndarray_2.Array1D;\nexports.Array2D = ndarray_2.Array2D;\nexports.Array3D = ndarray_2.Array3D;\nexports.Array4D = ndarray_2.Array4D;\nexports.NDArray = ndarray_2.NDArray;\nexports.Scalar = ndarray_2.Scalar;\nvar gpgpu_context_1 = require(\"./math/webgl/gpgpu_context\");\nexports.GPGPUContext = gpgpu_context_1.GPGPUContext;\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/index.js\n// module id = 19\n// module chunks = 0","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nimport {\n  Graph,\n  NDArray,\n  Session,\n} from 'deeplearn';\nimport * as tab64 from 'tab64';\n\nconst DB_NAME = 'weightDb';\nconst DB_VERSION = 5;\nconst WEIGHT_STORE = 'weightStore';\n\nexport interface GraphWeights {\n  [key: string]: NDArray\n}\n\nexport function saveGraphWeights(graph: Graph, session: Session) {\n  if (session.activationArrayMap.size() === 0) {\n    console.error('No activationArrayMap found. Please train first.');\n    return;\n  }\n  // Get the nodes that we want to save.\n  const saveNodes = graph.getNodes().filter(v => {\n    return v.name.slice(0, 4) === 'save';\n  });\n  const saveWeights = saveNodes.map(node => {\n    return {key: node.name, value: session.activationArrayMap.get(node.output)};\n  });\n\n  const dbResult = indexedDB.open(DB_NAME, DB_VERSION);\n\n  dbResult.onerror = function(e) {\n    console.log('IDB: error.');\n  };\n\n  dbResult.onupgradeneeded = function(e) {\n    console.log('IDB: onupgradeneeded.');\n    const db = this.result;\n    if (!db.objectStoreNames.contains(WEIGHT_STORE)) {\n      db.createObjectStore(WEIGHT_STORE);\n    }\n  };\n\n  dbResult.onsuccess = function(e) {\n    console.log('IDB: onsuccess.');\n    const db = this.result;\n    // Iterate through all of the weights in the graph, save each weight\n    // vector to indexedDB.\n    for (let {key, value} of saveWeights) {\n      saveNDArray(db, WEIGHT_STORE, key, value);\n      console.log(`Saved NDArray of shape [${value.shape}] for node ${key}.`);\n    }\n  };\n}\n\nexport async function loadGraphWeights(graph: Graph) {\n  return new Promise((resolve, reject) => {\n    const saveNodes = graph.getNodes().filter(v => {\n      return v.name.slice(0, 4) === 'save';\n    });\n    const dbResult = indexedDB.open(DB_NAME, DB_VERSION);\n    dbResult.onsuccess = function(e) {\n      const namedWeights = {};\n      const promises = [];\n      const db = this.result;\n      for (let node of saveNodes) {\n        // Get the saved value for this node.\n        const promise = loadNDArray(db, WEIGHT_STORE, node.name).then(value => {\n          namedWeights[node.name] = value;\n          console.log(`Loaded NDArray of shape [${value.shape}]` +\n            ` for node ${node.name}.`);\n        });\n        promises.push(promise);\n      }\n      return Promise.all(promises).then(e => resolve(namedWeights));\n    }\n\n    dbResult.onerror = reject;\n\n    dbResult.onupgradeneeded = function(e) {\n      console.log('IDB: onupgradeneeded.');\n    };\n  });\n}\n\nasync function saveNDArray(db, storeName, keyName, ndArray) {\n  // Save both shape and data.\n  await saveValue(db, storeName, keyName + '-shape', ndArray.shape);\n  await saveValue(db, storeName, keyName + '-data', ndArray.dataSync());\n}\n\nasync function loadNDArray(db, storeName, keyName) {\n  const shapeKey = keyName + '-shape';\n  const dataKey = keyName + '-data';\n  const shape = await loadValue(db, storeName, shapeKey);\n  const data = await loadValue(db, storeName, dataKey);\n  return NDArray.make(shape, {values: data});\n}\n\nasync function saveValue(db, storeName, keyName, value) {\n  const trans = db.transaction(storeName, 'readwrite');\n  const store = trans.objectStore(storeName);\n  return store.put(value, keyName);\n}\n\nasync function loadValue(db, storeName, keyName) {\n  return new Promise((resolve, reject) => {\n    const trans = db.transaction(storeName, 'readonly');\n    const store = trans.objectStore(storeName);\n    const request = store.get(keyName);\n    request.onsuccess = function(e) {\n      // Do something with the request.result!\n      const weight = request.result;\n      resolve(weight);\n    };\n    request.onerror = reject;\n  });\n}\n\n/**\n * Saving and loading from JSON.\n */\nexport function saveGraphWeightsJSON(graph: Graph, session: Session) {\n  if (session.activationArrayMap.size() === 0) {\n    console.error('No activationArrayMap found. Please train first.');\n    return;\n  }\n  // Get the nodes that we want to save.\n  const saveNodes = graph.getNodes().filter(v => {\n    return v.name.slice(0, 4) === 'save';\n  });\n  // Format: {\"node-name\": {\"shape\": [3, 2, 4], \"data\": \"BASE64STRING\"}, ...}\n  const saveWeights = saveNodes.map(node => {\n    return {key: node.name, value: session.activationArrayMap.get(node.output)};\n  });\n  let json = {};\n  for (let node of saveNodes) {\n    const key = node.name;\n    const ndarray = session.activationArrayMap.get(node.output);\n    const base64 = tab64.encode(ndarray.dataSync());\n    const value = {\n      shape: ndarray.shape,\n      data: base64,\n    };\n    json[key] = value;\n  }\n  // Stringify the JSON and download it.\n  return JSON.stringify(json, null, 2);\n}\n\nexport function loadGraphWeightsJSON(graph: Graph, json: object) {\n  const saveNodes = graph.getNodes().filter(v => {\n    return v.name.slice(0, 4) === 'save';\n  });\n\n  const namedWeights: GraphWeights = {};\n  for (let node of saveNodes) {\n    const key = node.name;\n    const item = json[key];\n    const data = tab64.decode(item.data, 'float32')\n    const array = NDArray.make(item.shape, {values: data});\n    namedWeights[node.name] = array;\n  }\n  return namedWeights;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/GraphSaverLoader.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction axesAreInnerMostDims(axes, rank) {\n    for (var i = 0; i < axes.length; ++i) {\n        if (axes[axes.length - i - 1] !== rank - 1 - i) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.axesAreInnerMostDims = axesAreInnerMostDims;\nfunction combineLocations(outputLoc, reduceLoc, axes) {\n    var rank = outputLoc.length + reduceLoc.length;\n    var loc = [];\n    var outIdx = 0;\n    var reduceIdx = 0;\n    for (var dim = 0; dim < rank; dim++) {\n        if (axes.indexOf(dim) === -1) {\n            loc.push(outputLoc[outIdx++]);\n        }\n        else {\n            loc.push(reduceLoc[reduceIdx++]);\n        }\n    }\n    return loc;\n}\nexports.combineLocations = combineLocations;\nfunction computeOutAndReduceShapes(aShape, axes) {\n    var outShape = [];\n    var rank = aShape.length;\n    for (var dim = 0; dim < rank; dim++) {\n        if (axes.indexOf(dim) === -1) {\n            outShape.push(aShape[dim]);\n        }\n    }\n    var reduceShape = axes.map(function (dim) { return aShape[dim]; });\n    return [outShape, reduceShape];\n}\nexports.computeOutAndReduceShapes = computeOutAndReduceShapes;\nfunction expandShapeToKeepDim(shape, axes) {\n    var reduceSubShape = axes.map(function (x) { return 1; });\n    return combineLocations(shape, reduceSubShape, axes);\n}\nexports.expandShapeToKeepDim = expandShapeToKeepDim;\nfunction parseAxisParam(axis, shape) {\n    if (axis == null) {\n        axis = shape.map(function (s, i) { return i; });\n    }\n    else if (typeof (axis) === 'number') {\n        axis = [axis];\n    }\n    return axis;\n}\nexports.parseAxisParam = parseAxisParam;\nfunction assertAxesAreInnerMostDims(msg, axes, rank) {\n    if (!axesAreInnerMostDims(axes, rank)) {\n        throw new Error(msg + \" supports only inner-most axes for now. \" +\n            (\"Got axes \" + axes + \" and rank-\" + rank + \" input.\"));\n    }\n}\nexports.assertAxesAreInnerMostDims = assertAxesAreInnerMostDims;\nfunction getPermutedAxes(axes, rank) {\n    if (axesAreInnerMostDims(axes, rank)) {\n        return null;\n    }\n    var result = [];\n    for (var i = 0; i < rank; ++i) {\n        if (axes.indexOf(i) === -1) {\n            result.push(i);\n        }\n    }\n    axes.forEach(function (axis) { return result.push(axis); });\n    return result;\n}\nexports.getPermutedAxes = getPermutedAxes;\nfunction getInnerMostAxes(numAxes, rank) {\n    var res = [];\n    for (var i = rank - numAxes; i < rank; ++i) {\n        res.push(i);\n    }\n    return res;\n}\nexports.getInnerMostAxes = getInnerMostAxes;\n//# sourceMappingURL=axis_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/axis_util.js\n// module id = 21\n// module chunks = 0","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../../environment\");\nvar tex_util = require(\"./tex_util\");\nvar webgl_util = require(\"./webgl_util\");\nfunction getWebGLContextAttributes() {\n    return {\n        alpha: false,\n        antialias: false,\n        premultipliedAlpha: false,\n        preserveDrawingBuffer: false,\n        depth: false,\n        stencil: false,\n        failIfMajorPerformanceCaveat: true\n    };\n}\nexports.getWebGLContextAttributes = getWebGLContextAttributes;\nfunction createWebGLContext(canvas) {\n    var attributes = getWebGLContextAttributes();\n    var gl;\n    if (canvas != null) {\n        gl = webgl_util.createWebGLRenderingContextFromCanvas(canvas, attributes);\n    }\n    else {\n        gl = webgl_util.createWebGLRenderingContext(attributes);\n    }\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.DEPTH_TEST); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.STENCIL_TEST); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.BLEND); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.DITHER); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.POLYGON_OFFSET_FILL); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.SAMPLE_COVERAGE); });\n    webgl_util.callAndCheck(gl, function () { return gl.enable(gl.SCISSOR_TEST); });\n    webgl_util.callAndCheck(gl, function () { return gl.enable(gl.CULL_FACE); });\n    webgl_util.callAndCheck(gl, function () { return gl.cullFace(gl.BACK); });\n    return gl;\n}\nexports.createWebGLContext = createWebGLContext;\nfunction createVertexShader(gl) {\n    var vertexShaderSource = \"\\n    precision highp float;\\n    attribute vec3 clipSpacePos;\\n    attribute vec2 uv;\\n    varying vec2 resultUV;\\n\\n    void main() {\\n      gl_Position = vec4(clipSpacePos, 1);\\n      resultUV = uv;\\n    }\";\n    return webgl_util.createVertexShader(gl, vertexShaderSource);\n}\nexports.createVertexShader = createVertexShader;\nfunction createVertexBuffer(gl) {\n    var vertexArray = new Float32Array([-1, 1, 0, 0, 1, -1, -1, 0, 0, 0, 1, 1, 0, 1, 1, 1, -1, 0, 1, 0]);\n    return webgl_util.createStaticVertexBuffer(gl, vertexArray);\n}\nexports.createVertexBuffer = createVertexBuffer;\nfunction createIndexBuffer(gl) {\n    var triangleVertexIndices = new Uint16Array([0, 1, 2, 2, 1, 3]);\n    return webgl_util.createStaticIndexBuffer(gl, triangleVertexIndices);\n}\nexports.createIndexBuffer = createIndexBuffer;\nfunction getTextureInternalFormat(gl, numChannels) {\n    if (!environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return gl.RGBA;\n    }\n    if (environment_1.ENV.get('WEBGL_VERSION') === 2) {\n        if (numChannels === 4) {\n            return gl.RGBA32F;\n        }\n        return gl.R32F;\n    }\n    return gl.RGBA;\n}\nfunction getTextureFormat(gl, numChannels) {\n    if (!environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return gl.RGBA;\n    }\n    if (environment_1.ENV.get('WEBGL_VERSION') === 2) {\n        if (numChannels === 4) {\n            return gl.RGBA;\n        }\n        return gl.RED;\n    }\n    return gl.RGBA;\n}\nfunction getTextureType(gl) {\n    if (!environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return gl.UNSIGNED_BYTE;\n    }\n    return gl.FLOAT;\n}\nfunction createAndConfigureTexture(gl, width, height, numChannels) {\n    webgl_util.validateTextureSize(gl, width, height);\n    var texture = webgl_util.createTexture(gl);\n    var tex2d = gl.TEXTURE_2D;\n    var internalFormat = getTextureInternalFormat(gl, numChannels);\n    var format = getTextureFormat(gl, numChannels);\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(tex2d, texture); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_MIN_FILTER, gl.NEAREST); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_MAG_FILTER, gl.NEAREST); });\n    webgl_util.callAndCheck(gl, function () { return gl.texImage2D(tex2d, 0, internalFormat, width, height, 0, format, getTextureType(gl), null); });\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n    return texture;\n}\nfunction createMatrixTexture(gl, rows, columns) {\n    var _a = tex_util.getUnpackedMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n    var numChannels = 1;\n    return createAndConfigureTexture(gl, width, height, numChannels);\n}\nexports.createMatrixTexture = createMatrixTexture;\nfunction createColorMatrixTexture(gl, rows, columns) {\n    var _a = tex_util.getColorMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n    var numChannels = 4;\n    return createAndConfigureTexture(gl, width, height, numChannels);\n}\nexports.createColorMatrixTexture = createColorMatrixTexture;\nfunction createPackedMatrixTexture(gl, rows, columns) {\n    var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n    var numChannels = 4;\n    return createAndConfigureTexture(gl, width, height, numChannels);\n}\nexports.createPackedMatrixTexture = createPackedMatrixTexture;\nfunction bindVertexProgramAttributeStreams(gl, program, vertexBuffer, attribLocations) {\n    var posOffset = 0;\n    var uvOffset = 3 * 4;\n    var stride = (3 * 4) + (2 * 4);\n    webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer); });\n    webgl_util.bindVertexBufferToProgramAttribute(gl, program, 'clipSpacePos', vertexBuffer, 3, stride, posOffset, attribLocations);\n    webgl_util.bindVertexBufferToProgramAttribute(gl, program, 'uv', vertexBuffer, 2, stride, uvOffset, attribLocations);\n}\nexports.bindVertexProgramAttributeStreams = bindVertexProgramAttributeStreams;\nfunction uploadPixelDataToTexture(gl, texture, pixels) {\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, texture); });\n    webgl_util.callAndCheck(gl, function () { return gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, pixels); });\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n}\nexports.uploadPixelDataToTexture = uploadPixelDataToTexture;\nfunction uploadDataToTexture(gl, texture, width, height, data, numChannels) {\n    var textureFormat = getTextureFormat(gl, numChannels);\n    webgl_util.validateTextureSize(gl, width, height);\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, texture); });\n    webgl_util.callAndCheck(gl, function () { return gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, width, height, textureFormat, getTextureType(gl), data); });\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n}\nfunction uploadMatrixToTexture(gl, texture, rows, columns, matrix, numChannels) {\n    var _a = tex_util.getUnpackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var unpackedArray;\n    if (environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        var channelsPerTexture = numChannels === 1 ? webgl_util.getChannelsPerTexture() : numChannels;\n        if (channelsPerTexture === 1) {\n            unpackedArray = matrix;\n        }\n        else {\n            unpackedArray =\n                new Float32Array(tex_util.getUnpackedArraySizeFromMatrixSize(matrix.length, channelsPerTexture));\n            tex_util.encodeMatrixToUnpackedArray(matrix, unpackedArray, channelsPerTexture);\n        }\n    }\n    else {\n        unpackedArray = tex_util.encodeFloatArray(matrix);\n    }\n    uploadDataToTexture(gl, texture, w, h, unpackedArray, numChannels);\n}\nexports.uploadMatrixToTexture = uploadMatrixToTexture;\nfunction uploadMatrixToPackedTexture(gl, texture, rows, columns, matrix) {\n    var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var packedRGBA = new Float32Array(tex_util.getPackedRGBAArraySizeFromMatrixShape(rows, columns));\n    tex_util.encodeMatrixToPackedRGBA(matrix, rows, columns, packedRGBA);\n    var numChannels = 4;\n    uploadDataToTexture(gl, texture, w, h, packedRGBA, numChannels);\n}\nexports.uploadMatrixToPackedTexture = uploadMatrixToPackedTexture;\nfunction getDownloadTargetArrayBuffer(rows, columns, channelsPerTexture) {\n    var isFloatTexture = environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED');\n    var downloadTarget;\n    if (isFloatTexture) {\n        downloadTarget =\n            new Float32Array(tex_util.getUnpackedArraySizeFromMatrixSize(rows * columns, channelsPerTexture));\n    }\n    else {\n        downloadTarget = new Uint8Array(rows * columns * channelsPerTexture);\n    }\n    return downloadTarget;\n}\nfunction decodeDownloadTargetArrayBuffer(downloadTarget, rows, columns, channelsPerPixel) {\n    var isFloatTexture = environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED');\n    if (isFloatTexture) {\n        var matrix = new Float32Array(rows * columns);\n        tex_util.decodeMatrixFromUnpackedArray(downloadTarget, matrix, channelsPerPixel);\n        return matrix;\n    }\n    else {\n        return tex_util.decodeToFloatArray(downloadTarget);\n    }\n}\nfunction downloadMatrixFromOutputTextureAsync(gl, getBufferSubDataAsyncExtension, rows, columns) {\n    return __awaiter(this, void 0, void 0, function () {\n        var gl2, channelsPerPixel, downloadTarget, bufferSizeBytes, buffer;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    gl2 = gl;\n                    channelsPerPixel = 4;\n                    downloadTarget = getDownloadTargetArrayBuffer(rows, columns, channelsPerPixel);\n                    bufferSizeBytes = downloadTarget instanceof Float32Array ?\n                        downloadTarget.length * 4 :\n                        downloadTarget;\n                    buffer = gl.createBuffer();\n                    webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl2.PIXEL_PACK_BUFFER, buffer); });\n                    webgl_util.callAndCheck(gl, function () { return gl.bufferData(gl2.PIXEL_PACK_BUFFER, bufferSizeBytes, gl.STATIC_DRAW); });\n                    webgl_util.callAndCheck(gl, function () {\n                        return gl2.readPixels(0, 0, columns, rows, gl.RGBA, getTextureType(gl), 0);\n                    });\n                    return [4, getBufferSubDataAsyncExtension.getBufferSubDataAsync(gl2.PIXEL_PACK_BUFFER, 0, downloadTarget)];\n                case 1:\n                    _a.sent();\n                    return [2, decodeDownloadTargetArrayBuffer(downloadTarget, rows, columns, channelsPerPixel)];\n            }\n        });\n    });\n}\nexports.downloadMatrixFromOutputTextureAsync = downloadMatrixFromOutputTextureAsync;\nfunction downloadMatrixFromOutputTexture(gl, rows, columns) {\n    var _a = tex_util.getUnpackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var channelsPerPixel = 4;\n    var downloadTarget = getDownloadTargetArrayBuffer(rows, columns, channelsPerPixel);\n    webgl_util.callAndCheck(gl, function () { return gl.readPixels(0, 0, w, h, gl.RGBA, getTextureType(gl), downloadTarget); });\n    return decodeDownloadTargetArrayBuffer(downloadTarget, rows, columns, channelsPerPixel);\n}\nexports.downloadMatrixFromOutputTexture = downloadMatrixFromOutputTexture;\nfunction downloadMatrixFromRGBAColorTexture(gl, rows, columns, channels) {\n    var size = rows * columns * 4;\n    var downloadTarget = new Uint8Array(size);\n    webgl_util.callAndCheck(gl, function () { return gl.readPixels(0, 0, columns, rows, gl.RGBA, gl.UNSIGNED_BYTE, downloadTarget); });\n    var packedRGBA = new Float32Array(size);\n    for (var i = 0; i < downloadTarget.length; i++) {\n        packedRGBA[i] = downloadTarget[i];\n    }\n    var matrix = new Float32Array(rows * columns * channels);\n    tex_util.decodeMatrixFromUnpackedColorRGBAArray(packedRGBA, matrix, channels);\n    return matrix;\n}\nexports.downloadMatrixFromRGBAColorTexture = downloadMatrixFromRGBAColorTexture;\nfunction downloadMatrixFromPackedOutputTexture(gl, rows, columns) {\n    var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var packedRGBA = new Float32Array(tex_util.getPackedRGBAArraySizeFromMatrixShape(rows, columns));\n    webgl_util.callAndCheck(gl, function () { return gl.readPixels(0, 0, w, h, gl.RGBA, getTextureType(gl), packedRGBA); });\n    var matrix = new Float32Array(rows * columns);\n    return tex_util.decodeMatrixFromPackedRGBA(packedRGBA, rows, columns, matrix);\n}\nexports.downloadMatrixFromPackedOutputTexture = downloadMatrixFromPackedOutputTexture;\n//# sourceMappingURL=gpgpu_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/gpgpu_util.js\n// module id = 22\n// module chunks = 0","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nimport AudioUtils from '../../audio-features/src/AudioUtils';\nimport {Array3D, NDArray} from 'deeplearn';\n\nexport const BUFFER_LENGTH = 1024;\nexport const HOP_LENGTH = 512;\nexport const MEL_COUNT = 20;\nexport const EXAMPLE_SR = 16000;\nexport const DURATION = 1.0;\nexport const IS_MFCC_ENABLED = false;\n\n/**\n * Goes from filename or audio sample buffer to input features.\n */\nexport default class FeatureExtractor {\n\n  static bufferToFeature(buffer: Float32Array, isMfccEnabled=false) {\n    buffer = this.zeroPadIfNeeded(buffer, DURATION * EXAMPLE_SR);\n    const spec = this.pcmToMelSpectrogram(buffer, isMfccEnabled);\n    return this.melSpectrogramToInput(spec);\n  }\n\n  static featureToSpectrogram(feature: NDArray) : Float32Array[] {\n    const data = feature.dataSync();\n    const out = [];\n    const [times, freqs, _] = feature.shape;\n    for (let i = 0; i < times; i++) {\n      // Get the chunk between i*freqs and (i+1)*freqs and create a new\n      // Float32Array out of it.\n      const column = data.slice(i*freqs, (i + 1)*freqs);\n      out.push(column);\n    }\n    return out;\n  }\n\n  static getFeatureShape() {\n    const times = Math.floor(\n      (DURATION * EXAMPLE_SR - BUFFER_LENGTH) / HOP_LENGTH) + 1;\n\n    return [times, MEL_COUNT, 1];\n  }\n\n  private static pcmToMelSpectrogram(buffer: Float32Array,\n    isMfccEnabled: boolean) {\n    const stft = AudioUtils.stft(buffer, BUFFER_LENGTH, HOP_LENGTH);\n    const spec = stft.map(fft => AudioUtils.fftEnergies(fft));\n    if (isMfccEnabled) {\n      return AudioUtils.mfccSpectrogram(spec, MEL_COUNT);\n    } else {\n      return AudioUtils.melSpectrogram(spec, MEL_COUNT);\n    }\n  }\n\n  static melSpectrogramToInput(spec: Float32Array[]) : Array3D {\n    // Flatten this spectrogram into a 2D array.\n    const times = spec.length;\n    const freqs = spec[0].length;\n    const data = new Float32Array(times * freqs);\n    let i = 0;\n    for (let i = 0; i < times; i++) {\n      const mel = spec[i];\n      const offset = i * freqs;\n      data.set(mel, offset);\n    }\n    // Normalize the whole input to be in [0, 1].\n    const shape:number[3] = [times, freqs, 1];\n    //this.normalizeInPlace(data, 0, 1);\n    return Array3D.new(shape, Array.prototype.slice.call(data));\n  }\n\n  private static zeroPadIfNeeded(buffer: Float32Array, targetLength: number) {\n    if (buffer.length == targetLength) {\n      return buffer;\n    } else if (buffer.length > targetLength) {\n      return buffer.slice(0, targetLength);\n    }\n    //console.log(`Padded buffer of length ${buffer.length}.`);\n    const out = new Float32Array(targetLength);\n    out.fill(0);\n    out.set(buffer);\n    return out;\n  }\n\n  private static normalizeInPlace(buffer: Float32Array, normMin=0, normMax=1) {\n    let min = Infinity;\n    let max = -Infinity;\n    for (let i = 0; i < buffer.length; i++) {\n      const val = buffer[i];\n      if (val < min) {\n        min = val;\n      }\n      if (val > max) {\n        max = val;\n      }\n    }\n\n    // Now we've found min and max values, we know what to scale & offset by.\n    const scale = (normMax - normMin) / (max - min);\n    const offset = normMin - min;\n    for (let i = 0; i < buffer.length; i++) {\n      // Get a normalized value in [0, 1].\n      const norm = (buffer[i] - min) / (max - min);\n      // Then convert it to the desired range.\n      buffer[i] = normMin + norm * (normMax - normMin);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/FeatureExtractor.ts","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../math/ndarray\");\nvar util = require(\"../util\");\nvar STATS_SAMPLE_PERCENTAGE = 0.1;\nvar InMemoryDataset = (function () {\n    function InMemoryDataset(dataShapes) {\n        this.dataShapes = dataShapes;\n        this.normalizationInfo = {};\n    }\n    InMemoryDataset.prototype.getDataShape = function (dataIndex) {\n        return this.dataShapes[dataIndex];\n    };\n    InMemoryDataset.prototype.getData = function () {\n        return this.dataset;\n    };\n    InMemoryDataset.prototype.getStats = function () {\n        var _this = this;\n        if (this.dataset == null) {\n            throw new Error('Data is null.');\n        }\n        return this.dataset.map(function (d) { return _this.getStatsForData(d); });\n    };\n    InMemoryDataset.prototype.getStatsForData = function (data) {\n        var inputMin = Number.POSITIVE_INFINITY;\n        var inputMax = Number.NEGATIVE_INFINITY;\n        var exampleIndices = data.map(function (example, i) { return i; });\n        util.shuffle(exampleIndices);\n        exampleIndices =\n            exampleIndices.slice(exampleIndices.length * STATS_SAMPLE_PERCENTAGE);\n        for (var i = 0; i < exampleIndices.length; i++) {\n            var inputValues = data[exampleIndices[i]].getValues();\n            for (var j = 0; j < inputValues.length; j++) {\n                inputMin = Math.min(inputMin, inputValues[j]);\n                inputMax = Math.max(inputMax, inputValues[j]);\n            }\n        }\n        return {\n            inputMin: inputMin,\n            inputMax: inputMax,\n            exampleCount: data.length,\n            shape: data[0].shape,\n        };\n    };\n    InMemoryDataset.prototype.normalizeExamplesToRange = function (examples, curLowerBounds, curUpperBounds, newLowerBounds, newUpperBounds) {\n        var curBoundsIsPerDimension = (curUpperBounds instanceof Float32Array &&\n            curLowerBounds instanceof Float32Array);\n        var newBoundsIsPerDimension = (newLowerBounds instanceof Float32Array &&\n            newUpperBounds instanceof Float32Array);\n        var inputSize = util.sizeFromShape(examples[0].shape);\n        var newExamples = [];\n        examples.forEach(function (example) {\n            var inputValues = example.getValues();\n            var normalizedValues = new Float32Array(inputSize);\n            for (var j = 0; j < inputSize; j++) {\n                var curLowerBound = curBoundsIsPerDimension ?\n                    curLowerBounds[j] :\n                    curLowerBounds;\n                var curUpperBound = curBoundsIsPerDimension ?\n                    curUpperBounds[j] :\n                    curUpperBounds;\n                var curRange = curUpperBound - curLowerBound;\n                var newLowerBound = newBoundsIsPerDimension ?\n                    newLowerBounds[j] :\n                    newLowerBounds;\n                var newUpperBound = newBoundsIsPerDimension ?\n                    newUpperBounds[j] :\n                    newUpperBounds;\n                var newRange = newUpperBound - newLowerBound;\n                if (curRange === 0) {\n                    normalizedValues[j] = newLowerBound;\n                }\n                else {\n                    normalizedValues[j] = newLowerBound +\n                        newRange * (inputValues[j] - curLowerBound) / curRange;\n                }\n            }\n            newExamples.push(ndarray_1.NDArray.make(example.shape, { values: normalizedValues }));\n        });\n        return newExamples;\n    };\n    InMemoryDataset.prototype.computeBounds = function (dataIndex) {\n        var _this = this;\n        if (this.dataset == null) {\n            throw new Error('Data is null.');\n        }\n        var size = util.sizeFromShape(this.dataset[dataIndex][0].shape);\n        this.normalizationInfo[dataIndex] = {\n            isNormalized: false,\n            minValues: new Float32Array(size),\n            maxValues: new Float32Array(size)\n        };\n        for (var i = 0; i < size; i++) {\n            this.normalizationInfo[dataIndex].minValues[i] = Number.POSITIVE_INFINITY;\n            this.normalizationInfo[dataIndex].maxValues[i] = Number.NEGATIVE_INFINITY;\n        }\n        this.dataset[dataIndex].forEach(function (example) {\n            var inputValues = example.getValues();\n            for (var k = 0; k < size; k++) {\n                _this.normalizationInfo[dataIndex].minValues[k] = Math.min(_this.normalizationInfo[dataIndex].minValues[k], inputValues[k]);\n                _this.normalizationInfo[dataIndex].maxValues[k] = Math.max(_this.normalizationInfo[dataIndex].maxValues[k], inputValues[k]);\n            }\n        });\n    };\n    InMemoryDataset.prototype.normalizeWithinBounds = function (dataIndex, lowerBound, upperBound) {\n        if (this.dataset == null) {\n            throw new Error('Data is null.');\n        }\n        if (dataIndex >= this.dataset.length) {\n            throw new Error('dataIndex out of bounds.');\n        }\n        if (this.normalizationInfo[dataIndex] == null) {\n            this.computeBounds(dataIndex);\n        }\n        var curLowerBounds;\n        var curUpperBounds;\n        if (this.normalizationInfo[dataIndex].isNormalized) {\n            curLowerBounds = this.normalizationInfo[dataIndex].lowerBound;\n            curUpperBounds = this.normalizationInfo[dataIndex].upperBound;\n        }\n        else {\n            curLowerBounds = this.normalizationInfo[dataIndex].minValues;\n            curUpperBounds = this.normalizationInfo[dataIndex].maxValues;\n        }\n        this.dataset[dataIndex] = this.normalizeExamplesToRange(this.dataset[dataIndex], curLowerBounds, curUpperBounds, lowerBound, upperBound);\n        this.normalizationInfo[dataIndex].isNormalized = true;\n        this.normalizationInfo[dataIndex].lowerBound = lowerBound;\n        this.normalizationInfo[dataIndex].upperBound = upperBound;\n    };\n    InMemoryDataset.prototype.isNormalized = function (dataIndex) {\n        return this.normalizationInfo != null &&\n            this.normalizationInfo[dataIndex].isNormalized;\n    };\n    InMemoryDataset.prototype.removeNormalization = function (dataIndex) {\n        if (this.dataset == null) {\n            throw new Error('Training or test data is null.');\n        }\n        if (!this.isNormalized(dataIndex)) {\n            return;\n        }\n        this.dataset[dataIndex] = this.normalizeExamplesToRange(this.dataset[dataIndex], this.normalizationInfo[dataIndex].lowerBound, this.normalizationInfo[dataIndex].upperBound, this.normalizationInfo[dataIndex].minValues, this.normalizationInfo[dataIndex].maxValues);\n        this.normalizationInfo[dataIndex].isNormalized = false;\n    };\n    InMemoryDataset.prototype.unnormalizeExamples = function (examples, dataIndex) {\n        if (!this.isNormalized(dataIndex)) {\n            return examples;\n        }\n        return this.normalizeExamplesToRange(examples, this.normalizationInfo[dataIndex].lowerBound, this.normalizationInfo[dataIndex].upperBound, this.normalizationInfo[dataIndex].minValues, this.normalizationInfo[dataIndex].maxValues);\n    };\n    InMemoryDataset.prototype.dispose = function () {\n        if (this.dataset == null) {\n            return;\n        }\n        for (var i = 0; i < this.dataset.length; i++) {\n            for (var j = 0; j < this.dataset[i].length; j++) {\n                this.dataset[i][j].dispose();\n            }\n        }\n        this.dataset = [];\n    };\n    return InMemoryDataset;\n}());\nexports.InMemoryDataset = InMemoryDataset;\n//# sourceMappingURL=dataset.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/data/dataset.js\n// module id = 24\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../math/ndarray\");\nvar util = require(\"../util\");\nvar dataset_1 = require(\"./dataset\");\nvar PARSING_IMAGE_CANVAS_HEIGHT_PX = 1000;\nfunction getXhrDatasetConfig(jsonConfigPath) {\n    return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', jsonConfigPath);\n        xhr.onload = function () {\n            resolve(JSON.parse(xhr.responseText));\n        };\n        xhr.onerror = function (error) {\n            reject(error);\n        };\n        xhr.send();\n    });\n}\nexports.getXhrDatasetConfig = getXhrDatasetConfig;\nvar XhrDataset = (function (_super) {\n    __extends(XhrDataset, _super);\n    function XhrDataset(xhrDatasetConfig) {\n        var _this = _super.call(this, xhrDatasetConfig.data.map(function (x) { return x.shape; })) || this;\n        _this.xhrDatasetConfig = xhrDatasetConfig;\n        return _this;\n    }\n    XhrDataset.prototype.getNDArray = function (info) {\n        var dataPromise = info.dataType === 'png' ?\n            parseTypedArrayFromPng(info, info.shape) :\n            parseTypedArrayFromBinary(info);\n        return dataPromise.then(function (data) {\n            var inputSize = util.sizeFromShape(info.shape);\n            var ndarrays = [];\n            for (var i = 0; i < data.length / inputSize; i++) {\n                var values = data.subarray(i * inputSize, (i + 1) * inputSize);\n                var ndarray = ndarray_1.NDArray.make(info.shape, { values: new Float32Array(values) });\n                ndarrays.push(ndarray);\n            }\n            return ndarrays;\n        });\n    };\n    XhrDataset.prototype.fetchData = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var promises = _this.xhrDatasetConfig.data.map(function (x) { return _this.getNDArray(x); });\n            Promise.all(promises).then(function (data) {\n                _this.dataset = data;\n                resolve();\n            });\n        });\n    };\n    return XhrDataset;\n}(dataset_1.InMemoryDataset));\nexports.XhrDataset = XhrDataset;\nfunction parseTypedArrayFromBinary(info) {\n    return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', info.path);\n        xhr.responseType = 'arraybuffer';\n        xhr.onload = function (event) {\n            var data = (info.dataType === 'float32') ?\n                new Float32Array(xhr.response) :\n                new Uint8Array(xhr.response);\n            resolve(data);\n        };\n        xhr.onerror = function (err) { return reject(err); };\n        xhr.send();\n    });\n}\nfunction parseGrayscaleImageData(data, result, resultOffset) {\n    var idx = resultOffset;\n    for (var i = 0; i < data.length; i += 4) {\n        result[idx++] = data[i];\n    }\n}\nfunction parseRGBImageData(data, result, resultOffset) {\n    var idx = resultOffset;\n    for (var i = 0; i < data.length; i += 4) {\n        result[idx] = data[i];\n        result[idx + 1] = data[i + 1];\n        result[idx + 2] = data[i + 2];\n        idx += 3;\n    }\n}\nfunction parseImage(img, shape) {\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var N = img.height;\n    var inputSize = util.sizeFromShape(shape);\n    var result = new Uint8Array(N * inputSize);\n    if (img.width !== shape[0] * shape[1]) {\n        throw new Error(\"Image width (\" + img.width + \") must be multiple of \" +\n            (\"rows*columns (\" + shape[0] + \"*\" + shape[1] + \") of the ndarray\"));\n    }\n    canvas.width = img.width;\n    canvas.height = PARSING_IMAGE_CANVAS_HEIGHT_PX;\n    var sx = 0;\n    var sWidth = canvas.width;\n    var sHeight = canvas.height;\n    var dx = 0;\n    var dy = 0;\n    var dWidth = sWidth;\n    var dHeight = sHeight;\n    var depth = shape[2];\n    var offset = 0;\n    var numPasses = Math.ceil(N / canvas.height);\n    for (var pass = 0; pass < numPasses; ++pass) {\n        var sy = pass * canvas.height;\n        if ((pass === numPasses - 1) && (N % canvas.height > 0)) {\n            canvas.height = N % canvas.height;\n            sHeight = canvas.height;\n            dHeight = sHeight;\n        }\n        ctx.drawImage(img, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n        var data = ctx.getImageData(0, 0, canvas.width, canvas.height).data;\n        (depth === 1) ? parseGrayscaleImageData(data, result, offset) :\n            parseRGBImageData(data, result, offset);\n        offset += canvas.height * inputSize;\n    }\n    return result;\n}\nfunction parseTypedArrayFromPng(info, shape) {\n    return new Promise(function (resolve, reject) {\n        var img = new Image();\n        img.setAttribute('crossOrigin', '');\n        img.onload = function () {\n            var result = parseImage(img, shape);\n            img.src = '';\n            img = null;\n            resolve(result);\n        };\n        img.src = info.path;\n    });\n}\n//# sourceMappingURL=xhr-dataset.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/data/xhr-dataset.js\n// module id = 25\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar optimizer_1 = require(\"./optimizer\");\nvar SGDOptimizer = (function (_super) {\n    __extends(SGDOptimizer, _super);\n    function SGDOptimizer(learningRate, specifiedVariableList) {\n        var _this = _super.call(this, learningRate, specifiedVariableList) || this;\n        _this.learningRate = learningRate;\n        return _this;\n    }\n    SGDOptimizer.prototype.afterBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var oldVariable = activationArrayMap.get(node.output);\n                var gradient = _this.variableGradients.get(node.output);\n                var variable = math.scaledArrayAdd(_this.c, gradient, _this.one, oldVariable);\n                activationArrayMap.set(node.output, keep(variable));\n                node.data = variable;\n                oldVariable.dispose();\n            });\n        });\n        this.variableGradients.dispose();\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n    };\n    SGDOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n    };\n    SGDOptimizer.prototype.setLearningRate = function (learningRate) {\n        this.learningRate = learningRate;\n    };\n    return SGDOptimizer;\n}(optimizer_1.Optimizer));\nexports.SGDOptimizer = SGDOptimizer;\n//# sourceMappingURL=sgd_optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/sgd_optimizer.js\n// module id = 26\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction defaultCompare(a, b) {\n    if (a === b) {\n        return 0;\n    }\n    else if (a < b) {\n        return -1;\n    }\n    else {\n        return 1;\n    }\n}\nexports.defaultCompare = defaultCompare;\nvar PriorityQueue = (function () {\n    function PriorityQueue(comparator, indexObserver) {\n        this.comparator = comparator;\n        this.indexObserver = indexObserver;\n        this.heap = [];\n    }\n    PriorityQueue.prototype.enqueue = function (t) {\n        this.heap.push(t);\n        this.onIndexChanged(t, this.heap.length - 1);\n        this.siftUp(this.heap.length - 1);\n    };\n    PriorityQueue.prototype.dequeue = function () {\n        if (this.empty()) {\n            throw new Error('dequeue called on empty priority queue.');\n        }\n        var t = this.heap[0];\n        this.swap(0, this.heap.length - 1);\n        this.heap.pop();\n        this.siftDown(0);\n        return t;\n    };\n    PriorityQueue.prototype.update = function (newT, index) {\n        var last = (index === this.heap.length - 1);\n        if (!last) {\n            this.swap(index, this.heap.length - 1);\n        }\n        this.heap.pop();\n        if (!last) {\n            if (this.siftUpIndex(index) !== -1) {\n                this.siftUp(index);\n            }\n            else if (this.siftDownIndex(index) !== -1) {\n                this.siftDown(index);\n            }\n        }\n        this.enqueue(newT);\n    };\n    PriorityQueue.prototype.empty = function () {\n        return this.heap.length === 0;\n    };\n    PriorityQueue.prototype.onIndexChanged = function (t, newIndex) {\n        if (this.indexObserver) {\n            this.indexObserver(t, newIndex);\n        }\n    };\n    PriorityQueue.prototype.getParentIndex = function (index) {\n        if (index === 0) {\n            return -1;\n        }\n        return Math.floor((index - 1) / 2);\n    };\n    PriorityQueue.prototype.getLeftChildIndex = function (index) {\n        var candidate = index * 2 + 1;\n        return candidate < this.heap.length ? candidate : -1;\n    };\n    PriorityQueue.prototype.getRightChildIndex = function (index) {\n        var candidate = index * 2 + 2;\n        return candidate < this.heap.length ? candidate : -1;\n    };\n    PriorityQueue.prototype.siftUpIndex = function (index) {\n        var parentIndex = this.getParentIndex(index);\n        if (parentIndex === -1) {\n            return -1;\n        }\n        if (this.compare(parentIndex, index) > 0) {\n            return parentIndex;\n        }\n        return -1;\n    };\n    PriorityQueue.prototype.siftUp = function (index) {\n        var siftIndex = this.siftUpIndex(index);\n        while (siftIndex !== -1) {\n            this.swap(index, siftIndex);\n            index = siftIndex;\n            siftIndex = this.siftUpIndex(index);\n        }\n    };\n    PriorityQueue.prototype.siftDownIndex = function (index) {\n        if (index >= this.heap.length) {\n            return -1;\n        }\n        var largestChildIndex = index;\n        var leftChildIndex = this.getLeftChildIndex(index);\n        if ((leftChildIndex !== -1) &&\n            (this.compare(leftChildIndex, largestChildIndex) < 0)) {\n            largestChildIndex = leftChildIndex;\n        }\n        var rightChildIndex = this.getRightChildIndex(index);\n        if ((rightChildIndex !== -1) &&\n            (this.compare(rightChildIndex, largestChildIndex) < 0)) {\n            largestChildIndex = rightChildIndex;\n        }\n        return (largestChildIndex === index) ? -1 : largestChildIndex;\n    };\n    PriorityQueue.prototype.siftDown = function (index) {\n        var siftIndex = this.siftDownIndex(index);\n        while (siftIndex !== -1) {\n            this.swap(index, siftIndex);\n            index = siftIndex;\n            siftIndex = this.siftDownIndex(index);\n        }\n    };\n    PriorityQueue.prototype.compare = function (aIndex, bIndex) {\n        return this.comparator(this.heap[aIndex], this.heap[bIndex]);\n    };\n    PriorityQueue.prototype.swap = function (a, b) {\n        var temp = this.heap[a];\n        this.heap[a] = this.heap[b];\n        this.heap[b] = temp;\n        this.onIndexChanged(this.heap[a], a);\n        this.onIndexChanged(this.heap[b], b);\n    };\n    return PriorityQueue;\n}());\nexports.PriorityQueue = PriorityQueue;\n//# sourceMappingURL=priority_queue.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/priority_queue.js\n// module id = 27\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../math/ndarray\");\nvar util = require(\"../util\");\nvar operation_emitter = require(\"./operation_emitter\");\nvar session_util = require(\"./session_util\");\nvar tensor_array_map_1 = require(\"./tensor_array_map\");\nvar FeedDictionary = (function () {\n    function FeedDictionary(feedEntries) {\n        var _this = this;\n        this.dict = {};\n        if (feedEntries) {\n            feedEntries.forEach(function (entry) { return _this.dict[entry.tensor.id] = entry; });\n        }\n    }\n    return FeedDictionary;\n}());\nexports.FeedDictionary = FeedDictionary;\nvar CostReduction;\n(function (CostReduction) {\n    CostReduction[CostReduction[\"NONE\"] = 0] = \"NONE\";\n    CostReduction[CostReduction[\"SUM\"] = 1] = \"SUM\";\n    CostReduction[CostReduction[\"MEAN\"] = 2] = \"MEAN\";\n})(CostReduction = exports.CostReduction || (exports.CostReduction = {}));\nvar Session = (function () {\n    function Session(graph, math) {\n        this.math = math;\n        this.activationArrayMap = new tensor_array_map_1.TensorArrayMap();\n        this.runtimeCache = {};\n        this.oneScalar = ndarray_1.Scalar.new(1);\n        this.gradientArrayMap = new tensor_array_map_1.SummedTensorArrayMap(this.math);\n    }\n    Session.prototype.dispose = function () {\n        var _this = this;\n        this.activationArrayMap.dispose();\n        Object.keys(this.runtimeCache).forEach(function (key) {\n            var runtime = _this.runtimeCache[key];\n            if (runtime.operations) {\n                runtime.operations.forEach(function (op) { return op.dispose(); });\n            }\n        });\n        this.runtimeCache = {};\n        if (this.batchSizeScalar != null) {\n            this.batchSizeScalar.dispose();\n        }\n        this.oneScalar.dispose();\n    };\n    Session.prototype.evalAll = function (tensors, feedEntries) {\n        var _this = this;\n        return this.math.scope(function () {\n            var feed = new FeedDictionary(feedEntries);\n            var runtime = _this.getOrCreateRuntime(tensors, feed);\n            var activations = _this.activationArrayMap;\n            session_util.disposeAndInitializeOperationOutputs(runtime.nodes, activations);\n            session_util.disposeTransientOperationArrays(runtime.operations, _this.activationArrayMap, _this.gradientArrayMap);\n            session_util.addPersistentArraysToTensorArrayMap(runtime.nodes, activations);\n            session_util.loadInputsFromFeedDictionaryToTensorArrayMap(feed, activations, _this.math);\n            runtime.operations.forEach(function (op) { return op.feedForward(_this.math, activations); });\n            var results = tensors.map(function (x) { return activations.get(x); });\n            tensors.forEach(function (x) { return activations.delete(x); });\n            session_util.releaseFeedDictionaryInputsFromTensorArrayMap(feed, activations, _this.math);\n            return results;\n        });\n    };\n    Session.prototype.eval = function (tensor, feedEntries) {\n        return this.evalAll([tensor], feedEntries)[0];\n    };\n    Session.prototype.train = function (costTensor, feedEntries, batchSize, optimizer, costReduction) {\n        var _this = this;\n        if (costReduction === void 0) { costReduction = CostReduction.NONE; }\n        util.assert(util.isScalarShape(costTensor.shape), 'Cost tensor for training must be a scalar value.');\n        if (this.prevBatchSize !== batchSize) {\n            this.prevBatchSize = batchSize;\n            this.batchSizeScalar = ndarray_1.Scalar.new(batchSize);\n        }\n        var feed = new FeedDictionary(feedEntries);\n        session_util.throwIfFeedDictionaryContainsNDArrays(feed);\n        var runtime = this.getOrCreateRuntime([costTensor], feed);\n        var inferenceOperations = runtime.operations;\n        var backPropOperations = runtime.operations.slice().reverse();\n        var activations = this.activationArrayMap;\n        var gradients = this.gradientArrayMap;\n        gradients.nullify(costTensor);\n        gradients.add(costTensor, this.oneScalar);\n        session_util.addPersistentArraysToTensorArrayMap(runtime.nodes, activations);\n        optimizer.beforeBatch(this.math, batchSize, runtime, activations, gradients);\n        return this.math.scope(function (keep, track) {\n            var cost = track(ndarray_1.Scalar.new(0));\n            for (var i = 0; i < batchSize; ++i) {\n                session_util.disposeAndInitializeOperationOutputs(runtime.nodes, activations);\n                session_util.disposeAndInitializeOperationInputGradients(runtime.nodes, gradients);\n                session_util.disposeTransientOperationArrays(runtime.operations, activations, gradients);\n                session_util.loadInputsFromFeedDictionaryToTensorArrayMap(feed, activations, _this.math);\n                inferenceOperations.forEach(function (op) { return op.feedForward(_this.math, activations); });\n                backPropOperations.forEach(function (op) { return op.backProp(_this.math, activations, gradients); });\n                optimizer.afterExample(_this.math, runtime, activations, gradients);\n                session_util.releaseFeedDictionaryInputsFromTensorArrayMap(feed, activations, _this.math);\n                cost = _this.updateCostForExample(cost, activations.get(costTensor), costReduction);\n            }\n            optimizer.afterBatch(_this.math, batchSize, runtime, activations, gradients);\n            return _this.updateCostForBatch(cost, costReduction);\n        });\n    };\n    Session.prototype.updateCostForExample = function (totalCost, currCost, costReduction) {\n        if (costReduction === CostReduction.MEAN ||\n            costReduction === CostReduction.SUM) {\n            return this.math.add(totalCost, currCost);\n        }\n        return totalCost;\n    };\n    Session.prototype.updateCostForBatch = function (totalCost, costReduction) {\n        if (costReduction === CostReduction.MEAN) {\n            return this.math.divide(totalCost, this.batchSizeScalar);\n        }\n        return totalCost;\n    };\n    Session.prototype.getOrCreateRuntime = function (tensors, feed) {\n        var key = this.makeRuntimeCacheKey(tensors, feed);\n        var runtime = this.runtimeCache[key];\n        if (runtime === undefined) {\n            var nodes = session_util.getOrderedEvaluationSetFromEvalTensor(tensors, feed);\n            session_util.removeFeedDictionaryNodesFromEvaluationSet(feed, nodes);\n            session_util.throwErrorIfEvaluationSetContainsPlaceholderNodes(nodes);\n            var operations = operation_emitter.emitFromGraphNodes(nodes);\n            runtime = { nodes: nodes, operations: operations };\n            this.runtimeCache[key] = runtime;\n        }\n        return runtime;\n    };\n    Session.prototype.makeRuntimeCacheKey = function (tensors, feed) {\n        return tensors.map(function (x) { return x.id; }).sort().join('_') + '__' +\n            Object.keys(feed.dict).sort().join('_');\n    };\n    return Session;\n}());\nexports.Session = Session;\n//# sourceMappingURL=session.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/session.js\n// module id = 28\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../math/ndarray\");\nvar util = require(\"../util\");\nvar graph_1 = require(\"./graph\");\nvar graph_util = require(\"./graph_util\");\nfunction getTerminatingNodesFromFeedDictionary(feedDictionary) {\n    return Object.keys(feedDictionary.dict)\n        .map(function (tensorID) { return feedDictionary.dict[+tensorID].tensor.node; });\n}\nexports.getTerminatingNodesFromFeedDictionary = getTerminatingNodesFromFeedDictionary;\nfunction getOrderedEvaluationSetFromEvalTensor(evalTensors, feedDictionary) {\n    var terminatingNodes = getTerminatingNodesFromFeedDictionary(feedDictionary);\n    var evalNodes = evalTensors.map(function (x) { return x.node; });\n    var unorderedEvaluationSet = graph_util.getUnorderedEvaluationSet(evalNodes, terminatingNodes);\n    var orderedEvaluationSet = graph_util.getOrderedEvaluationSet(unorderedEvaluationSet);\n    return orderedEvaluationSet;\n}\nexports.getOrderedEvaluationSetFromEvalTensor = getOrderedEvaluationSetFromEvalTensor;\nfunction addPersistentArraysToTensorArrayMap(evaluationSet, tensorArrayMap) {\n    evaluationSet.forEach(function (node) {\n        if (node instanceof graph_1.VariableNode || node instanceof graph_1.ConstantNode) {\n            tensorArrayMap.set(node.output, node.data);\n        }\n    });\n}\nexports.addPersistentArraysToTensorArrayMap = addPersistentArraysToTensorArrayMap;\nfunction getVariableNodesFromEvaluationSet(evaluationSet) {\n    var nodes = [];\n    evaluationSet.forEach(function (node) {\n        if (node instanceof graph_1.VariableNode) {\n            nodes.push(node);\n        }\n    });\n    return nodes;\n}\nexports.getVariableNodesFromEvaluationSet = getVariableNodesFromEvaluationSet;\nfunction throwIfFeedDictionaryContainsNDArrays(feedDictionary) {\n    Object.keys(feedDictionary.dict).forEach(function (tensorID) {\n        if (feedDictionary.dict[+tensorID].data instanceof ndarray_1.NDArray) {\n            throw new Error('training requires FeedDictionary entries to be InputProviders' +\n                'and not NDArrays.');\n        }\n    });\n}\nexports.throwIfFeedDictionaryContainsNDArrays = throwIfFeedDictionaryContainsNDArrays;\nfunction loadInputsFromFeedDictionaryToTensorArrayMap(batchFeed, activations, math) {\n    Object.keys(batchFeed.dict).forEach(function (tensorID) {\n        var feedEntry = batchFeed.dict[+tensorID];\n        var data;\n        if (feedEntry.data instanceof ndarray_1.NDArray) {\n            data = feedEntry.data;\n        }\n        else {\n            var provider = feedEntry.data;\n            data = provider.getNextCopy(math);\n        }\n        util.assert(util.arraysEqual(feedEntry.tensor.shape, data.shape), \"Error loading FeedEntry: feeding NDArray of shape \" + data.shape + \" \" +\n            (\"does not match Tensor (id: \" + feedEntry.tensor.id + \") shape: \") +\n            (feedEntry.tensor.shape + \".\"));\n        activations.set(feedEntry.tensor, data);\n    });\n}\nexports.loadInputsFromFeedDictionaryToTensorArrayMap = loadInputsFromFeedDictionaryToTensorArrayMap;\nfunction releaseFeedDictionaryInputsFromTensorArrayMap(batchFeed, activations, math) {\n    Object.keys(batchFeed.dict).forEach(function (tensorID) {\n        var feedEntry = batchFeed.dict[+tensorID];\n        if (!(feedEntry.data instanceof ndarray_1.NDArray)) {\n            var provider = feedEntry.data;\n            var feedEntryArray = activations.get(feedEntry.tensor);\n            provider.disposeCopy(math, feedEntryArray);\n        }\n        activations.delete(feedEntry.tensor);\n    });\n}\nexports.releaseFeedDictionaryInputsFromTensorArrayMap = releaseFeedDictionaryInputsFromTensorArrayMap;\nfunction removeFeedDictionaryNodesFromEvaluationSet(feedDictionary, evaluationSet) {\n    var i = 0;\n    while (i < evaluationSet.length) {\n        var node = evaluationSet[i];\n        if (feedDictionary.dict[node.output.id] != null) {\n            evaluationSet.splice(i, 1);\n        }\n        else {\n            ++i;\n        }\n    }\n}\nexports.removeFeedDictionaryNodesFromEvaluationSet = removeFeedDictionaryNodesFromEvaluationSet;\nfunction disposeAndInitializeOperationOutputs(evaluationSet, tensorArrayMap) {\n    evaluationSet.forEach(function (node) {\n        if (!graph_util.isInputNode(node)) {\n            if (!graph_util.isPassthroughNode(node, tensorArrayMap)) {\n                tensorArrayMap.disposeArray(node.output);\n            }\n            tensorArrayMap.set(node.output, null);\n        }\n    });\n}\nexports.disposeAndInitializeOperationOutputs = disposeAndInitializeOperationOutputs;\nfunction disposeAndInitializeOperationInputGradients(evaluationSet, gradients) {\n    evaluationSet.forEach(function (node) {\n        Object.keys(node.inputs).forEach(function (inputName) {\n            var input = node.inputs[inputName];\n            if (gradients.get(input, true) !== gradients.get(node.output, true)) {\n                gradients.disposeArray(input);\n            }\n            gradients.nullify(input);\n        });\n    });\n}\nexports.disposeAndInitializeOperationInputGradients = disposeAndInitializeOperationInputGradients;\nfunction disposeTransientOperationArrays(operations, activations, gradients) {\n    operations.forEach(function (op) { return op.disposeTransientArrays(activations, gradients); });\n}\nexports.disposeTransientOperationArrays = disposeTransientOperationArrays;\nfunction throwErrorIfEvaluationSetContainsPlaceholderNodes(evaluationSet) {\n    evaluationSet.forEach(function (node) {\n        if (node instanceof graph_1.PlaceholderNode) {\n            var shape = '[' + node.output.shape.join(', ') + ']';\n            throw new Error('Placeholder node \"' + node.name + '\" ' + shape +\n                ' not present in feed dictionary.');\n        }\n    });\n}\nexports.throwErrorIfEvaluationSetContainsPlaceholderNodes = throwErrorIfEvaluationSetContainsPlaceholderNodes;\n//# sourceMappingURL=session_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/session_util.js\n// module id = 29\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"./math/ndarray\");\nvar VarianceScalingInitializer = (function () {\n    function VarianceScalingInitializer(scale, mode, distribution) {\n        if (scale === void 0) { scale = 1.0; }\n        if (mode === void 0) { mode = 'fan_in'; }\n        if (distribution === void 0) { distribution = 'normal'; }\n        this.scale = scale;\n        this.mode = mode;\n        this.distribution = distribution;\n    }\n    VarianceScalingInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        var n = 0;\n        if (this.mode === 'fan_in') {\n            n = inputUnits;\n        }\n        else if (this.mode === 'fan_out') {\n            n = outputUnits;\n        }\n        else if (this.mode === 'fan_avg') {\n            n = (inputUnits + outputUnits) / 2;\n        }\n        else {\n            throw new Error(\"Unexpected mode for variance scaling initializer: \" + this.mode);\n        }\n        if (this.distribution === 'normal') {\n            return ndarray_1.NDArray.randTruncatedNormal(weightsShape, 0.0, Math.sqrt(this.scale / n));\n        }\n        else if (this.distribution === 'uniform') {\n            return ndarray_1.NDArray.randUniform(weightsShape, 0.0, Math.sqrt(3 * this.scale / n));\n        }\n        else {\n            throw new Error(\"Unexpected distribution for variance scaling initializer: \" +\n                (\"\" + this.distribution));\n        }\n    };\n    return VarianceScalingInitializer;\n}());\nexports.VarianceScalingInitializer = VarianceScalingInitializer;\nvar ZerosInitializer = (function () {\n    function ZerosInitializer() {\n    }\n    ZerosInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        return ndarray_1.NDArray.zeros(weightsShape);\n    };\n    return ZerosInitializer;\n}());\nexports.ZerosInitializer = ZerosInitializer;\nvar OnesInitializer = (function () {\n    function OnesInitializer() {\n    }\n    OnesInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        var values = ndarray_1.NDArray.zeros(weightsShape);\n        values.fill(1);\n        return values;\n    };\n    return OnesInitializer;\n}());\nexports.OnesInitializer = OnesInitializer;\nvar ConstantInitializer = (function () {\n    function ConstantInitializer(value) {\n        if (value === void 0) { value = 0; }\n        this.value = value;\n    }\n    ConstantInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        var values = ndarray_1.NDArray.zeros(weightsShape);\n        values.fill(this.value);\n        return values;\n    };\n    return ConstantInitializer;\n}());\nexports.ConstantInitializer = ConstantInitializer;\nvar NDArrayInitializer = (function () {\n    function NDArrayInitializer(ndarray) {\n        this.ndarray = ndarray;\n    }\n    NDArrayInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        return this.ndarray;\n    };\n    return NDArrayInitializer;\n}());\nexports.NDArrayInitializer = NDArrayInitializer;\nvar RandomNormalInitializer = (function () {\n    function RandomNormalInitializer(mean, stdev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdev === void 0) { stdev = .05; }\n        this.mean = mean;\n        this.stdev = stdev;\n    }\n    RandomNormalInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        return ndarray_1.NDArray.randNormal(weightsShape, this.mean, this.stdev);\n    };\n    return RandomNormalInitializer;\n}());\nexports.RandomNormalInitializer = RandomNormalInitializer;\nvar RandomTruncatedNormalInitializer = (function () {\n    function RandomTruncatedNormalInitializer(mean, stdev) {\n        if (mean === void 0) { mean = 0; }\n        if (stdev === void 0) { stdev = .05; }\n        this.mean = mean;\n        this.stdev = stdev;\n    }\n    RandomTruncatedNormalInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        return ndarray_1.NDArray.randTruncatedNormal(weightsShape, this.mean, this.stdev);\n    };\n    return RandomTruncatedNormalInitializer;\n}());\nexports.RandomTruncatedNormalInitializer = RandomTruncatedNormalInitializer;\nvar RandomUniformInitializer = (function () {\n    function RandomUniformInitializer(minval, maxval) {\n        if (minval === void 0) { minval = -.05; }\n        if (maxval === void 0) { maxval = .05; }\n        this.minval = minval;\n        this.maxval = maxval;\n    }\n    RandomUniformInitializer.prototype.initialize = function (weightsShape, inputUnits, outputUnits) {\n        return ndarray_1.NDArray.randUniform(weightsShape, this.minval, this.maxval);\n    };\n    return RandomUniformInitializer;\n}());\nexports.RandomUniformInitializer = RandomUniformInitializer;\n//# sourceMappingURL=initializers.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/initializers.js\n// module id = 30\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction validateShapes(sourceSize, destSize) {\n    var srcArea = sourceSize[0] * sourceSize[1];\n    var dstArea = destSize[0] * destSize[1];\n    if (srcArea !== dstArea) {\n        var srcStr = \"[\" + sourceSize[0] + \", \" + sourceSize[1] + \"]\";\n        var dstStr = \"[\" + destSize[0] + \", \" + destSize[1] + \"]\";\n        throw new Error(\"copy2D shapes have different areas:\\n  sourceSize \" + srcStr +\n            (\", area \" + srcArea + \"\\n  destSize \" + dstStr + \", area \" + dstArea));\n    }\n}\nexports.validateShapes = validateShapes;\n//# sourceMappingURL=copy2d_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/copy2d_util.js\n// module id = 31\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar seedrandom = require(\"seedrandom\");\nvar util = require(\"../util\");\nvar axis_util = require(\"./axis_util\");\nvar broadcast_util = require(\"./broadcast_util\");\nvar concat_util = require(\"./concat_util\");\nvar conv_util = require(\"./conv_util\");\nvar copy2D_util = require(\"./copy2d_util\");\nvar math_1 = require(\"./math\");\nvar ndarray_1 = require(\"./ndarray\");\nvar NDArrayMathCPU = (function (_super) {\n    __extends(NDArrayMathCPU, _super);\n    function NDArrayMathCPU(safeMode) {\n        if (safeMode === void 0) { safeMode = false; }\n        return _super.call(this, safeMode) || this;\n    }\n    NDArrayMathCPU.prototype.cloneInternal = function (ndarray) {\n        return ndarray_1.NDArray.make(ndarray.shape, { values: new Float32Array(ndarray.getValues()) });\n    };\n    NDArrayMathCPU.prototype.slice1DInternal = function (input, begin, size) {\n        var newVals = input.getValues().slice(begin, begin + size);\n        return ndarray_1.Array1D.new(newVals);\n    };\n    NDArrayMathCPU.prototype.slice2DInternal = function (input, begin, size) {\n        var result = ndarray_1.Array2D.zeros(size);\n        var startI = begin[0], startJ = begin[1];\n        for (var i = 0; i < size[0]; ++i) {\n            for (var j = 0; j < size[1]; ++j) {\n                var val = input.get(i + startI, j + startJ);\n                result.set(val, i, j);\n            }\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.slice3DInternal = function (input, begin, size) {\n        var result = ndarray_1.Array3D.zeros(size);\n        var startI = begin[0], startJ = begin[1], startK = begin[2];\n        for (var i = 0; i < size[0]; ++i) {\n            for (var j = 0; j < size[1]; ++j) {\n                for (var k = 0; k < size[2]; ++k) {\n                    var val = input.get(i + startI, j + startJ, k + startK);\n                    result.set(val, i, j, k);\n                }\n            }\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.slice4DInternal = function (input, begin, size) {\n        var result = ndarray_1.Array4D.zeros(size);\n        var startI = begin[0], startJ = begin[1], startK = begin[2], startL = begin[3];\n        for (var i = 0; i < size[0]; ++i) {\n            for (var j = 0; j < size[1]; ++j) {\n                for (var k = 0; k < size[2]; ++k) {\n                    for (var l = 0; l < size[3]; ++l) {\n                        var val = input.get(i + startI, j + startJ, k + startK, l + startL);\n                        result.set(val, i, j, k, l);\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.copy2DInternal = function (source, sourceBeginRowCol, sourceSizeRowCol, dest, destBeginRowCol, destSizeRowCol) {\n        copy2D_util.validateShapes(sourceSizeRowCol, destSizeRowCol);\n        var srcValues = source.getValues();\n        var dstValues = dest.getValues();\n        var n = sourceSizeRowCol[0] * sourceSizeRowCol[1];\n        for (var i = 0; i < n; ++i) {\n            var srcRow = sourceBeginRowCol[0] + Math.floor(i / sourceSizeRowCol[1]);\n            var srcCol = sourceBeginRowCol[1] + (i % sourceSizeRowCol[1]);\n            var srcOff = srcRow * source.shape[1] + srcCol;\n            var dstRow = destBeginRowCol[0] + Math.floor(i / destSizeRowCol[1]);\n            var dstCol = destBeginRowCol[1] + (i % destSizeRowCol[1]);\n            var dstOff = dstRow * dest.shape[1] + dstCol;\n            dstValues[dstOff] = srcValues[srcOff];\n        }\n    };\n    NDArrayMathCPU.prototype.concat1DInternal = function (a, b) {\n        var outShape = concat_util.computeOutShape(a.shape, b.shape, 0);\n        var result = ndarray_1.Array1D.zeros(outShape);\n        var aVals = a.getValues();\n        var bVals = b.getValues();\n        var vals = result.getValues();\n        vals.set(aVals, 0);\n        vals.set(bVals, a.size);\n        return result;\n    };\n    NDArrayMathCPU.prototype.concat2DInternal = function (a, b, axis) {\n        var outShape = concat_util.computeOutShape(a.shape, b.shape, axis);\n        var result = ndarray_1.Array2D.zeros(outShape);\n        if (axis === 0) {\n            var aVals = a.getValues();\n            var bVals = b.getValues();\n            var vals = result.getValues();\n            vals.set(aVals, 0);\n            vals.set(bVals, a.size);\n            return result;\n        }\n        for (var i = 0; i < outShape[0]; ++i) {\n            for (var j = 0; j < outShape[1]; ++j) {\n                var index = [i, j];\n                var value = void 0;\n                if (index[axis] < a.shape[axis]) {\n                    value = a.get(i, j);\n                }\n                else {\n                    index[axis] -= a.shape[axis];\n                    var i2 = index[0], j2 = index[1];\n                    value = b.get(i2, j2);\n                }\n                result.set(value, i, j);\n            }\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.concat3DInternal = function (a, b, axis) {\n        var outShape = concat_util.computeOutShape(a.shape, b.shape, axis);\n        var result = ndarray_1.Array3D.zeros(outShape);\n        if (axis === 0) {\n            var aVals = a.getValues();\n            var bVals = b.getValues();\n            var vals = result.getValues();\n            vals.set(aVals, 0);\n            vals.set(bVals, a.size);\n            return result;\n        }\n        for (var i = 0; i < outShape[0]; ++i) {\n            for (var j = 0; j < outShape[1]; ++j) {\n                for (var k = 0; k < outShape[2]; ++k) {\n                    var index = [i, j, k];\n                    var value = void 0;\n                    if (index[axis] < a.shape[axis]) {\n                        value = a.get(i, j, k);\n                    }\n                    else {\n                        index[axis] -= a.shape[axis];\n                        var i2 = index[0], j2 = index[1], k2 = index[2];\n                        value = b.get(i2, j2, k2);\n                    }\n                    result.set(value, i, j, k);\n                }\n            }\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.concat4DInternal = function (a, b, axis) {\n        var outShape = concat_util.computeOutShape(a.shape, b.shape, axis);\n        var result = ndarray_1.Array4D.zeros(outShape);\n        if (axis === 0) {\n            var aVals = a.getValues();\n            var bVals = b.getValues();\n            var vals = result.getValues();\n            vals.set(aVals, 0);\n            vals.set(bVals, a.size);\n            return result;\n        }\n        for (var i = 0; i < outShape[0]; ++i) {\n            for (var j = 0; j < outShape[1]; ++j) {\n                for (var k = 0; k < outShape[2]; ++k) {\n                    for (var l = 0; l < outShape[3]; ++l) {\n                        var index = [i, j, k, l];\n                        var value = void 0;\n                        if (index[axis] < a.shape[axis]) {\n                            value = a.get(i, j, k, l);\n                        }\n                        else {\n                            index[axis] -= a.shape[axis];\n                            var i2 = index[0], j2 = index[1], k2 = index[2], l2 = index[3];\n                            value = b.get(i2, j2, k2, l2);\n                        }\n                        result.set(value, i, j, k, l);\n                    }\n                }\n            }\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.scaledArrayAddInternal = function (c1, a, c2, b) {\n        var c1Val = c1.get();\n        var c2Val = c2.get();\n        return this.broadcastedBinaryOp(a, b, 'float32', function (aVal, bVal) {\n            return c1Val * aVal + c2Val * bVal;\n        });\n    };\n    NDArrayMathCPU.prototype.negInternal = function (a) {\n        return this.scalarTimesArray(ndarray_1.Scalar.NEG_ONE, a);\n    };\n    NDArrayMathCPU.prototype.addInternal = function (a, b) {\n        return this.scaledArrayAddInternal(ndarray_1.Scalar.ONE, a, ndarray_1.Scalar.ONE, b);\n    };\n    NDArrayMathCPU.prototype.subtractInternal = function (a, b) {\n        return this.scaledArrayAddInternal(ndarray_1.Scalar.ONE, a, ndarray_1.Scalar.NEG_ONE, b);\n    };\n    NDArrayMathCPU.prototype.matMulInternal = function (a, b, aOrientation, bOrientation) {\n        if (aOrientation === void 0) { aOrientation = math_1.MatrixOrientation.REGULAR; }\n        if (bOrientation === void 0) { bOrientation = math_1.MatrixOrientation.REGULAR; }\n        var sharedDim = (aOrientation === math_1.MatrixOrientation.REGULAR) ? a.shape[1] : a.shape[0];\n        var leftDim = (aOrientation === math_1.MatrixOrientation.REGULAR) ? a.shape[0] : a.shape[1];\n        var rightDim = (bOrientation === math_1.MatrixOrientation.REGULAR) ? b.shape[1] : b.shape[0];\n        var normalGetter = function (matrix, i, j) {\n            return matrix.get(i, j);\n        };\n        var transposedGetter = function (matrix, i, j) {\n            return matrix.get(j, i);\n        };\n        var aGetter = (aOrientation === math_1.MatrixOrientation.REGULAR) ?\n            normalGetter :\n            transposedGetter;\n        var bGetter = (bOrientation === math_1.MatrixOrientation.REGULAR) ?\n            normalGetter :\n            transposedGetter;\n        var values = new Float32Array(leftDim * rightDim);\n        var index = 0;\n        for (var i = 0; i < leftDim; ++i) {\n            for (var j = 0; j < rightDim; ++j) {\n                var sum = 0;\n                for (var k = 0; k < sharedDim; ++k) {\n                    sum += aGetter(a, i, k) * bGetter(b, k, j);\n                }\n                values[index++] = sum;\n            }\n        }\n        return ndarray_1.Array2D.new([leftDim, rightDim], values);\n    };\n    NDArrayMathCPU.prototype.multiplyInternal = function (a, b) {\n        var newShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var newValues = new Float32Array(util.sizeFromShape(newShape));\n        var aValues = a.getValues();\n        var bValues = b.getValues();\n        for (var i = 0; i < newValues.length; ++i) {\n            newValues[i] = aValues[i % a.size] * bValues[i % b.size];\n        }\n        return ndarray_1.NDArray.make(newShape, { values: newValues });\n    };\n    NDArrayMathCPU.prototype.divideInternal = function (a, b) {\n        var newShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var newValues = new Float32Array(util.sizeFromShape(newShape));\n        var aValues = a.getValues();\n        var bValues = b.getValues();\n        for (var i = 0; i < newValues.length; ++i) {\n            newValues[i] = aValues[i % a.size] / bValues[i % b.size];\n        }\n        return ndarray_1.NDArray.make(newShape, { values: newValues }, 'float32');\n    };\n    NDArrayMathCPU.prototype.sumInternal = function (input, axes) {\n        axis_util.assertAxesAreInnerMostDims('sum', axes, input.rank);\n        var _a = axis_util.computeOutAndReduceShapes(input.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var resultDtype = math_1.SumTypesMap[input.dtype];\n        var result = ndarray_1.NDArray.zeros(outShape, resultDtype);\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.getValues();\n        var aVals = input.getValues();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var sum = 0;\n            for (var j = 0; j < reduceSize; ++j) {\n                sum += aVals[offset + j];\n            }\n            vals[i] = sum;\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.argMinInternal = function (input, axes) {\n        axis_util.assertAxesAreInnerMostDims('argMin', axes, input.rank);\n        var _a = axis_util.computeOutAndReduceShapes(input.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ndarray_1.NDArray.zeros(outShape, 'int32');\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.getValues();\n        var aVals = input.getValues();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var min = aVals[offset];\n            var minIndex = 0;\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (isNaN(value)) {\n                    minIndex = util.NAN_INT32;\n                    break;\n                }\n                if (value < min) {\n                    min = value;\n                    minIndex = j;\n                }\n            }\n            vals[i] = minIndex;\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.argMaxInternal = function (input, axes) {\n        axis_util.assertAxesAreInnerMostDims('argMax', axes, input.rank);\n        var _a = axis_util.computeOutAndReduceShapes(input.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ndarray_1.NDArray.zeros(outShape, 'int32');\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.getValues();\n        var aVals = input.getValues();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var max = aVals[offset];\n            var maxIndex = 0;\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (isNaN(value)) {\n                    maxIndex = util.NAN_INT32;\n                    break;\n                }\n                if (value > max) {\n                    max = value;\n                    maxIndex = j;\n                }\n            }\n            vals[i] = maxIndex;\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.equalInternal = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            if (util.isValNaN(aVal, a.dtype) || util.isValNaN(bVal, b.dtype)) {\n                return util.getNaN('bool');\n            }\n            else {\n                return (aVal === bVal) ? 1 : 0;\n            }\n        });\n    };\n    NDArrayMathCPU.prototype.topKInternal = function (ndarray, k) {\n        var values = ndarray.getValues();\n        var valuesAndIndices = [];\n        for (var i = 0; i < values.length; i++) {\n            valuesAndIndices.push({ value: values[i], index: i });\n        }\n        valuesAndIndices.sort(function (a, b) {\n            return b.value - a.value;\n        });\n        var topkValues = new Float32Array(k);\n        var topkIndices = new Float32Array(k);\n        for (var i = 0; i < k; i++) {\n            topkValues[i] = valuesAndIndices[i].value;\n            topkIndices[i] = valuesAndIndices[i].index;\n        }\n        return { values: ndarray_1.Array1D.new(topkValues), indices: ndarray_1.Array1D.new(topkIndices) };\n    };\n    NDArrayMathCPU.prototype.minInternal = function (input, axes) {\n        axis_util.assertAxesAreInnerMostDims('min', axes, input.rank);\n        var _a = axis_util.computeOutAndReduceShapes(input.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ndarray_1.NDArray.zeros(outShape, input.dtype);\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.getValues();\n        var aVals = input.getValues();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var min = aVals[0];\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (isNaN(value)) {\n                    min = Number.NaN;\n                    break;\n                }\n                if (value < min) {\n                    min = value;\n                }\n            }\n            vals[i] = min;\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.maxInternal = function (input, axes) {\n        axis_util.assertAxesAreInnerMostDims('max', axes, input.rank);\n        var _a = axis_util.computeOutAndReduceShapes(input.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ndarray_1.NDArray.zeros(outShape, input.dtype);\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.getValues();\n        var aVals = input.getValues();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var max = aVals[offset];\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (isNaN(value)) {\n                    max = Number.NaN;\n                    break;\n                }\n                if (value > max) {\n                    max = value;\n                }\n            }\n            vals[i] = max;\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.ceilInternal = function (ndarray) {\n        var values = ndarray.getValues();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = Math.ceil(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: newValues });\n    };\n    NDArrayMathCPU.prototype.floorInternal = function (ndarray) {\n        var values = ndarray.getValues();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = Math.floor(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: newValues });\n    };\n    NDArrayMathCPU.prototype.expInternal = function (ndarray) {\n        var values = ndarray.getValues();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = Math.exp(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: newValues });\n    };\n    NDArrayMathCPU.prototype.logInternal = function (ndarray) {\n        var values = ndarray.getValues();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = Math.log(value);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: newValues });\n    };\n    NDArrayMathCPU.prototype.sqrtInternal = function (ndarray) {\n        var values = ndarray.getValues();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = Math.sqrt(value);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: newValues });\n    };\n    NDArrayMathCPU.prototype.squareInternal = function (x) {\n        var values = x.getValues();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = value * value;\n        }\n        return ndarray_1.NDArray.make(x.shape, { values: newValues });\n    };\n    NDArrayMathCPU.prototype.reluInternal = function (input) {\n        var res = ndarray_1.NDArray.zeros(input.shape, input.dtype);\n        var resVals = res.getValues();\n        var inVals = input.getValues();\n        for (var i = 0; i < inVals.length; ++i) {\n            var val = inVals[i];\n            if (util.isValNaN(val, input.dtype)) {\n                resVals[i] = util.getNaN(res.dtype);\n            }\n            else {\n                resVals[i] = Math.max(0, inVals[i]);\n            }\n        }\n        return res;\n    };\n    NDArrayMathCPU.prototype.eluInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            var v = values[i];\n            if (v >= 0) {\n                resultValues[i] = v;\n            }\n            else {\n                resultValues[i] = (Math.exp(v) - 1);\n            }\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.leakyReluInternal = function (ndarray, alpha) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.dataSync();\n        for (var i = 0; i < values.length; i++) {\n            var v = values[i];\n            if (v >= 0) {\n                resultValues[i] = v;\n            }\n            else {\n                resultValues[i] = alpha * v;\n            }\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.clipInternal = function (ndarray, min, max) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.min(max, Math.max(min, values[i]));\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.absInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.abs(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.sigmoidInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = 1 / (1 + Math.exp(-values[i]));\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.sinInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.sin(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.cosInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.cos(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.tanInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.tan(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.asinInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.asin(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.acosInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.acos(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.atanInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.atan(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.sinhInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.sinh(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.coshInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.cosh(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.tanhInternal = function (ndarray) {\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = util.tanh(values[i]);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.stepInternal = function (ndarray, alpha) {\n        if (alpha === void 0) { alpha = 0; }\n        var resultValues = new Float32Array(ndarray.size);\n        var values = ndarray.getValues();\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            resultValues[i] = value > 0 ? 1 : (value < 0 ? alpha : value);\n        }\n        return ndarray_1.NDArray.make(ndarray.shape, { values: resultValues });\n    };\n    NDArrayMathCPU.prototype.conv2dInternal = function (x, filter, bias, convInfo) {\n        var _a = x.shape, xRows = _a[0], xCols = _a[1], inputDepth = _a[2];\n        var filterHeight = filter.shape[0];\n        var filterWidth = filter.shape[1];\n        var outDepth = filter.shape[3];\n        var padLeft = convInfo.padInfo.left;\n        var padTop = convInfo.padInfo.top;\n        var y = ndarray_1.Array3D.zeros(convInfo.outShape);\n        for (var d2 = 0; d2 < outDepth; ++d2) {\n            for (var yR = 0; yR < y.shape[0]; ++yR) {\n                var xRCorner = yR * convInfo.strideHeight - padLeft;\n                var xRMin = Math.max(0, xRCorner);\n                var xRMax = Math.min(xRows, filterHeight + xRCorner);\n                for (var yC = 0; yC < y.shape[1]; ++yC) {\n                    var xCCorner = yC * convInfo.strideWidth - padTop;\n                    var xCMin = Math.max(0, xCCorner);\n                    var xCMax = Math.min(xCols, filterWidth + xCCorner);\n                    var dotProd = 0;\n                    for (var xR = xRMin; xR < xRMax; ++xR) {\n                        var wR = xR - xRCorner;\n                        for (var xC = xCMin; xC < xCMax; ++xC) {\n                            var wC = xC - xCCorner;\n                            for (var d1 = 0; d1 < inputDepth; ++d1) {\n                                var pixel = x.get(xR, xC, d1);\n                                var weight = filter.get(wR, wC, d1, d2);\n                                dotProd += pixel * weight;\n                            }\n                        }\n                    }\n                    var biasVal = (bias != null) ? bias.get(d2) : 0;\n                    y.set(dotProd + biasVal, yR, yC, d2);\n                }\n            }\n        }\n        return y;\n    };\n    NDArrayMathCPU.prototype.conv2dDerInputInternal = function (dy, filter, convInfo) {\n        var inDepth = filter.shape[2];\n        var outDepth = filter.shape[3];\n        var yRows = dy.shape[0];\n        var yCols = dy.shape[1];\n        var filterHeight = filter.shape[0];\n        var filterWidth = filter.shape[1];\n        var topPad = filterHeight - 1 - convInfo.padInfo.top;\n        var leftPad = filterWidth - 1 - convInfo.padInfo.left;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var dx = ndarray_1.Array3D.zeros(convInfo.inShape);\n        for (var d1 = 0; d1 < inDepth; ++d1) {\n            for (var xR = 0; xR < dx.shape[0]; ++xR) {\n                var xRCorner = xR - leftPad;\n                var xRMin = Math.max(0, Math.ceil(xRCorner / strideHeight));\n                var yRMax = Math.min(yRows, (filterHeight + xRCorner) / strideHeight);\n                for (var xC = 0; xC < dx.shape[1]; ++xC) {\n                    var xCCorner = xC - topPad;\n                    var xCMin = Math.max(0, Math.ceil(xCCorner / strideWidth));\n                    var yCMax = Math.min(yCols, (filterWidth + xCCorner) / strideWidth);\n                    var dotProd = 0;\n                    for (var yR = xRMin; yR < yRMax; ++yR) {\n                        var wR = yR * strideHeight - xRCorner;\n                        for (var yC = xCMin; yC < yCMax; ++yC) {\n                            var wC = yC * strideWidth - xCCorner;\n                            for (var d2 = 0; d2 < outDepth; ++d2) {\n                                var pixel = dy.get(yR, yC, d2);\n                                var weight = filter.get(filterHeight - 1 - wR, filterWidth - 1 - wC, d1, d2);\n                                dotProd += pixel * weight;\n                            }\n                        }\n                    }\n                    dx.set(dotProd, xR, xC, d1);\n                }\n            }\n        }\n        return dx;\n    };\n    NDArrayMathCPU.prototype.conv2dDerFilterInternal = function (x, dY, convInfo) {\n        var inputDepth = x.shape[2];\n        var outputDepth = dY.shape[2];\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var weightsShape = conv_util.computeWeightsShape4D(inputDepth, outputDepth, filterHeight, filterWidth);\n        var dW = ndarray_1.Array4D.zeros(weightsShape);\n        var yNumRows = dY.shape[0];\n        var yNumCols = dY.shape[1];\n        var xNumRows = x.shape[0];\n        var xNumCols = x.shape[1];\n        var leftPad = convInfo.padInfo.left;\n        var topPad = convInfo.padInfo.top;\n        for (var wR = 0; wR < filterHeight; ++wR) {\n            var yRMin = Math.max(0, Math.ceil((topPad - wR) / strideHeight));\n            var yRMax = Math.min(yNumRows, (xNumRows + topPad - wR) / strideHeight);\n            for (var wC = 0; wC < filterWidth; ++wC) {\n                var yCMin = Math.max(0, Math.ceil((leftPad - wC) / strideWidth));\n                var yCMax = Math.min(yNumCols, (xNumCols + leftPad - wC) / strideWidth);\n                for (var d1 = 0; d1 < inputDepth; ++d1) {\n                    for (var d2 = 0; d2 < outputDepth; ++d2) {\n                        var dotProd = 0;\n                        for (var yR = yRMin; yR < yRMax; ++yR) {\n                            var xR = wR + yR * strideHeight - topPad;\n                            for (var yC = yCMin; yC < yCMax; ++yC) {\n                                var xC = wC + yC * strideWidth - leftPad;\n                                dotProd += x.get(xR, xC, d1) * dY.get(yR, yC, d2);\n                            }\n                        }\n                        dW.set(dotProd, wR, wC, d1, d2);\n                    }\n                }\n            }\n        }\n        return dW;\n    };\n    NDArrayMathCPU.prototype.conv2dDerBiasInternal = function (dY) {\n        var outputDepth = dY.shape[2];\n        var numRows = dY.shape[0];\n        var numCols = dY.shape[1];\n        var values = new Float32Array(outputDepth);\n        for (var d2 = 0; d2 < outputDepth; ++d2) {\n            var sum = 0;\n            for (var r = 0; r < numRows; ++r) {\n                for (var c = 0; c < numCols; ++c) {\n                    sum += dY.get(r, c, d2);\n                }\n            }\n            values[d2] = sum;\n        }\n        return ndarray_1.Array1D.new(values);\n    };\n    NDArrayMathCPU.prototype.depthwiseConv2DInternal = function (input, filter, convInfo) {\n        var _a = convInfo.inShape, numBatches = _a[0], xRows = _a[1], xCols = _a[2], inChannels = _a[3];\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var padLeft = convInfo.padInfo.left;\n        var padTop = convInfo.padInfo.top;\n        var yRows = convInfo.outShape[1];\n        var yCols = convInfo.outShape[2];\n        var chMul = convInfo.channelMul;\n        var y = ndarray_1.Array4D.zeros(convInfo.outShape);\n        for (var b = 0; b < numBatches; ++b) {\n            for (var d1 = 0; d1 < inChannels; ++d1) {\n                for (var yR = 0; yR < yRows; ++yR) {\n                    var xRCorner = yR * convInfo.strideHeight - padLeft;\n                    var xRMin = Math.max(0, xRCorner);\n                    var xRMax = Math.min(xRows, filterHeight + xRCorner);\n                    for (var yC = 0; yC < yCols; ++yC) {\n                        var xCCorner = yC * convInfo.strideWidth - padTop;\n                        var xCMin = Math.max(0, xCCorner);\n                        var xCMax = Math.min(xCols, filterWidth + xCCorner);\n                        for (var q = 0; q < chMul; ++q) {\n                            var dotProd = 0;\n                            for (var xR = xRMin; xR < xRMax; ++xR) {\n                                var wR = xR - xRCorner;\n                                for (var xC = xCMin; xC < xCMax; ++xC) {\n                                    var wC = xC - xCCorner;\n                                    var pixel = input.get(b, xR, xC, d1);\n                                    var weight = filter.get(wR, wC, d1, q);\n                                    dotProd += pixel * weight;\n                                }\n                            }\n                            y.set(dotProd, b, yR, yC, d1 * chMul + q);\n                        }\n                    }\n                }\n            }\n        }\n        return y;\n    };\n    NDArrayMathCPU.prototype.tileInternal = function (a, reps) {\n        var newShape = new Array(a.rank);\n        for (var i = 0; i < newShape.length; i++) {\n            newShape[i] = a.shape[i] * reps[i];\n        }\n        var dtype;\n        if (a.dtype === 'float32') {\n            dtype = Float32Array;\n        }\n        else if (a.dtype === 'int32') {\n            dtype = Int32Array;\n        }\n        else if (a.dtype === 'bool') {\n            dtype = Uint8Array;\n        }\n        else {\n            throw new Error(\"Dtype \" + a.dtype + \" not supported for tile\");\n        }\n        var resultValues = new dtype(util.sizeFromShape(newShape));\n        var result = ndarray_1.NDArray.make(newShape, { values: resultValues }, a.dtype);\n        var values = a.getValues();\n        for (var i = 0; i < result.size; ++i) {\n            var newLoc = result.indexToLoc(i);\n            var originalLoc = new Array(a.rank);\n            for (var i_1 = 0; i_1 < originalLoc.length; i_1++) {\n                originalLoc[i_1] = newLoc[i_1] % a.shape[i_1];\n            }\n            var originalIndex = a.locToIndex(originalLoc);\n            resultValues[i] = values[originalIndex];\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.transposeInternal = function (a, perm) {\n        var newShape = new Array(a.rank);\n        for (var i = 0; i < newShape.length; i++) {\n            newShape[i] = a.shape[perm[i]];\n        }\n        var resultValues = new Float32Array(a.size);\n        var values = a.getValues();\n        var result = ndarray_1.NDArray.make(newShape, { values: resultValues });\n        for (var i = 0; i < a.size; ++i) {\n            var loc = a.indexToLoc(i);\n            var newLoc = new Array(loc.length);\n            for (var i_2 = 0; i_2 < newLoc.length; i_2++) {\n                newLoc[i_2] = loc[perm[i_2]];\n            }\n            var newIndex = result.locToIndex(newLoc);\n            resultValues[newIndex] = values[i];\n        }\n        return result;\n    };\n    NDArrayMathCPU.prototype.pool = function (x, convInfo, poolType) {\n        var _a = x.shape, xRows = _a[0], xCols = _a[1], depth = _a[2];\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var y = ndarray_1.Array3D.zeros(convInfo.outShape);\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        for (var d = 0; d < depth; ++d) {\n            for (var yR = 0; yR < y.shape[0]; ++yR) {\n                var xRCorner = yR * strideHeight - padTop;\n                var xRMin = Math.max(0, xRCorner);\n                var xRMax = Math.min(xRows, filterHeight + xRCorner);\n                for (var yC = 0; yC < y.shape[1]; ++yC) {\n                    var xCCorner = yC * strideWidth - padLeft;\n                    var xCMin = Math.max(0, xCCorner);\n                    var xCMax = Math.min(xCols, filterWidth + xCCorner);\n                    var minMaxValue = (poolType === 'max' ? Number.NEGATIVE_INFINITY :\n                        Number.POSITIVE_INFINITY);\n                    var avgValue = 0;\n                    for (var xR = xRMin; xR < xRMax; ++xR) {\n                        for (var xC = xCMin; xC < xCMax; ++xC) {\n                            var pixel = x.get(xR, xC, d);\n                            if (isNaN(pixel)) {\n                                minMaxValue = NaN;\n                                avgValue = NaN;\n                                break;\n                            }\n                            if ((poolType === 'max' && pixel > minMaxValue) ||\n                                (poolType === 'min' && pixel < minMaxValue)) {\n                                minMaxValue = pixel;\n                            }\n                            else if (poolType === 'avg') {\n                                avgValue += pixel / (filterHeight * filterWidth);\n                            }\n                        }\n                        if (isNaN(minMaxValue)) {\n                            break;\n                        }\n                    }\n                    y.set(poolType === 'avg' ? avgValue : minMaxValue, yR, yC, d);\n                }\n            }\n        }\n        return y;\n    };\n    NDArrayMathCPU.prototype.maxPoolInternal = function (x, convInfo) {\n        return this.pool(x, convInfo, 'max');\n    };\n    NDArrayMathCPU.prototype.maxPoolPositions = function (x, convInfo) {\n        var _a = x.shape, xRows = _a[0], xCols = _a[1], depth = _a[2];\n        var outputShape = convInfo.outShape;\n        var maxPositions = ndarray_1.Array3D.zeros(outputShape);\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        for (var d = 0; d < depth; ++d) {\n            for (var yR = 0; yR < outputShape[0]; ++yR) {\n                var xRCorner = yR * strideHeight - padTop;\n                var xRMin = Math.max(0, xRCorner);\n                var xRMax = Math.min(xRows, filterHeight + xRCorner);\n                for (var yC = 0; yC < outputShape[1]; ++yC) {\n                    var xCCorner = yC * strideWidth - padLeft;\n                    var xCMin = Math.max(0, xCCorner);\n                    var xCMax = Math.min(xCols, filterWidth + xCCorner);\n                    var maxValue = Number.NEGATIVE_INFINITY;\n                    var maxPosition = -1;\n                    for (var xR = xRMin; xR < xRMax; ++xR) {\n                        var wR = xR - xRCorner;\n                        for (var xC = xCMin; xC < xCMax; ++xC) {\n                            var wC = xC - xCCorner;\n                            var pixel = x.get(xR, xC, d);\n                            if (pixel > maxValue) {\n                                maxValue = pixel;\n                                maxPosition = wR * filterWidth + wC;\n                            }\n                        }\n                    }\n                    maxPositions.set(maxPosition, yR, yC, d);\n                }\n            }\n        }\n        return maxPositions;\n    };\n    NDArrayMathCPU.prototype.maxPoolBackpropInternal = function (dy, x, convInfo) {\n        var maxPositions = this.maxPoolPositions(x, convInfo);\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var _a = dy.shape, dyRows = _a[0], dyCols = _a[1], depth = _a[2];\n        var dx = ndarray_1.Array3D.zeros(x.shape);\n        for (var d = 0; d < depth; ++d) {\n            for (var dxR = 0; dxR < dx.shape[0]; ++dxR) {\n                for (var dxC = 0; dxC < dx.shape[1]; ++dxC) {\n                    var dyRCorner = dxR - padTop;\n                    var dyCCorner = dxC - padLeft;\n                    var dotProd = 0;\n                    for (var wR = 0; wR < filterHeight; ++wR) {\n                        var dyR = (dyRCorner + wR) / strideHeight;\n                        if (dyR < 0 || dyR >= dyRows || Math.floor(dyR) !== dyR) {\n                            continue;\n                        }\n                        for (var wC = 0; wC < filterWidth; ++wC) {\n                            var dyC = (dyCCorner + wC) / strideWidth;\n                            if (dyC < 0 || dyC >= dyCols || Math.floor(dyC) !== dyC) {\n                                continue;\n                            }\n                            var maxPos = filterHeight * filterWidth - 1 -\n                                maxPositions.get(dyR, dyC, d);\n                            var curPos = wR * filterWidth + wC;\n                            var mask = maxPos === curPos ? 1 : 0;\n                            if (mask === 0) {\n                                continue;\n                            }\n                            var pixel = dy.get(dyR, dyC, d);\n                            dotProd += pixel * mask;\n                        }\n                    }\n                    dx.set(dotProd, dxR, dxC, d);\n                }\n            }\n        }\n        return dx;\n    };\n    NDArrayMathCPU.prototype.minPoolInternal = function (x, convInfo) {\n        return this.pool(x, convInfo, 'min');\n    };\n    NDArrayMathCPU.prototype.avgPoolInternal = function (x, convInfo) {\n        return this.pool(x, convInfo, 'avg');\n    };\n    NDArrayMathCPU.prototype.resizeBilinear3DInternal = function (x, newShape2D, alignCorners) {\n        var output = ndarray_1.Array3D.zeros([newShape2D[0], newShape2D[1], x.shape[2]]);\n        var effectiveInputSize = alignCorners ? [x.shape[0] - 1, x.shape[1] - 1, x.shape[2]] : x.shape;\n        var effectiveOutputSize = alignCorners ?\n            [output.shape[0] - 1, output.shape[1] - 1, output.shape[2]] :\n            output.shape;\n        for (var r = 0; r < output.shape[0]; r++) {\n            for (var c = 0; c < output.shape[1]; c++) {\n                for (var d = 0; d < output.shape[2]; d++) {\n                    var sourceFracRow = (effectiveInputSize[0]) * r / (effectiveOutputSize[0]);\n                    var sourceFracCol = (effectiveInputSize[1]) * c / (effectiveOutputSize[1]);\n                    var sourceRowFloor = Math.floor(sourceFracRow);\n                    var sourceRowCeil = Math.min(x.shape[0] - 1, Math.ceil(sourceFracRow));\n                    var sourceColFloor = Math.floor(sourceFracCol);\n                    var sourceColCeil = Math.min(x.shape[1] - 1, Math.ceil(sourceFracCol));\n                    var topLeft = x.get(sourceRowFloor, sourceColFloor, d);\n                    var bottomLeft = x.get(sourceRowCeil, sourceColFloor, d);\n                    var topRight = x.get(sourceRowFloor, sourceColCeil, d);\n                    var bottomRight = x.get(sourceRowCeil, sourceColCeil, d);\n                    var rowFrac = sourceFracRow - sourceRowFloor;\n                    var colFrac = sourceFracCol - sourceColFloor;\n                    var top_1 = topLeft + (topRight - topLeft) * colFrac;\n                    var bottom = bottomLeft + (bottomRight - bottomLeft) * colFrac;\n                    var newValue = top_1 + (bottom - top_1) * rowFrac;\n                    output.set(newValue, r, c, d);\n                }\n            }\n        }\n        return output;\n    };\n    NDArrayMathCPU.prototype.batchNormalization2DInternal = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var xValues = x.getValues();\n        var meanValues = mean.getValues();\n        var varianceValues = variance.getValues();\n        var scaleValues = scale ? scale.getValues() : new Float32Array([1]);\n        var offsetValues = offset ? offset.getValues() : new Float32Array([0]);\n        var outValues = new Float32Array(xValues.length);\n        for (var i = 0; i < xValues.length; i++) {\n            outValues[i] = offsetValues[i % offsetValues.length] +\n                (xValues[i] - meanValues[i % meanValues.length]) *\n                    scaleValues[i % scaleValues.length] /\n                    Math.sqrt(varianceValues[i % varianceValues.length] + varianceEpsilon);\n        }\n        return ndarray_1.Array2D.new(x.shape, outValues);\n    };\n    NDArrayMathCPU.prototype.batchNormalization3DInternal = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var xValues = x.getValues();\n        var meanValues = mean.getValues();\n        var varianceValues = variance.getValues();\n        var scaleValues = scale ? scale.getValues() : new Float32Array([1]);\n        var offsetValues = offset ? offset.getValues() : new Float32Array([0]);\n        var outValues = new Float32Array(xValues.length);\n        for (var i = 0; i < xValues.length; i++) {\n            outValues[i] = offsetValues[i % offsetValues.length] +\n                (xValues[i] - meanValues[i % meanValues.length]) *\n                    scaleValues[i % scaleValues.length] /\n                    Math.sqrt(varianceValues[i % varianceValues.length] + varianceEpsilon);\n        }\n        return ndarray_1.Array3D.new(x.shape, outValues);\n    };\n    NDArrayMathCPU.prototype.multinomialInternal = function (probabilities, numSamples, seed) {\n        var batchSize = probabilities.shape[0];\n        var numEvents = probabilities.shape[1];\n        var res = ndarray_1.Array2D.zeros([batchSize, numSamples], 'int32');\n        var resVals = res.getValues();\n        var probVals = probabilities.getValues();\n        for (var b = 0; b < batchSize; ++b) {\n            var offset = b * numEvents;\n            var cdf = new Float32Array(numEvents - 1);\n            cdf[0] = probVals[offset];\n            for (var event_1 = 1; event_1 < cdf.length; ++event_1) {\n                cdf[event_1] = cdf[event_1 - 1] + probVals[offset + event_1];\n            }\n            var random = seedrandom.alea(seed.toString());\n            var outOffset = b * numSamples;\n            for (var sampleId = 0; sampleId < numSamples; ++sampleId) {\n                var r = random();\n                resVals[outOffset + sampleId] = cdf.length;\n                for (var event_2 = 0; event_2 < cdf.length; event_2++) {\n                    if (r < cdf[event_2]) {\n                        resVals[outOffset + sampleId] = event_2;\n                        break;\n                    }\n                }\n            }\n        }\n        return res;\n    };\n    NDArrayMathCPU.prototype.oneHotInternal = function (indices, depth, onValue, offValue) {\n        var res = new Float32Array(indices.size * depth);\n        res.fill(offValue);\n        for (var event_3 = 0; event_3 < indices.size; ++event_3) {\n            res[event_3 * depth + indices.get(event_3)] = onValue;\n        }\n        return ndarray_1.Array2D.new([indices.size, depth], res);\n    };\n    NDArrayMathCPU.prototype.broadcastedBinaryOp = function (a, b, dtype, op) {\n        var newShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var result = ndarray_1.NDArray.zeros(newShape, dtype);\n        var newValues = result.getValues();\n        var aValues = a.getValues();\n        var bValues = b.getValues();\n        var aBroadcastDims = broadcast_util.getBroadcastDims(a.shape, newShape);\n        var bBroadcastDims = broadcast_util.getBroadcastDims(b.shape, newShape);\n        var _loop_1 = function (i) {\n            var loc = result.indexToLoc(i);\n            var aLoc = loc.slice(-a.rank);\n            aBroadcastDims.forEach(function (d) { return aLoc[d] = 0; });\n            var aIndex = a.locToIndex(aLoc);\n            var bLoc = loc.slice(-b.rank);\n            bBroadcastDims.forEach(function (d) { return bLoc[d] = 0; });\n            var bIndex = b.locToIndex(bLoc);\n            newValues[i] = op(aValues[aIndex], bValues[bIndex]);\n        };\n        for (var i = 0; i < newValues.length; ++i) {\n            _loop_1(i);\n        }\n        return result;\n    };\n    return NDArrayMathCPU;\n}(math_1.NDArrayMath));\nexports.NDArrayMathCPU = NDArrayMathCPU;\n//# sourceMappingURL=math_cpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/math_cpu.js\n// module id = 32\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../util\");\nvar axis_util = require(\"./axis_util\");\nvar math_1 = require(\"./math\");\nvar ndarray = require(\"./ndarray\");\nvar ndarray_1 = require(\"./ndarray\");\nvar reduce_util = require(\"./reduce_util\");\nvar addscaledmat_gpu_1 = require(\"./webgl/addscaledmat_gpu\");\nvar argminmax_gpu_1 = require(\"./webgl/argminmax_gpu\");\nvar batchnorm_gpu_1 = require(\"./webgl/batchnorm_gpu\");\nvar binaryop_gpu = require(\"./webgl/binaryop_gpu\");\nvar binaryop_gpu_1 = require(\"./webgl/binaryop_gpu\");\nvar clip_gpu_1 = require(\"./webgl/clip_gpu\");\nvar concat_gpu_1 = require(\"./webgl/concat_gpu\");\nvar conv_backprop_gpu_1 = require(\"./webgl/conv_backprop_gpu\");\nvar conv_gpu_1 = require(\"./webgl/conv_gpu\");\nvar conv_gpu_depthwise_1 = require(\"./webgl/conv_gpu_depthwise\");\nvar copy_gpu_1 = require(\"./webgl/copy_gpu\");\nvar gpgpu_context_1 = require(\"./webgl/gpgpu_context\");\nvar gpgpu_math = require(\"./webgl/gpgpu_math\");\nvar gpgpu_util = require(\"./webgl/gpgpu_util\");\nvar max_pool_backprop_gpu_1 = require(\"./webgl/max_pool_backprop_gpu\");\nvar mulmat_gpu_1 = require(\"./webgl/mulmat_gpu\");\nvar multinomial_gpu_1 = require(\"./webgl/multinomial_gpu\");\nvar onehot_gpu_1 = require(\"./webgl/onehot_gpu\");\nvar pool_gpu_1 = require(\"./webgl/pool_gpu\");\nvar reduce_gpu_1 = require(\"./webgl/reduce_gpu\");\nvar resize_bilinear_gpu_1 = require(\"./webgl/resize_bilinear_gpu\");\nvar slice_gpu_1 = require(\"./webgl/slice_gpu\");\nvar texture_manager_1 = require(\"./webgl/texture_manager\");\nvar tile_gpu_1 = require(\"./webgl/tile_gpu\");\nvar transpose_gpu_1 = require(\"./webgl/transpose_gpu\");\nvar unary_op = require(\"./webgl/unaryop_gpu\");\nvar unaryop_gpu_1 = require(\"./webgl/unaryop_gpu\");\nvar webgl_util = require(\"./webgl/webgl_util\");\nvar NDArrayMathGPU = (function (_super) {\n    __extends(NDArrayMathGPU, _super);\n    function NDArrayMathGPU(gpgpu, safeMode) {\n        if (safeMode === void 0) { safeMode = false; }\n        var _this = _super.call(this, safeMode) || this;\n        _this.binaryCache = {};\n        if (gpgpu == null) {\n            var gl = gpgpu_util.createWebGLContext();\n            _this.gpgpu = new gpgpu_context_1.GPGPUContext(gl);\n            _this.gpgpuCreatedLocally = true;\n        }\n        else {\n            _this.gpgpu = gpgpu;\n            _this.gpgpuCreatedLocally = false;\n        }\n        _this.textureManager = new texture_manager_1.TextureManager(_this.gpgpu);\n        ndarray.initializeGPU(_this.gpgpu, _this.textureManager);\n        return _this;\n    }\n    NDArrayMathGPU.prototype.getGPGPUContext = function () {\n        return this.gpgpu;\n    };\n    NDArrayMathGPU.prototype.cloneInternal = function (a) {\n        var texShape = a.getTextureShapeRC();\n        var source = a.as2D(texShape[0], texShape[1]);\n        var output = this.makeOutputArray(texShape, a.dtype);\n        this.copy2D(source, [0, 0], texShape, output, [0, 0], texShape);\n        return output.reshape(a.shape);\n    };\n    NDArrayMathGPU.prototype.slice1DInternal = function (input, begin, size) {\n        var program = new slice_gpu_1.SliceProgram([size]);\n        var customSetup = program.getCustomSetupFunc([begin]);\n        return this.compileAndRun(program, [input], null, customSetup);\n    };\n    NDArrayMathGPU.prototype.slice2DInternal = function (input, begin, size) {\n        var program = new slice_gpu_1.SliceProgram(size);\n        var customSetup = program.getCustomSetupFunc(begin);\n        return this.compileAndRun(program, [input], null, customSetup);\n    };\n    NDArrayMathGPU.prototype.slice3DInternal = function (input, begin, size) {\n        var program = new slice_gpu_1.SliceProgram(size);\n        var customSetup = program.getCustomSetupFunc(begin);\n        return this.compileAndRun(program, [input], null, customSetup);\n    };\n    NDArrayMathGPU.prototype.slice4DInternal = function (input, begin, size) {\n        var program = new slice_gpu_1.SliceProgram(size);\n        var customSetup = program.getCustomSetupFunc(begin);\n        return this.compileAndRun(program, [input], null, customSetup);\n    };\n    NDArrayMathGPU.prototype.copy2DInternal = function (source, sourceBeginRowCol, sourceSizeRowCol, dest, destBeginRowCol, destSizeRowCol) {\n        var program = new copy_gpu_1.Copy2DProgram(sourceSizeRowCol[1], destSizeRowCol[1]);\n        var customSetup = program.getCustomSetupFunc(sourceBeginRowCol, destBeginRowCol, destSizeRowCol);\n        this.compileAndRun(program, [source], dest, customSetup);\n    };\n    NDArrayMathGPU.prototype.concat1DInternal = function (a, b) {\n        var program = new concat_gpu_1.ConcatProgram(a.shape, b.shape, 0);\n        return this.compileAndRun(program, [a, b]);\n    };\n    NDArrayMathGPU.prototype.concat2DInternal = function (a, b, axis) {\n        var program = new concat_gpu_1.ConcatProgram(a.shape, b.shape, axis);\n        return this.compileAndRun(program, [a, b]);\n    };\n    NDArrayMathGPU.prototype.concat3DInternal = function (x1, x2, axis) {\n        var program = new concat_gpu_1.ConcatProgram(x1.shape, x2.shape, axis);\n        return this.compileAndRun(program, [x1, x2]);\n    };\n    NDArrayMathGPU.prototype.concat4DInternal = function (x1, x2, axis) {\n        var program = new concat_gpu_1.ConcatProgram(x1.shape, x2.shape, axis);\n        return this.compileAndRun(program, [x1, x2]);\n    };\n    NDArrayMathGPU.prototype.scaledArrayAddInternal = function (c1, a, c2, b) {\n        var program = new addscaledmat_gpu_1.AddScaledMatProgram(a.shape, b.shape);\n        return this.compileAndRun(program, [a, b, c1, c2]);\n    };\n    NDArrayMathGPU.prototype.negInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.NEG);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.makeOutputArray = function (shape, dtype) {\n        var textureShapeRC = webgl_util.getTextureShapeFromLogicalShape(this.gpgpu.gl, shape);\n        var texture = this.textureManager.acquireTexture(textureShapeRC);\n        return ndarray_1.NDArray.make(shape, { texture: texture, textureShapeRC: textureShapeRC }, dtype);\n    };\n    NDArrayMathGPU.prototype.compileAndRun = function (program, inputs, output, customSetup) {\n        var _this = this;\n        if (output == null) {\n            output = this.makeOutputArray(program.outputShape, inputs[0].dtype);\n        }\n        var key = gpgpu_math.makeShaderKey(program, inputs, output);\n        var binary = this.getAndSaveBinary(key, function () {\n            return gpgpu_math.compileProgram(_this.gpgpu, program, inputs, output);\n        });\n        gpgpu_math.runProgram(binary, inputs, output, customSetup);\n        return output;\n    };\n    NDArrayMathGPU.prototype.matMulInternal = function (a, b, aOrientation, bOrientation) {\n        var program = new mulmat_gpu_1.MatMulProgram(a.shape, b.shape, aOrientation, bOrientation);\n        return this.compileAndRun(program, [a, b]);\n    };\n    NDArrayMathGPU.prototype.multiplyInternal = function (a, b) {\n        var program = new binaryop_gpu_1.BinaryOpProgram(binaryop_gpu.MUL, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    NDArrayMathGPU.prototype.batchNormalization2DInternal = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var inputs = [x, mean, variance];\n        var offsetShape = null;\n        if (offset != null) {\n            offsetShape = offset.shape;\n            inputs.push(offset);\n        }\n        var scaleShape = null;\n        if (scale != null) {\n            scaleShape = scale.shape;\n            inputs.push(scale);\n        }\n        var program = new batchnorm_gpu_1.BatchNormProgram(x.shape, mean.shape, variance.shape, offsetShape, scaleShape, varianceEpsilon);\n        return this.compileAndRun(program, inputs);\n    };\n    NDArrayMathGPU.prototype.batchNormalization3DInternal = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var inputs = [x, mean, variance];\n        var offsetShape = null;\n        if (offset != null) {\n            offsetShape = offset.shape;\n            inputs.push(offset);\n        }\n        var scaleShape = null;\n        if (scale != null) {\n            scaleShape = scale.shape;\n            inputs.push(scale);\n        }\n        var program = new batchnorm_gpu_1.BatchNormProgram(x.shape, mean.shape, variance.shape, offsetShape, scaleShape, varianceEpsilon);\n        return this.compileAndRun(program, inputs);\n    };\n    NDArrayMathGPU.prototype.tileInternal = function (a, reps) {\n        var program = new tile_gpu_1.TileProgram(a.shape, reps);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.transposeInternal = function (a, perm) {\n        var program = new transpose_gpu_1.TransposeProgram(a.shape, perm);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.reduce = function (a, reduceType, dtype) {\n        var batchSize = a.shape[0];\n        var inSize = a.shape[1];\n        var windowSize = reduce_util.computeOptimalWindowSize(inSize);\n        var reduceInfo = { windowSize: windowSize, inSize: inSize, batchSize: batchSize };\n        var program = new reduce_gpu_1.ReduceProgram(reduceInfo, reduceType);\n        var _a = program.outputShape, rows = _a[0], cols = _a[1];\n        var output = this.makeOutputArray(program.outputShape, dtype).as2D(rows, cols);\n        this.compileAndRun(program, [a], output);\n        if (output.shape[1] === 1) {\n            return output;\n        }\n        return this.reduce(output, reduceType, dtype);\n    };\n    NDArrayMathGPU.prototype.argReduce = function (a, reduceType, bestIndicesA) {\n        if (bestIndicesA === void 0) { bestIndicesA = null; }\n        var batchSize = a.shape[0];\n        var inSize = a.shape[1];\n        if (bestIndicesA != null) {\n            batchSize = bestIndicesA.shape[0];\n            inSize = bestIndicesA.shape[1];\n        }\n        var windowSize = reduce_util.computeOptimalWindowSize(inSize);\n        var reduceInfo = { windowSize: windowSize, inSize: inSize, batchSize: batchSize };\n        var program = new argminmax_gpu_1.ArgMinMaxProgram(reduceInfo, reduceType, bestIndicesA == null);\n        var _a = program.outputShape, rows = _a[0], cols = _a[1];\n        var output = this.makeOutputArray(program.outputShape, 'int32').as2D(rows, cols);\n        var inputs = [a];\n        if (bestIndicesA != null) {\n            inputs.push(bestIndicesA);\n        }\n        this.compileAndRun(program, inputs, output);\n        if (output.shape[1] === 1) {\n            return output;\n        }\n        return this.argReduce(a, reduceType, output);\n    };\n    NDArrayMathGPU.prototype.sumInternal = function (a, axes) {\n        axis_util.assertAxesAreInnerMostDims('sum', axes, a.rank);\n        var _a = axis_util.computeOutAndReduceShapes(a.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = a.as2D(-1, inSize);\n        var outputDType = math_1.SumTypesMap[a.dtype];\n        return this.reduce(a2D, 'sum', outputDType).reshape(outShape);\n    };\n    NDArrayMathGPU.prototype.argMinInternal = function (a, axes) {\n        axis_util.assertAxesAreInnerMostDims('argMin', axes, a.rank);\n        var _a = axis_util.computeOutAndReduceShapes(a.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = a.as2D(-1, inSize);\n        return this.argReduce(a2D, 'min').reshape(outShape);\n    };\n    NDArrayMathGPU.prototype.argMaxInternal = function (a, axes) {\n        axis_util.assertAxesAreInnerMostDims('argMax', axes, a.rank);\n        var _a = axis_util.computeOutAndReduceShapes(a.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = a.as2D(-1, inSize);\n        return this.argReduce(a2D, 'max').reshape(outShape);\n    };\n    NDArrayMathGPU.prototype.equalInternal = function (x, y) {\n        var program = new binaryop_gpu_1.BinaryOpProgram(binaryop_gpu.EQUAL, x.shape, y.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [x, y], output);\n    };\n    NDArrayMathGPU.prototype.topKInternal = function (ndarray, k) {\n        throw new Error('topK GPU not yet implemented!');\n    };\n    NDArrayMathGPU.prototype.minInternal = function (a, axes) {\n        axis_util.assertAxesAreInnerMostDims('min', axes, a.rank);\n        var _a = axis_util.computeOutAndReduceShapes(a.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = a.as2D(-1, inSize);\n        return this.reduce(a2D, 'min', a2D.dtype).reshape(outShape);\n    };\n    NDArrayMathGPU.prototype.maxInternal = function (a, axes) {\n        axis_util.assertAxesAreInnerMostDims('max', axes, a.rank);\n        var _a = axis_util.computeOutAndReduceShapes(a.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = a.as2D(-1, inSize);\n        return this.reduce(a2D, 'max', a2D.dtype).reshape(outShape);\n    };\n    NDArrayMathGPU.prototype.divideInternal = function (a, b) {\n        var program = new binaryop_gpu_1.BinaryOpProgram(binaryop_gpu.DIV, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'float32');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    NDArrayMathGPU.prototype.addInternal = function (a, b) {\n        var program = new binaryop_gpu_1.BinaryOpProgram(binaryop_gpu.ADD, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    NDArrayMathGPU.prototype.subtractInternal = function (a, b) {\n        var program = new binaryop_gpu_1.BinaryOpProgram(binaryop_gpu.SUB, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    NDArrayMathGPU.prototype.ceilInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.CEIL);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.floorInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.FLOOR);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.expInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.EXP);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.logInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.LOG);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.sqrtInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.SQRT);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.squareInternal = function (x) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(x.shape, unary_op.SQUARE);\n        return this.compileAndRun(program, [x]);\n    };\n    NDArrayMathGPU.prototype.reluInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.RELU);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.eluInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.ELU);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.leakyReluInternal = function (a, alpha) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.LEAKY_RELU(alpha));\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.clipInternal = function (a, min, max) {\n        var program = new clip_gpu_1.ClipProgram(a.shape, min, max);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.absInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.ABS);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.sigmoidInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.SIGMOID);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.sinInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.SIN);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.cosInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.COS);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.tanInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.TAN);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.asinInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.ASIN);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.acosInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.ACOS);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.atanInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.ATAN);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.sinhInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.SINH);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.coshInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.COSH);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.tanhInternal = function (a) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.TANH);\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.stepInternal = function (a, alpha) {\n        var program = new unaryop_gpu_1.UnaryOpProgram(a.shape, unary_op.STEP(alpha));\n        return this.compileAndRun(program, [a]);\n    };\n    NDArrayMathGPU.prototype.conv2dInternal = function (x, filter, bias, convInfo) {\n        var program = new conv_gpu_1.Conv2DProgram(convInfo, bias != null);\n        var inputs = bias != null ? [x, filter, bias] : [x, filter];\n        return this.compileAndRun(program, inputs);\n    };\n    NDArrayMathGPU.prototype.conv2dDerInputInternal = function (dy, filter, convInfo) {\n        var program = new conv_backprop_gpu_1.Conv2DDerInputProgram(convInfo);\n        return this.compileAndRun(program, [dy, filter]);\n    };\n    NDArrayMathGPU.prototype.conv2dDerFilterInternal = function (x, dY, convInfo) {\n        var program = new conv_backprop_gpu_1.Conv2DDerWeightsProgram(convInfo);\n        return this.compileAndRun(program, [x, dY]);\n    };\n    NDArrayMathGPU.prototype.conv2dDerBiasInternal = function (dY) {\n        var program = new conv_backprop_gpu_1.Conv2DDerBiasProgram(dY.shape);\n        return this.compileAndRun(program, [dY]);\n    };\n    NDArrayMathGPU.prototype.depthwiseConv2DInternal = function (input, filter, convInfo) {\n        var program = new conv_gpu_depthwise_1.DepthwiseConv2DProgram(convInfo);\n        return this.compileAndRun(program, [input, filter]);\n    };\n    NDArrayMathGPU.prototype.maxPoolInternal = function (x, convInfo) {\n        var program = new pool_gpu_1.Pool2DProgram(convInfo, 'max', false);\n        return this.compileAndRun(program, [x]);\n    };\n    NDArrayMathGPU.prototype.minPoolInternal = function (x, convInfo) {\n        var program = new pool_gpu_1.Pool2DProgram(convInfo, 'min', false);\n        return this.compileAndRun(program, [x]);\n    };\n    NDArrayMathGPU.prototype.avgPoolInternal = function (x, convInfo) {\n        var program = new pool_gpu_1.Pool2DProgram(convInfo, 'avg', false);\n        return this.compileAndRun(program, [x]);\n    };\n    NDArrayMathGPU.prototype.maxPoolBackpropInternal = function (dy, x, convInfo) {\n        var getPositions = true;\n        var maxPoolPositionsProgram = new pool_gpu_1.Pool2DProgram(convInfo, 'max', getPositions);\n        var maxPoolPositions = this.compileAndRun(maxPoolPositionsProgram, [x]);\n        var maxPoolBackPropProgram = new max_pool_backprop_gpu_1.MaxPool2DBackpropProgram(convInfo);\n        var result = this.compileAndRun(maxPoolBackPropProgram, [dy, maxPoolPositions]);\n        maxPoolPositions.dispose();\n        return result;\n    };\n    NDArrayMathGPU.prototype.resizeBilinear3DInternal = function (x, newShape2D, alignCorners) {\n        var program = new resize_bilinear_gpu_1.ResizeBilinear3DProgram(x.shape, newShape2D, alignCorners);\n        return this.compileAndRun(program, [x]);\n    };\n    NDArrayMathGPU.prototype.multinomialInternal = function (probs, numSamples, seed) {\n        var batchSize = probs.shape[0];\n        var numOutcomes = probs.shape[1];\n        var program = new multinomial_gpu_1.MultinomialProgram(batchSize, numOutcomes, numSamples);\n        var output = this.makeOutputArray(program.outputShape, 'int32');\n        var customSetup = program.getCustomSetupFunc(seed);\n        return this.compileAndRun(program, [probs], output, customSetup);\n    };\n    NDArrayMathGPU.prototype.oneHotInternal = function (indices, depth, onValue, offValue) {\n        var program = new onehot_gpu_1.OneHotProgram(indices.size, depth, onValue, offValue);\n        return this.compileAndRun(program, [indices]);\n    };\n    NDArrayMathGPU.prototype.getAndSaveBinary = function (key, getBinary) {\n        if (!(key in this.binaryCache)) {\n            this.binaryCache[key] = getBinary();\n        }\n        return this.binaryCache[key];\n    };\n    NDArrayMathGPU.prototype.getTextureManager = function () {\n        return this.textureManager;\n    };\n    NDArrayMathGPU.prototype.dispose = function () {\n        for (var key in this.binaryCache) {\n            this.gpgpu.deleteProgram(this.binaryCache[key].webGLProgram);\n        }\n        this.textureManager.dispose();\n        if (this.gpgpuCreatedLocally) {\n            this.gpgpu.dispose();\n        }\n    };\n    return NDArrayMathGPU;\n}(math_1.NDArrayMath));\nexports.NDArrayMathGPU = NDArrayMathGPU;\n//# sourceMappingURL=math_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/math_gpu.js\n// module id = 33\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar broadcast_util = require(\"../broadcast_util\");\nexports.ADD = 'return a + b;';\nexports.SUB = 'return a - b;';\nexports.MUL = 'return a * b;';\nexports.DIV = 'return a / b;';\nexports.EQUAL = \"\\n  if (isNaN(a)) return a;\\n  if (isNaN(b)) return b;\\n  return float(a == b);\\n\";\nvar BinaryOpProgram = (function () {\n    function BinaryOpProgram(op, aShape, bShape) {\n        this.variableNames = ['A', 'B'];\n        this.supportsBroadcasting = true;\n        this.outputShape =\n            broadcast_util.assertAndGetBroadcastShape(aShape, bShape);\n        this.userCode = \"\\n      float binaryOperation(float a, float b) {\\n        \" + op + \"\\n      }\\n\\n      void main() {\\n        float a = getAAtOutCoords();\\n        float b = getBAtOutCoords();\\n        setOutput(binaryOperation(a, b));\\n      }\\n    \";\n    }\n    return BinaryOpProgram;\n}());\nexports.BinaryOpProgram = BinaryOpProgram;\n//# sourceMappingURL=binaryop_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/binaryop_gpu.js\n// module id = 34\n// module chunks = 0","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../../environment\");\nvar util = require(\"../../util\");\nvar gpgpu_util = require(\"./gpgpu_util\");\nvar tex_util = require(\"./tex_util\");\nvar webgl_util = require(\"./webgl_util\");\nvar GPGPUContext = (function () {\n    function GPGPUContext(gl) {\n        this.outputTexture = null;\n        this.program = null;\n        this.disposed = false;\n        this.autoDebugValidate = false;\n        if (gl != null) {\n            this.gl = gl;\n        }\n        else {\n            this.gl = gpgpu_util.createWebGLContext();\n        }\n        if (environment_1.ENV.get('WEBGL_VERSION') === 1) {\n            this.textureFloatExtension =\n                webgl_util.getExtensionOrThrow(this.gl, 'OES_texture_float');\n            this.colorBufferFloatExtension =\n                this.gl.getExtension('WEBGL_color_buffer_float');\n        }\n        else {\n            this.colorBufferFloatExtension =\n                webgl_util.getExtensionOrThrow(this.gl, 'EXT_color_buffer_float');\n        }\n        this.loseContextExtension =\n            webgl_util.getExtensionOrThrow(this.gl, 'WEBGL_lose_context');\n        if (environment_1.ENV.get('WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED')) {\n            this.getBufferSubDataAsyncExtension =\n                this.gl.getExtension('WEBGL_get_buffer_sub_data_async');\n        }\n        this.vertexBuffer = gpgpu_util.createVertexBuffer(this.gl);\n        this.indexBuffer = gpgpu_util.createIndexBuffer(this.gl);\n        this.framebuffer = webgl_util.createFramebuffer(this.gl);\n    }\n    GPGPUContext.prototype.dispose = function () {\n        var _this = this;\n        this.throwIfDisposed();\n        if (this.program != null) {\n            console.warn('Disposing a GPGPUContext that still has a bound WebGLProgram.' +\n                ' This is probably a resource leak, delete the program with ' +\n                'GPGPUContext.deleteProgram before disposing.');\n        }\n        if (this.outputTexture != null) {\n            console.warn('Disposing a GPGPUContext that still has a bound output matrix ' +\n                'texture.  This is probably a resource leak, delete the output ' +\n                'matrix texture with GPGPUContext.deleteMatrixTexture before ' +\n                'disposing.');\n        }\n        var gl = this.gl;\n        webgl_util.callAndCheck(gl, function () { return gl.finish(); });\n        webgl_util.callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, null); });\n        webgl_util.callAndCheck(gl, function () { return gl.deleteFramebuffer(_this.framebuffer); });\n        webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, null); });\n        webgl_util.callAndCheck(gl, function () { return gl.deleteBuffer(_this.vertexBuffer); });\n        webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null); });\n        webgl_util.callAndCheck(gl, function () { return gl.deleteBuffer(_this.indexBuffer); });\n        this.loseContextExtension.loseContext();\n        this.disposed = true;\n    };\n    GPGPUContext.prototype.enableAutomaticDebugValidation = function (enabled) {\n        this.autoDebugValidate = enabled;\n        webgl_util.enableDebugWebGLErrorChecking(enabled);\n    };\n    GPGPUContext.prototype.createMatrixTexture = function (rows, columns) {\n        this.throwIfDisposed();\n        return gpgpu_util.createMatrixTexture(this.gl, rows, columns);\n    };\n    GPGPUContext.prototype.uploadPixelDataToTexture = function (texture, pixels) {\n        this.throwIfDisposed();\n        gpgpu_util.uploadPixelDataToTexture(this.gl, texture, pixels);\n    };\n    GPGPUContext.prototype.createPackedMatrixTexture = function (rows, columns) {\n        this.throwIfDisposed();\n        return gpgpu_util.createPackedMatrixTexture(this.gl, rows, columns);\n    };\n    GPGPUContext.prototype.deleteMatrixTexture = function (texture) {\n        var _this = this;\n        this.throwIfDisposed();\n        if (this.outputTexture === texture) {\n            webgl_util.unbindColorTextureFromFramebuffer(this.gl, this.framebuffer);\n            this.outputTexture = null;\n        }\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.deleteTexture(texture); });\n    };\n    GPGPUContext.prototype.uploadMatrixToTexture = function (texture, rows, columns, matrix) {\n        this.throwIfDisposed();\n        var numChannels = 1;\n        return gpgpu_util.uploadMatrixToTexture(this.gl, texture, rows, columns, matrix, numChannels);\n    };\n    GPGPUContext.prototype.uploadMatrixToPackedTexture = function (texture, rows, columns, matrix) {\n        this.throwIfDisposed();\n        return gpgpu_util.uploadMatrixToPackedTexture(this.gl, texture, rows, columns, matrix);\n    };\n    GPGPUContext.prototype.downloadMatrixFromTexture = function (texture, rows, columns) {\n        var _this = this;\n        return this.downloadMatrixDriver(texture, function () {\n            return gpgpu_util.downloadMatrixFromOutputTexture(_this.gl, rows, columns);\n        });\n    };\n    GPGPUContext.prototype.downloadMatrixFromTextureAsync = function (texture, rows, columns) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (this.getBufferSubDataAsyncExtension == null) {\n                    throw new Error(\"Cannot download matrix from output texture asynchronously, \" +\n                        \"WEBGL_get_buffer_sub_data_async is not enabled.\");\n                }\n                return [2, this.downloadMatrixDriverAsync(texture, function () { return gpgpu_util.downloadMatrixFromOutputTextureAsync(_this.gl, _this.getBufferSubDataAsyncExtension, rows, columns); })];\n            });\n        });\n    };\n    GPGPUContext.prototype.downloadMatrixFromRGBAColorTexture = function (texture, rows, columns, channels) {\n        var _this = this;\n        return this.downloadMatrixDriver(texture, function () { return gpgpu_util.downloadMatrixFromRGBAColorTexture(_this.gl, rows, columns, channels); });\n    };\n    GPGPUContext.prototype.downloadMatrixFromPackedTexture = function (texture, rows, columns) {\n        var _this = this;\n        return this.downloadMatrixDriver(texture, function () { return gpgpu_util.downloadMatrixFromPackedOutputTexture(_this.gl, rows, columns); });\n    };\n    GPGPUContext.prototype.createProgram = function (fragmentShaderSource) {\n        this.throwIfDisposed();\n        var gl = this.gl;\n        var fragmentShader = webgl_util.createFragmentShader(gl, fragmentShaderSource);\n        var vertexShader = gpgpu_util.createVertexShader(gl);\n        var program = webgl_util.createProgram(gl);\n        webgl_util.callAndCheck(gl, function () { return gl.attachShader(program, vertexShader); });\n        webgl_util.callAndCheck(gl, function () { return gl.attachShader(program, fragmentShader); });\n        webgl_util.linkProgram(gl, program);\n        if (this.autoDebugValidate) {\n            webgl_util.validateProgram(gl, program);\n        }\n        return program;\n    };\n    GPGPUContext.prototype.deleteProgram = function (program) {\n        var _this = this;\n        this.throwIfDisposed();\n        if (program === this.program) {\n            this.program = null;\n        }\n        if (program != null) {\n            webgl_util.callAndCheck(this.gl, function () { return _this.gl.deleteProgram(program); });\n        }\n    };\n    GPGPUContext.prototype.setProgram = function (program) {\n        var _this = this;\n        this.throwIfDisposed();\n        this.program = program;\n        if ((this.program != null) && this.autoDebugValidate) {\n            webgl_util.validateProgram(this.gl, this.program);\n        }\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.useProgram(program); });\n    };\n    GPGPUContext.prototype.getUniformLocation = function (program, uniformName) {\n        this.throwIfDisposed();\n        return webgl_util.getProgramUniformLocationOrThrow(this.gl, program, uniformName);\n    };\n    GPGPUContext.prototype.getAttributeLocation = function (program, attribute) {\n        var _this = this;\n        this.throwIfDisposed();\n        return webgl_util.callAndCheck(this.gl, function () { return _this.gl.getAttribLocation(program, attribute); });\n    };\n    GPGPUContext.prototype.getUniformLocationNoThrow = function (program, uniformName) {\n        this.throwIfDisposed();\n        return this.gl.getUniformLocation(program, uniformName);\n    };\n    GPGPUContext.prototype.setInputMatrixTexture = function (inputMatrixTexture, uniformLocation, textureUnit) {\n        this.throwIfDisposed();\n        this.throwIfNoProgram();\n        webgl_util.bindTextureToProgramUniformSampler(this.gl, this.program, inputMatrixTexture, uniformLocation, textureUnit);\n    };\n    GPGPUContext.prototype.setOutputMatrixTexture = function (outputMatrixTexture, rows, columns) {\n        this.setOutputMatrixTextureDriver(outputMatrixTexture, columns, rows);\n    };\n    GPGPUContext.prototype.setOutputPackedMatrixTexture = function (outputPackedMatrixTexture, rows, columns) {\n        this.throwIfDisposed();\n        var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n        this.setOutputMatrixTextureDriver(outputPackedMatrixTexture, width, height);\n    };\n    GPGPUContext.prototype.setOutputMatrixWriteRegion = function (startRow, numRows, startColumn, numColumns) {\n        this.setOutputMatrixWriteRegionDriver(startColumn, startRow, numColumns, numRows);\n    };\n    GPGPUContext.prototype.setOutputPackedMatrixWriteRegion = function (startRow, numRows, startColumn, numColumns) {\n        throw new Error('setOutputPackedMatrixWriteRegion not implemented.');\n    };\n    GPGPUContext.prototype.debugValidate = function () {\n        if (this.program != null) {\n            webgl_util.validateProgram(this.gl, this.program);\n        }\n        webgl_util.validateFramebuffer(this.gl);\n    };\n    GPGPUContext.prototype.executeProgram = function (attribLocations) {\n        this.throwIfDisposed();\n        this.throwIfNoProgram();\n        var gl = this.gl;\n        gpgpu_util.bindVertexProgramAttributeStreams(gl, this.program, this.vertexBuffer, attribLocations);\n        if (this.autoDebugValidate) {\n            this.debugValidate();\n        }\n        webgl_util.callAndCheck(gl, function () { return gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0); });\n    };\n    GPGPUContext.prototype.blockUntilAllProgramsCompleted = function () {\n        var _this = this;\n        this.throwIfDisposed();\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.finish(); });\n    };\n    GPGPUContext.prototype.runQuery = function (queryFn) {\n        if (environment_1.ENV.get('WEBGL_VERSION') === 2) {\n            return this.runQueryWebGL2(queryFn);\n        }\n        return this.runQueryWebGL1(queryFn);\n    };\n    GPGPUContext.prototype.runQueryWebGL2 = function (benchmark) {\n        var _this = this;\n        var ext = webgl_util.getExtensionOrThrow(this.gl, 'EXT_disjoint_timer_query_webgl2');\n        var query = this.gl.createQuery();\n        this.gl.beginQuery(ext.TIME_ELAPSED_EXT, query);\n        benchmark();\n        this.gl.endQuery(ext.TIME_ELAPSED_EXT);\n        return new Promise(function (resolve, reject) {\n            var queryGPU = function () {\n                var available = _this.gl\n                    .getQueryParameter(query, _this.gl.QUERY_RESULT_AVAILABLE);\n                var disjoint = _this.gl.getParameter(ext.GPU_DISJOINT_EXT);\n                return available && !disjoint;\n            };\n            var getTimeElapsed = function () {\n                var timeElapsedNanos = _this.gl\n                    .getQueryParameter(query, _this.gl.QUERY_RESULT);\n                resolve(timeElapsedNanos / 1000000);\n            };\n            var resolveWithWarning = function () {\n                console.warn('Disjoint query timer never available.');\n                resolve(-1);\n            };\n            util.repeatedTry(queryGPU).then(getTimeElapsed).catch(resolveWithWarning);\n        });\n    };\n    GPGPUContext.prototype.runQueryWebGL1 = function (benchmark) {\n        var _this = this;\n        var ext = webgl_util.getExtensionOrThrow(this.gl, 'EXT_disjoint_timer_query');\n        var query = ext.createQueryEXT();\n        ext.beginQueryEXT(ext.TIME_ELAPSED_EXT, query);\n        benchmark();\n        ext.endQueryEXT(ext.TIME_ELAPSED_EXT);\n        return new Promise(function (resolve, reject) {\n            var queryGPU = function () {\n                var available = ext.getQueryObjectEXT(query, ext.QUERY_RESULT_AVAILABLE_EXT);\n                var disjoint = _this.gl.getParameter(ext.GPU_DISJOINT_EXT);\n                return available && !disjoint;\n            };\n            var getTimeElapsed = function () {\n                var timeElapsedNanos = ext.getQueryObjectEXT(query, ext.QUERY_RESULT_EXT);\n                resolve(timeElapsedNanos / 1000000);\n            };\n            var resolveWithWarning = function () {\n                console.warn('Disjoint query timer never available.');\n                resolve(-1);\n            };\n            util.repeatedTry(queryGPU).then(getTimeElapsed).catch(resolveWithWarning);\n        });\n    };\n    GPGPUContext.prototype.downloadMatrixDriverSetup = function (texture) {\n        this.throwIfDisposed();\n        webgl_util.bindColorTextureToFramebuffer(this.gl, texture, this.framebuffer);\n        if (this.autoDebugValidate) {\n            webgl_util.validateFramebuffer(this.gl);\n        }\n    };\n    GPGPUContext.prototype.downloadMatrixDriverTeardown = function () {\n        if (this.outputTexture != null) {\n            webgl_util.bindColorTextureToFramebuffer(this.gl, this.outputTexture, this.framebuffer);\n            if (this.autoDebugValidate) {\n                webgl_util.validateFramebuffer(this.gl);\n            }\n        }\n        else {\n            webgl_util.unbindColorTextureFromFramebuffer(this.gl, this.framebuffer);\n        }\n    };\n    GPGPUContext.prototype.downloadMatrixDriver = function (texture, downloadAndDecode) {\n        this.downloadMatrixDriverSetup(texture);\n        var result = downloadAndDecode();\n        this.downloadMatrixDriverTeardown();\n        return result;\n    };\n    GPGPUContext.prototype.downloadMatrixDriverAsync = function (texture, downloadAndDecode) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.downloadMatrixDriverSetup(texture);\n                        return [4, downloadAndDecode()];\n                    case 1:\n                        result = _a.sent();\n                        this.downloadMatrixDriverTeardown();\n                        return [2, result];\n                }\n            });\n        });\n    };\n    GPGPUContext.prototype.setOutputMatrixTextureDriver = function (outputMatrixTextureMaybePacked, width, height) {\n        this.throwIfDisposed();\n        var gl = this.gl;\n        webgl_util.bindColorTextureToFramebuffer(gl, outputMatrixTextureMaybePacked, this.framebuffer);\n        if (this.autoDebugValidate) {\n            webgl_util.validateFramebuffer(gl);\n        }\n        this.outputTexture = outputMatrixTextureMaybePacked;\n        webgl_util.callAndCheck(gl, function () { return gl.viewport(0, 0, width, height); });\n        webgl_util.callAndCheck(gl, function () { return gl.scissor(0, 0, width, height); });\n    };\n    GPGPUContext.prototype.setOutputMatrixWriteRegionDriver = function (x, y, width, height) {\n        var _this = this;\n        this.throwIfDisposed();\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.scissor(x, y, width, height); });\n    };\n    GPGPUContext.prototype.throwIfDisposed = function () {\n        if (this.disposed) {\n            throw new Error('Attempted to use disposed GPGPUContext.');\n        }\n    };\n    GPGPUContext.prototype.throwIfNoProgram = function () {\n        if (this.program == null) {\n            throw new Error('No GPU program is currently set.');\n        }\n    };\n    return GPGPUContext;\n}());\nexports.GPGPUContext = GPGPUContext;\n//# sourceMappingURL=gpgpu_context.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/gpgpu_context.js\n// module id = 35\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnaryOpProgram = (function () {\n    function UnaryOpProgram(aShape, opSnippet) {\n        this.variableNames = ['A'];\n        this.outputShape = aShape;\n        this.userCode = \"\\n      float unaryOperation(float x) {\\n        \" + opSnippet + \"\\n      }\\n\\n      void main() {\\n        float x = getAAtOutCoords();\\n        float y = unaryOperation(x);\\n\\n        setOutput(y);\\n      }\\n    \";\n    }\n    return UnaryOpProgram;\n}());\nexports.UnaryOpProgram = UnaryOpProgram;\nexports.CHECK_NAN_SNIPPET = \"\\n  if (isNaN(x)) {\\n    return x;\\n  }\\n\";\nexports.ABS = \"\\n  return abs(x);\\n\";\nexports.RELU = \"\\n  return (x < 0.0) ? 0.0 : x;\\n\";\nexports.ELU = \"\\n  return (x >= 0.0) ? x : (exp(x) - 1.0);\\n\";\nfunction LEAKY_RELU(alpha) {\n    return \"\\n    return (x >= 0.0) ? x : \" + alpha + \" * x;\\n  \";\n}\nexports.LEAKY_RELU = LEAKY_RELU;\nfunction STEP(alpha) {\n    if (alpha === void 0) { alpha = 0.0; }\n    return \"\\n    return (x == x) ? (x > 0.0 ? 1.0 : float(\" + alpha + \")) : x;\\n  \";\n}\nexports.STEP = STEP;\nexports.NEG = \"\\n  return -x;\\n\";\nexports.CEIL = \"\\n  return ceil(x);\\n\";\nexports.FLOOR = \"\\n  return floor(x);\\n\";\nexports.EXP = \"\\n  return exp(x);\\n\";\nexports.LOG = \"\\n  return log(x);\\n\";\nexports.SQRT = exports.CHECK_NAN_SNIPPET + \"\\n  return sqrt(x);\\n\";\nexports.SIGMOID = \"\\n  return 1.0 / (1.0 + exp(-1.0 * x));\\n\";\nexports.SIN = exports.CHECK_NAN_SNIPPET + \"\\n  return sin(x);\\n\";\nexports.COS = exports.CHECK_NAN_SNIPPET + \"\\n  return cos(x);\\n\";\nexports.TAN = \"\\n  return tan(x);\\n\";\nexports.ASIN = exports.CHECK_NAN_SNIPPET + \"\\n  return asin(x);\\n\";\nexports.ACOS = exports.CHECK_NAN_SNIPPET + \"\\n  return acos(x);\\n\";\nexports.ATAN = exports.CHECK_NAN_SNIPPET + \"\\n  return atan(x);\\n\";\nexports.SINH = \"\\n  float e2x = exp(x);\\n  return (e2x - 1.0 / e2x) / 2.0;\\n\";\nexports.COSH = \"\\n  float e2x = exp(-x);\\n  return (e2x + 1.0 / e2x) / 2.0;\\n\";\nexports.TANH = \"\\n  float e2x = exp(-2.0 * abs(x));\\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\\n\";\nexports.SQUARE = \"\\n  return x * x;\\n\";\n//# sourceMappingURL=unaryop_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/unaryop_gpu.js\n// module id = 36\n// module chunks = 0","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/eventemitter3/index.js\n// module id = 37\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/process/browser.js\n// module id = 38\n// module chunks = 0","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nconst sr = 44100;\nconst nyquist = sr / 2;\n\ninterface LayoutParams {\n  logX?: boolean\n  logY?: boolean\n}\n\nexport function plotAudio(y, layout) {\n  let t = y.map((value, index) => (index / sr));\n  return plotXY(t, y, layout);\n}\n\nexport function plotCoeffs(y, layout) {\n  let ind = y.map((value, index) => index);\n  return plotXY(ind, y, layout);\n}\n\nexport function plotFFT(fftMags, layout) {\n  // Convert magnitudes to dB.\n  const dbs = fftMags.map(val => 20 * Math.log10(val))\n  const times = fftMags.map((value, index) => index / fftMags.length * nyquist);\n  return plotXY(times, fftMags, layout);\n}\n\nexport function plotFilterbank(filterbank: Float32Array[], layout) {\n  let filter = filterbank[0];\n  const inds = filter.map((value, index) => index);\n  return plotXYs(inds, filterbank, layout, 8000);\n}\n\nexport function plotSpectrogram(spec, samplesPerSlice, layout) {\n  // The STFT as given is an Float32Array[]. We need to render that matrix as an\n  // image.\n  return plotImage(spec, samplesPerSlice, layout);\n}\n\n/**\n * Download the spectrogram as an image.\n */\ninterface SpecParams {\n  samplesPerSlice: number\n}\n\nexport function downloadSpectrogramImage(spec: Float32Array[]) {\n  // Render the spectrogram into a 2D canvas.\n  const canvas = document.createElement('canvas');\n  const times = spec.length;\n  const freqs = spec[0].length;\n  canvas.width = times;\n  canvas.height = freqs;\n  const ctx = canvas.getContext('2d');\n\n  for (let i = 0; i < times; i++) {\n    for (let j = 0; j < freqs; j++) {\n      const val = Math.floor(spec[i][j] * 255);\n      ctx.fillStyle = `rgb(${val}, ${val}, ${val})`;\n      ctx.strokeStyle = null;\n      ctx.fillRect(i, j, 1, 1);\n    }\n  }\n\n  // Download the canvas.\n  var link = document.createElement('a');\n  link.setAttribute('download', 'spec.png');\n  link.setAttribute('href', canvas.toDataURL('image/png').replace('image/png', 'image/octet-stream'));\n  link.click();\n}\n\nfunction plotImage(stft, samplesPerSlice, layout) {\n  let out = document.createElement('div');\n  out.className = 'plot';\n  // Transpose the spectrogram we pass in.\n  let zArr = [];\n  for (let i = 0; i < stft.length; i++) {\n    for (let j = 0; j < stft[0].length; j++) {\n      if (zArr[j] == undefined) {\n        zArr[j] = [];\n      }\n      zArr[j][i] = stft[i][j];\n    }\n  }\n  // Calculate the X values (times) from the stft params.\n  const xArr = stft.map((value, index) => index * samplesPerSlice / sr);\n  // Calculate Y values (frequencies) from stft.\n  const fft = Array.prototype.slice.call(stft[0]);\n  const yArr = fft.map((value, index) => (index / fft.length) * nyquist);\n\n  const data = [\n    {\n      x: xArr,\n      y: yArr,\n      z: zArr,\n      type: 'heatmap'\n    }\n  ];\n  Plotly.newPlot(out, data, layout);\n  return out;\n}\n\nfunction plotXY(x: Float32Array, y: Float32Array, layout) {\n  const out = document.createElement('div');\n  out.className = 'plot';\n  const xArr = Array.prototype.slice.call(x);\n  const yArr = Array.prototype.slice.call(y);\n  const data = [{\n    x: xArr,\n    y: yArr,\n  }]\n  Plotly.plot(out, data, layout);\n  return out;\n}\n\nfunction plotXYs(x: Float32Array, y: Float32Array[], layout, maxFreq: number) {\n  const out = document.createElement('div');\n  out.className = 'plot';\n  const xArr = Array.prototype.slice.call(x);\n\n  const data = y.map(y_i => {\n    const yArr = Array.prototype.slice.call(y_i);\n    return {\n      x: xArr.slice(0, maxFreq),\n      y: yArr.slice(0, maxFreq),\n    }\n  });\n  Plotly.plot(out, data, layout);\n  return out;\n}\n\nexport function createLayout(title, xTitle, yTitle, params: LayoutParams={}) {\n  const logY = (params.logY == true);\n  const logX = (params.logX == true);\n  return {\n    title: title,\n    xaxis: {\n      title: xTitle,\n      type: logX ? 'log' : null,\n    },\n    yaxis: {\n      title: yTitle,\n      type: logY ? 'log' : null,\n    }\n  };\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ../audio-features/src/PlotGraphs.ts","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nimport AudioUtils from './AudioUtils';\nimport CircularAudioBuffer from './CircularAudioBuffer';\nimport {EventEmitter} from 'eventemitter3';\n\nconst INPUT_BUFFER_LENGTH = 16384;\n\ninterface Params {\n  inputBufferLength?: number\n  bufferLength: number\n  hopLength: number\n  duration: number\n  melCount: number\n  targetSr: number\n  isMfccEnabled: boolean\n}\n\nconst audioCtx = new AudioContext();\n/**\n * Extracts various kinds of features from an input buffer. Designed for\n * extracting features from a live-running audio input stream.\n *\n * This class gets audio from an audio input stream, feeds it into a\n * ScriptProcessorNode, gets audio sampled at the input sample rate\n * (audioCtx.sampleRate).\n *\n * Once complete, we downsample it to EXAMPLE_SR, and then keep track of the\n * last hop index. Once we have enough data for a buffer of BUFFER_LENGTH,\n * process that buffer and add it to the spectrogram.\n */\nexport default class StreamingFeatureExtractor extends EventEmitter {\n  // The length of the input buffer, used in ScriptProcessorNode.\n  inputBufferLength: number\n  // Target sample rate.\n  targetSr: number\n  // How long the buffer is.\n  bufferLength: number\n  // How many buffers to keep in the spectrogram.\n  bufferCount: number\n  // How many mel bins to use.\n  melCount: number\n  // Number of samples to hop over for every new column.\n  hopLength: number\n  // How long the total duration is.\n  duration: number\n  // Whether to use MFCC or Mel features.\n  isMfccEnabled: boolean\n\n  // Where to store the latest spectrogram.\n  spectrogram: Float32Array[]\n  // The mel filterbank (calculate it only once).\n  melFilterbank: Float32Array[]\n\n  // Are we streaming right now?\n  isStreaming: boolean\n\n  // The script node doing the Web Audio processing.\n  scriptNode: ScriptProcessorNode\n  // The active stream.\n  stream: MediaStream\n\n  // For dealing with a circular buffer of audio samples.\n  circularBuffer: CircularAudioBuffer\n\n  // For debugging/playback, keep track of everything we've recorded.\n  playbackBuffer: CircularAudioBuffer\n\n  // Time when the streaming began. This is used to check whether\n  // ScriptProcessorNode has dropped samples.\n  processStartTime: Date\n\n  // Number of samples we've encountered in our ScriptProcessorNode\n  // onAudioProcess.\n  processSampleCount: number\n\n  // A proxy for loudness.\n  lastEnergyLevel: number\n\n  constructor(params: Params) {\n    super();\n\n    const {bufferLength, duration, hopLength, isMfccEnabled,\n      melCount, targetSr, inputBufferLength} = params;\n    this.bufferLength = bufferLength;\n    this.inputBufferLength = inputBufferLength || INPUT_BUFFER_LENGTH;\n    this.hopLength = hopLength;\n    this.melCount = melCount;\n    this.isMfccEnabled = isMfccEnabled;\n    this.targetSr = targetSr;\n    this.duration = duration;\n    this.bufferCount = Math.floor(\n      (duration * targetSr - bufferLength) / hopLength) + 1;\n\n    if (hopLength > bufferLength) {\n      console.error('Hop length must be smaller than buffer length.');\n    }\n\n    // The mel filterbank is actually half of the size of the number of samples,\n    // since the FFT array is complex valued.\n    this.melFilterbank = AudioUtils.createMelFilterbank(\n      this.bufferLength/2 + 1, this.melCount);\n    this.spectrogram = [];\n    this.isStreaming = false;\n\n    const nativeSr = audioCtx.sampleRate;\n\n    // Allocate the size of the circular analysis buffer.\n    const resampledBufferLength = Math.max(bufferLength, this.inputBufferLength) *\n      (targetSr / nativeSr) * 4;\n    this.circularBuffer = new CircularAudioBuffer(resampledBufferLength);\n\n    // Calculate how many buffers will be enough to keep around to playback.\n    const playbackLength = nativeSr * this.duration * 2;\n    this.playbackBuffer = new CircularAudioBuffer(playbackLength);\n  }\n\n  getSpectrogram() {\n    return this.spectrogram;\n  }\n\n  start() {\n    // Clear all buffers.\n    this.circularBuffer.clear();\n    this.playbackBuffer.clear();\n\n    // Reset start time and sample count for ScriptProcessorNode watching.\n    this.processStartTime = new Date();\n    this.processSampleCount = 0;\n\n    const constraints = {audio: {\n      \"mandatory\": {\n        \"googEchoCancellation\": \"false\",\n        \"googAutoGainControl\": \"false\",\n        \"googNoiseSuppression\": \"false\",\n        \"googHighpassFilter\": \"false\"\n      },\n    } , video: false};\n    navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n      this.stream = stream;\n      this.scriptNode = audioCtx.createScriptProcessor(this.inputBufferLength, 1, 1);\n      const source = audioCtx.createMediaStreamSource(stream);\n      source.connect(this.scriptNode);\n      this.scriptNode.connect(audioCtx.destination);\n\n      this.scriptNode.onaudioprocess = this.onAudioProcess.bind(this);\n\n      this.isStreaming = true;\n    });\n  }\n\n  stop() {\n    for (let track of this.stream.getTracks()) {\n      track.stop();\n    }\n    this.scriptNode.disconnect(audioCtx.destination);\n    this.stream = null;\n    this.isStreaming = false;\n  }\n\n  getEnergyLevel() {\n    return this.lastEnergyLevel;\n  }\n\n  /**\n   * Debug only: for listening to what was most recently recorded.\n   */\n  getLastPlaybackBuffer() {\n    return this.playbackBuffer.getBuffer();\n  }\n\n  private onAudioProcess(audioProcessingEvent) {\n    const audioBuffer = audioProcessingEvent.inputBuffer;\n\n    // Add to the playback buffers, but make sure we have enough room.\n    const remaining = this.playbackBuffer.getRemainingLength();\n    const arrayBuffer = audioBuffer.getChannelData(0);\n    this.processSampleCount += arrayBuffer.length;\n    if (remaining < arrayBuffer.length) {\n      this.playbackBuffer.popBuffer(arrayBuffer.length);\n      //console.log(`Freed up ${arrayBuffer.length} in the playback buffer.`);\n    }\n    this.playbackBuffer.addBuffer(arrayBuffer);\n\n    // Resample the buffer into targetSr.\n    //console.log(`Resampling from ${audioCtx.sampleRate} to ${this.targetSr}.`);\n    resampleWebAudio(audioBuffer, this.targetSr).then((audioBufferRes: AudioBuffer) => {\n      const bufferRes = audioBufferRes.getChannelData(0);\n      // Write in a buffer of ~700 samples.\n      this.circularBuffer.addBuffer(bufferRes);\n    });\n\n    // Get buffer(s) out of the circular buffer. Note that there may be multiple\n    // available, and if there are, we should get them all.\n    const buffers = this.getFullBuffers();\n    if (buffers.length > 0) {\n      //console.log(`Got ${buffers.length} buffers of audio input data.`);\n    }\n\n    for (let buffer of buffers) {\n      //console.log(`Got buffer of length ${buffer.length}.`);\n      // Extract the mel values for this new frame of audio data.\n      const fft = AudioUtils.fft(buffer);\n      const fftEnergies = AudioUtils.fftEnergies(fft);\n      const melEnergies = AudioUtils.applyFilterbank(fftEnergies, this.melFilterbank);\n      const mfccs = AudioUtils.cepstrumFromEnergySpectrum(melEnergies);\n\n      if (this.isMfccEnabled) {\n        this.spectrogram.push(mfccs);\n      } else {\n        this.spectrogram.push(melEnergies);\n      }\n      if (this.spectrogram.length > this.bufferCount) {\n        // Remove the first element in the array.\n        this.spectrogram.splice(0, 1);\n      }\n\n      if (this.spectrogram.length == this.bufferCount) {\n        // Notify that we have an updated spectrogram.\n        this.emit('update');\n      }\n\n      const totalEnergy = melEnergies.reduce((total, num) => total + num);\n      this.lastEnergyLevel = totalEnergy / melEnergies.length;\n    }\n\n    const elapsed = (new Date().valueOf() - this.processStartTime.valueOf()) / 1000;\n    const expectedSampleCount = (audioCtx.sampleRate * elapsed);\n    const percentError = Math.abs(expectedSampleCount - this.processSampleCount) /\n      this.processSampleCount;\n    if (percentError > 0.1) {\n      console.warn(`ScriptProcessorNode may be dropping samples. Percent error is ${percentError}.`);\n    }\n  }\n\n  /**\n   * Get as many full buffers as are available in the circular buffer.\n   */\n  private getFullBuffers() {\n    const out = [];\n    // While we have enough data in the buffer.\n    while (this.circularBuffer.getLength() > this.bufferLength) {\n      // Get a buffer of desired size.\n      const buffer = this.circularBuffer.getBuffer(this.bufferLength);\n      // Remove a hop's worth of data from the buffer.\n      this.circularBuffer.popBuffer(this.hopLength);\n      out.push(buffer);\n    }\n    return out;\n  }\n}\n\nfunction resampleWebAudio(audioBuffer: AudioBuffer, targetSr: number) {\n  const sourceSr = audioBuffer.sampleRate;\n  const lengthRes = audioBuffer.length * targetSr/sourceSr;\n  const offlineCtx = new OfflineAudioContext(1, lengthRes, targetSr);\n\n  return new Promise((resolve, reject) => {\n    const bufferSource = offlineCtx.createBufferSource();\n    bufferSource.buffer = audioBuffer;\n    offlineCtx.oncomplete = function(event) {\n      const bufferRes = event.renderedBuffer;\n      const len = bufferRes.length;\n      //console.log(`Resampled buffer from ${audioBuffer.length} to ${len}.`);\n      resolve(bufferRes);\n    }\n    bufferSource.connect(offlineCtx.destination);\n    bufferSource.start();\n    offlineCtx.startRendering();\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../audio-features/src/StreamingFeatureExtractor.ts","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\ninterface Params {\n  title: string\n  axisTitles: string[]\n}\n\nexport default class LinePlot {\n  el: HTMLElement\n  title: string\n  axisTitles: string[]\n  initDate: Date\n\n  constructor(params: Params) {\n    const {title, axisTitles} = params;\n    this.title = title;\n    this.axisTitles = axisTitles;\n\n    this.el = this.createPlotElement();\n    this.initDate = new Date();\n  }\n\n  add(t: number, data: number | number[]) {\n    if (!data.length) {\n      data = [data];\n    }\n    const indices = data.map((val, ind) => val ? ind : null)\n      .filter(ind => ind != null);\n    const x = indices.map(val => [t]);\n    const y = indices.map(ind => [data[ind]]);\n    const update = {x, y};\n    Plotly.extendTraces(this.el, update, indices);\n  }\n\n  elapsed() {\n    return (new Date() - this.initDate) / 1000;\n  }\n\n  getElement() {\n    return this.el;\n  }\n\n  private createPlotElement() {\n    // Render a new Plotly plot.\n    const out = document.createElement('div');\n    out.className = 'plot';\n    const data = [\n      {x: [], y: [], type: 'line'},\n      {x: [], y: [], type: 'line', yaxis: 'y2'},\n    ];\n    const layout = {\n      title: this.title,\n      showlegend: false,\n      yaxis: {\n        title: this.axisTitles[0],\n      },\n      yaxis2: {\n        title: this.axisTitles[1],\n        overlaying: 'y',\n        side: 'right',\n      }\n    }\n    Plotly.newPlot(out, data, layout);\n    return out;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/LinePlot.ts","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nimport {\n  Array1D, Array4D,\n  CostReduction,\n  FeedEntry,\n  Graph,\n  InCPUMemoryShuffledInputProviderBuilder,\n  InMemoryDataset,\n  MetricReduction,\n  NDArray,\n  NDArrayInitializer,\n  NDArrayMathGPU,\n  Optimizer,\n  Session,\n  Scalar,\n  SGDOptimizer,\n  Tensor,\n  util, VarianceScalingInitializer, ZerosInitializer,\n} from 'deeplearn';\nimport {EventEmitter} from 'eventemitter3';\nimport {GraphWeights} from './GraphSaverLoader';\n\nimport SpeechCommandDataset from './SpeechCommandDataset';\n\n// Values from model-builder.ts.\nconst BATCH_SIZE = 64;\nconst NUM_BATCHES = 10000;\nconst MIN_COST_VALUE = 0.1;\nconst TRAIN_TEST_RATIO = 0.9;\nconst LEARNING_RATE = 0.01;\n\nexport default class ModelBuilder {\n  modelInitialized: boolean\n\n  session: Session\n  graph: Graph\n  optimizer: Optimizer\n  math: NDArrayMathGPU\n\n  inputShape: number[]\n  labelShape: number[]\n  learningRate: number\n\n  inputTensor: Tensor\n  labelTensor: Tensor\n  regularizationTensor: Tensor\n  predictionTensor: Tensor\n  costTensor: Tensor\n  accuracyTensor: Tensor\n\n  nodeIndex: number\n  dataSet: SpeechCommandDataset\n\n  totalTimeSec: number\n\n  isTraining: boolean\n  progress: EventEmitter\n\n  constructor(inputShape, labelShape, dataSet=null) {\n    this.nodeIndex = 0;\n\n    this.dataSet = dataSet;\n\n    // Dimensions of the Mel spectrogram we feed into this model.\n    this.inputShape = inputShape;\n\n    // Shape of the 1D one-hot encoded labels.\n    this.labelShape = labelShape;\n\n    this.isTraining = false;\n    this.math = new NDArrayMathGPU();\n\n    this.progress = new EventEmitter();\n    this.learningRate = LEARNING_RATE;\n  }\n\n  createModel(loadedWeights: GraphWeights=null) {\n    if (this.session != null) {\n      this.session.dispose();\n    }\n    // Reset the node index.\n    this.nodeIndex = 0;\n\n    this.modelInitialized = false;\n\n    this.graph = new Graph();\n    const g = this.graph;\n    this.inputTensor = g.placeholder('input', this.inputShape);\n    this.labelTensor = g.placeholder('label', this.labelShape);\n\n    // Construct the hidden layers.\n    let network = this.inputTensor;\n    network = this.addConv2d(g, network, 8, loadedWeights);\n    const reg1 = this.addRegularization(g, network);\n    network = this.addRelu(g, network);\n    network = this.addMaxPool(g, network);\n    network = this.addConv2d(g, network, 16, loadedWeights)\n    const reg2 = this.addRegularization(g, network);\n    network = this.addRelu(g, network);\n    network = this.addMaxPool(g, network);\n    network = this.addFlatten(g, network);\n    network = this.addFullyConnected(g, network, loadedWeights);\n    const reg3 = this.addRegularization(g, network);\n\n    this.predictionTensor = network;\n\n    // Add a regularization parameter.\n    this.regularizationTensor = g.add(reg1, reg2, reg3);\n    const softmaxCrossEntropyCostTensor =\n      g.softmaxCrossEntropyCost(this.predictionTensor, this.labelTensor);\n\n    //this.costTensor = g.add(softmaxCrossEntropyCostTensor, this.regularizationTensor);\n    this.costTensor = softmaxCrossEntropyCostTensor;\n    this.accuracyTensor =\n        g.argmaxEquals(this.predictionTensor, this.labelTensor);\n\n    this.session = new Session(g, this.math);\n\n    this.modelInitialized = true;\n  }\n\n  setLearningRate(learningRate: number) {\n    this.learningRate = learningRate;\n  }\n\n  async startTraining() {\n    console.log('startTraining');\n    const trainingData = this.getTrainingData();\n\n    const trainingShuffledInputProviderGenerator =\n      new InCPUMemoryShuffledInputProviderBuilder(trainingData);\n    const [trainingInputProvider, trainingLabelProvider] =\n      trainingShuffledInputProviderGenerator.getInputProviders();\n\n    const trainingFeeds = [\n      {tensor: this.inputTensor, data: trainingInputProvider},\n      {tensor: this.labelTensor, data: trainingLabelProvider}\n    ];\n\n    this.isTraining = true;\n\n    let minCost = Infinity;\n    let maxAccuracy = -Infinity;\n    // Training is broken up into batches.\n    // Before we start training, we need to provide an optimizer. This is the\n    // object that is responsible for updating weights. The learning rate param\n    // is a value that represents how large of a step to make when updating\n    // weights. If this is too big, you may overstep and oscillate. If it is too\n    // small, the model may take a long time to train.\n    const optimizer = new SGDOptimizer(this.learningRate);\n    console.log(`Training ${NUM_BATCHES} batches of size ${BATCH_SIZE}` +\n      ` at rate: ${this.learningRate}.`);\n    for (let i = 0; i < NUM_BATCHES; i++) {\n      // Train takes a cost tensor to minimize; this call trains one batch and\n      // returns the average cost of the batch as a Scalar.\n      const costValue = this.session.train(\n        this.costTensor, trainingFeeds,\n        BATCH_SIZE, optimizer, CostReduction.MEAN);\n\n      const cost = parseFloat(await costValue.data());\n      console.log(`#${i}: cost: ${cost.toFixed(3)}.`);\n      if (cost < minCost) {\n        minCost = cost;\n      }\n      if (!this.isTraining) {\n        break;\n      }\n\n      if (i % 20 == 0) {\n        const accuracy = await this.getTestAccuracy(50);\n        if (accuracy > maxAccuracy) {\n          maxAccuracy = accuracy;\n        }\n        console.log(`#${i}: accuracy: ${accuracy.toFixed(3)},`\n            + ` maxAccuracy: ${maxAccuracy.toFixed(3)}.`);\n        this.progress.emit('accuracy', {accuracy, maxAccuracy});\n      }\n      this.progress.emit('cost', {cost, minCost});\n    }\n\n    this.isTraining = false;\n  }\n\n  async getTestAccuracy(limit?: number) {\n    const testData = this.getTestData();\n\n    const totalCount = testData[0].length;\n    if (!limit) {\n      limit = totalCount;\n    }\n    const count = Math.min(limit, totalCount);\n    let accurateCount = 0;\n    for (let i = 0; i < count; i++) {\n      const ind = Math.floor(Math.random() * totalCount);\n      const input = testData[0][ind];\n      const label = testData[1][ind];\n      const inferenceFeeds = [\n        {tensor: this.inputTensor, data: input},\n        {tensor: this.labelTensor, data: label},\n      ];\n      const result = this.session.eval(this.accuracyTensor, inferenceFeeds);\n      /*\n      // Output regularization value for debugging.\n      const regularization = this.session.eval(this.regularizationTensor, inferenceFeeds);\n      console.log('regularizationTensor', regularization.dataSync());\n       */\n      const accuracy = await result.data()\n      if (accuracy[0]) {\n        accurateCount += 1;\n      }\n    }\n    return (accurateCount / count);\n  }\n\n  stopTraining() {\n    console.log('Stopped training!');\n    this.isTraining = false;\n  }\n\n  private addConv2d(g: Graph, network: Tensor, outputDepth: number,\n    init: GraphWeights=null) {\n    // 5x5 square filter.\n    const fieldSize = 5;\n    const stride = 1;\n    const zeroPad = 2;\n    const wShape =\n        [fieldSize, fieldSize, network.shape[2], outputDepth];\n    const wName = `save-conv2d-${this.nodeIndex}-w`;\n    const bName = `save-conv2d-${this.nodeIndex}-b`;\n    let w = NDArray.randTruncatedNormal(wShape, 0, 0.1);\n    let b = Array1D.zeros([outputDepth]);\n    if (init) {\n      w = init[wName];\n      b = init[bName];\n    }\n    const wTensor = g.variable(wName, w);\n    const bTensor = g.variable(bName, b);\n    this.nodeIndex += 1;\n    return g.conv2d(\n        network, wTensor, bTensor, fieldSize, outputDepth,\n        stride, zeroPad);\n  }\n\n  private addRelu(g: Graph, network: Tensor) {\n    return g.relu(network);\n  }\n\n  private addMaxPool(g: Graph, network: Tensor) {\n    const fieldSize = 2;\n    // Was previously stride=2 in the MNIST network. Changed this value because\n    // of the input size.\n    const stride = 1;\n    const zeroPad = 0;\n    return g.maxPool(network, fieldSize, stride, zeroPad);\n  }\n\n  private addFlatten(g: Graph, network: Tensor) {\n    const size = util.sizeFromShape(network.shape);\n    return g.reshape(network, [size]);\n  }\n\n  private addFullyConnected(g: Graph, network: Tensor, init: GraphWeights=null) {\n    const inputSize = util.sizeFromShape(network.shape);\n    const hiddenUnits = this.labelShape[0];\n\n    let weightsInitializer, biasInitializer;\n    if (init) {\n      weightsInitializer = new NDArrayInitializer(init['save-fc1-weights']);\n      biasInitializer = new NDArrayInitializer(init['save-fc1-bias']);\n    } else {\n      weightsInitializer = new VarianceScalingInitializer();\n      biasInitializer = new ZerosInitializer();\n    }\n\n    const useBias = true;\n    return g.layers.dense(\n        'save-fc1', network, hiddenUnits, null, useBias, weightsInitializer,\n        biasInitializer);\n  }\n\n  private addRegularization(g: Graph, network: Tensor) {\n    const beta = 0.01;\n    const betaTensor = g.variable('beta', Scalar.new(beta));\n    return g.multiply(betaTensor, g.reduceSum(g.square(network)));\n  }\n\n  private getTestData(): NDArray[][] {\n    const data = this.dataSet.getData();\n    if (data == null) {\n      return null;\n    }\n    const [images, labels] = this.dataSet.getData() as [NDArray[], NDArray[]];\n\n    const start = Math.floor(TRAIN_TEST_RATIO * images.length);\n\n    return [images.slice(start), labels.slice(start)];\n  }\n\n  private getTrainingData(): NDArray[][] {\n    const [images, labels] = this.dataSet.getData() as [NDArray[], NDArray[]];\n\n    const end = Math.floor(TRAIN_TEST_RATIO * images.length);\n\n    return [images.slice(0, end), labels.slice(0, end)];\n  }\n\n  private getTrainingCount() {\n    const [images, labels] = this.dataSet.getData() as [NDArray[], NDArray[]];\n    return TRAIN_TEST_RATIO * images.length;\n  }\n\n  async startInference() {\n    const testData = this.getTestData();\n    console.log(`Running inference on ${testData.length} points.`);\n\n    const inferenceShuffledInputProviderGenerator =\n      new InCPUMemoryShuffledInputProviderBuilder(testData);\n    const [inferenceInputProvider, inferenceLabelProvider] =\n      inferenceShuffledInputProviderGenerator.getInputProviders();\n\n    const inferenceFeeds = [\n      {tensor: this.inputTensor, data: inferenceInputProvider},\n      {tensor: this.labelTensor, data: inferenceLabelProvider}\n    ];\n\n    const result = this.session.eval(this.predictionTensor, inferenceFeeds);\n    console.log(await result.data());\n  }\n\n  predict(input: NDArray) {\n    const inferenceFeeds = [\n      {tensor: this.inputTensor, data: input}\n    ];\n    return this.session.eval(this.predictionTensor, inferenceFeeds);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ModelBuilder.ts","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nimport AudioUtils from '../../audio-features/src/AudioUtils';\nimport {EventEmitter} from 'eventemitter3';\nimport FeatureExtractor from './FeatureExtractor';\nimport {Array1D, Array3D, NDArray, InMemoryDataset} from 'deeplearn';\n\nconst INPUT_INDEX = 0;\nconst LABEL_INDEX = 1;\n// How much background noise to add to the spoken classes.\nconst SPEECH_BG_GAIN = 0.05;\n// How much background noise gain to add to the silence class.\nconst SILENCE_BG_GAIN = 0.2;\n// How long (in seconds) each example is in the batched audio training data.\nconst BATCH_EXAMPLE_DURATION = 1;\nconst EXAMPLE_SR = 16000;\n\nconst DATA_ROOT = 'speech_commands_v0.01'\nconst BACKGROUND_LIST = 'background.txt';\n\ninterface DataSetConfig {\n  labelNames?: string[]\n  dataUrl: string\n  isMfccEnabled: boolean\n  dataExtension: string\n}\n\nexport default class SpeechCommandDataset extends InMemoryDataset {\n  labelNames: string[]\n  dataUrl: string\n  dataExtension: string\n  isMfccEnabled: boolean\n  buffers: {[key: string]: Float32Array}\n\n  inputs: Array3D[]\n  labels: Array1D[]\n  metadata: string[]\n  dataset: any\n\n  timestamp: number\n  loadedSinceTimestamp: number\n\n  // Where to store background noise arrays.\n  backgroundBuffers: Float32Array[]\n\n  // DEBUG ONLY.\n  debugBuffers: Float32Array[]\n\n  progress: EventEmitter\n\n  constructor(inputShape, labelShape, params: DataSetConfig) {\n    super([inputShape, labelShape]);\n\n    const {labelNames, dataUrl, dataExtension, isMfccEnabled} = params;\n    this.labelNames = labelNames;\n    this.dataUrl = dataUrl;\n    this.dataExtension = dataExtension;\n    this.isMfccEnabled = isMfccEnabled;\n\n    this.inputs = [];\n    this.labels = [];\n    this.metadata = [];\n    this.debugBuffers = [];\n    this.dataset = [this.inputs, this.labels, this.metadata, this.debugBuffers];\n\n    this.timestamp = null;\n    this.loadedSinceTimestamp = 0;\n    this.backgroundBuffers = [];\n    this.buffers = {};\n\n    this.progress = new EventEmitter();\n  }\n\n  async fetchAll() {\n    return this.fetchBackgroundNoise().then(e => {\n      return this.fetchData();\n    });\n  }\n\n  getCount() {\n    return this.inputs.length;\n  }\n\n  /**\n   * Loads big wav/mp3s that were created by concatenating all training examples\n   * with the same label into one file. Examples are spaced every 1s.\n   */\n  async fetchData() {\n    const chunkLength = BATCH_EXAMPLE_DURATION * EXAMPLE_SR;\n    // Fetch data for all of the labels we care about.\n    for (let [labelIndex, label] of this.labelNames.entries()) {\n      // Ignore the \"silence\" label.\n      if (label == 'silence') {\n        continue;\n      }\n      const filename = `${label}.${this.dataExtension}`;\n      const url = `${this.dataUrl}/${filename}`;\n      const audioBuffer = await AudioUtils.loadBufferOffline(url);\n      const buffer = audioBuffer.getChannelData(0);\n      this.buffers[label] = buffer;\n      const chunkCount = Math.floor(buffer.length / chunkLength);\n      const message = `Downloaded ${filename}, containing ${chunkCount} examples.`;\n      const percentProgress = (labelIndex + 1) / this.labelNames.length;\n      this.emitProgressUpdate(percentProgress / 2, message);\n    }\n\n    this.emitProgressUpdate(0.5, 'Unpacking audio into examples...');\n\n    let labelIndex = 0;\n    for (let label in this.buffers) {\n      // Split the buffer into chunks of 1s each, and use each chunk as an\n      // training example.\n      const buffer = this.buffers[label];\n      const chunkCount = Math.floor(buffer.length / chunkLength);\n      for (let i = 0; i < chunkCount; i++) {\n        // Add this chunk to the training data.\n        const chunk = buffer.slice(i * chunkLength, (i+1) * chunkLength);\n        // First add random background noise to each sample.\n        const bgNoise = this.randomBackgroundBuffer(chunk.length, SPEECH_BG_GAIN);\n        pointwiseAddInPlace(chunk, bgNoise);\n\n        const input = FeatureExtractor.bufferToFeature(chunk, this.isMfccEnabled);\n        this.addExample(input, label, `batch-${label}`, chunk);\n\n        if (i % 50 == 0) {\n          const message = `Extracted ${i} of ${chunkCount} examples labeled ${label}.`;\n          // Wait an instance to let the DOM update.\n          await sleep(0.01);\n          const totalChunks = chunkCount * this.labelNames.length;\n          const chunksPerLabel = totalChunks / this.labelNames.length;\n          const currentChunk = labelIndex * chunksPerLabel + i;\n          const percentProgress = currentChunk / totalChunks;\n          // Half is downloading, half is feature extraction.\n          this.emitProgressUpdate((1 + percentProgress) / 2, message);\n        }\n      }\n      labelIndex += 1;\n    }\n    this.emitProgressUpdate(1, 'Loading complete!');\n  }\n\n  async fetchBackgroundNoise() {\n    const url = `${this.dataUrl}/_background_noise_.${this.dataExtension}`;\n    return AudioUtils.loadBuffer(url).then((audioBuffer: AudioBuffer) => {\n      const buffer = audioBuffer.getChannelData(0);\n      this.backgroundBuffers.push(buffer);\n    });\n  }\n\n  normalize() {\n    this.normalizeWithinBounds(INPUT_INDEX, 0, 1);\n  }\n\n  addSilence(exampleCount: number, label: string) {\n    // Use a random background noise array for silence, with no utterance.\n    for (let i = 0; i < exampleCount; i++) {\n      // TODO: Fix this hard coded crap.\n      const silenceBuffer = this.randomBackgroundBuffer(EXAMPLE_SR,\n        Math.random() * SILENCE_BG_GAIN);\n      const input = FeatureExtractor.bufferToFeature(silenceBuffer);\n      this.addExample(input, label, 'silence', silenceBuffer);\n    }\n    console.log(`Adding ${exampleCount} examples of ${label}.`);\n  }\n\n  private addExample(input, labelName, metadata, buffer: Float32Array) {\n    const label = this.labelToOneHot(labelName)\n\n    // Insert the example at a random index, so we end up with a shuffled array.\n    const ind = Math.floor(Math.random() * this.inputs.length);\n    this.inputs.splice(ind, 0, input);\n    this.labels.splice(ind, 0, label);\n    this.metadata.splice(ind, 0, metadata);\n    // Save the buffer for later investigation.\n    this.debugBuffers.splice(ind, 0, buffer);\n  }\n\n  private labelToOneHot(label: string) {\n    const shape = [this.dataShapes[LABEL_INDEX][0]];\n    const oneHot = Array1D.zeros(shape, 'float32');\n    const index = this.labelNames.indexOf(label);\n    oneHot.set(1, index);\n    return oneHot;\n  }\n\n  private randomBackgroundBuffer(length: number, gain: number) {\n    const out = new Float32Array(length);\n    // Pick a random buffer.\n    const buffer = randomChoice(this.backgroundBuffers);\n    // Pick a random part of that buffer to match our length.\n    const ind = Math.floor((buffer.length - length) * Math.random());\n    out.set(buffer.slice(ind, ind + length));\n    pointwiseMultiplyInPlace(out, gain);\n    return out;\n  }\n\n  private emitProgressUpdate(percent: number, message: string) {\n    this.progress.emit('update', percent, message);\n  }\n}\n\nfunction randomChoice(arr) {\n  const ind = Math.floor(Math.random() * arr.length);\n  return arr[ind];\n}\n\nfunction pointwiseAddInPlace(target: Float32Array, arr: Float32Array) {\n  if (target.length != arr.length) {\n    console.error(`Arrays aren't the same size (${target.length} !=\n      ${arr.length}).`);\n    return;\n  }\n  for (let i = 0; i < target.length; i++) {\n    target[i] += arr[i];\n  }\n}\n\nfunction pointwiseMultiplyInPlace(target: Float32Array, gain: number) {\n  for (let i = 0; i < target.length; i++) {\n    target[i] *= gain;\n  }\n}\n\nasync function sleep(time) {\n  return new Promise((resolve, reject) => {\n    setTimeout(resolve, time * 1000);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/SpeechCommandDataset.ts","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nexport function labelArrayToString(label: Float32Array, allLabels: string[]) {\n  const [ind, _] = argmax(label);\n  return allLabels[ind];\n}\n\nexport function argmax(array: Float32Array) {\n  let max = -Infinity;\n  let argmax = -1;\n  for (let i = 0; i < array.length; i++) {\n    if (array[i] > max) {\n      max = array[i];\n      argmax = i;\n    }\n  }\n  return [argmax, max];\n}\n\nexport function getParameterByName(name: string, url?: string) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n    results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.ts","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\n/**\n * Save Float32Array in arbitrarily sized chunks.\n * Load Float32Array in arbitrarily sized chunks.\n * Determine if there's enough data to grab a certain amount.\n */\nexport default class CircularAudioBuffer {\n  buffer: Float32Array\n  // The index that we are currently full up to. New data is written from\n  // [currentIndex + 1, maxLength]. Data can be read from [0, currentIndex].\n  currentIndex: number\n\n  constructor(maxLength: number) {\n    this.buffer = new Float32Array(maxLength);\n    this.currentIndex = 0;\n  }\n\n  /**\n   * Add a new buffer of data. Called when we get new audio input samples.\n   */\n  addBuffer(newBuffer: Float32Array) {\n    // Do we have enough data in this buffer?\n    const remaining = this.buffer.length - this.currentIndex;\n    if (this.currentIndex + newBuffer.length > this.buffer.length) {\n      console.error(`Not enough space to write ${newBuffer.length}` +\n        ` to this circular buffer with ${remaining} left.`);\n      return;\n    }\n    this.buffer.set(newBuffer, this.currentIndex);\n    //console.log(`Wrote ${newBuffer.length} entries to index ${this.currentIndex}.`);\n    this.currentIndex += newBuffer.length;\n  }\n\n  /**\n   * How many samples are stored currently?\n   */\n  getLength() {\n    return this.currentIndex;\n  }\n\n  /**\n   * How much space remains?\n   */\n  getRemainingLength() {\n    return this.buffer.length - this.currentIndex;\n  }\n\n  /**\n   * Return the first N samples of the buffer, and remove them. Called when we\n   * want to get a buffer of audio data of a fixed size.\n   */\n  popBuffer(length: number) {\n    // Do we have enough data to read back?\n    if (this.currentIndex < length) {\n      console.error(`This circular buffer doesn't have ${length} entries in it.`);\n      return;\n    }\n    if (length == 0) {\n      console.warn(`Calling popBuffer(0) does nothing.`);\n      return;\n    }\n    const popped = this.buffer.slice(0, length);\n    const remaining = this.buffer.slice(length, this.buffer.length);\n    // Remove the popped entries from the buffer.\n    this.buffer.fill(0);\n    this.buffer.set(remaining, 0);\n    // Send the currentIndex back.\n    this.currentIndex -= length;\n    return popped;\n  }\n\n  /**\n   * Get the the first part of the buffer without mutating it.\n   */\n  getBuffer(length?: number) {\n    if (!length) {\n      length = this.getLength();\n    }\n    // Do we have enough data to read back?\n    if (this.currentIndex < length) {\n      console.error(`This circular buffer doesn't have ${length} entries in it.`);\n      return;\n    }\n    return this.buffer.slice(0, length);\n  }\n\n  clear() {\n    this.currentIndex = 0;\n    this.buffer.fill(0);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../audio-features/src/CircularAudioBuffer.ts","/**\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\nimport {Array1D} from 'deeplearn';\nimport AudioUtils from '../../audio-features/src/AudioUtils';\nimport FeatureExtractor, {BUFFER_LENGTH, EXAMPLE_SR, HOP_LENGTH,\n    MEL_COUNT, IS_MFCC_ENABLED} from './FeatureExtractor';\nimport {saveGraphWeights, loadGraphWeights} from './GraphSaverLoader';\nimport {saveGraphWeightsJSON, loadGraphWeightsJSON} from './GraphSaverLoader';\nimport LinePlot from './LinePlot';\nimport ModelBuilder from './ModelBuilder';\nimport {plotSpectrogram, downloadSpectrogramImage, createLayout} from '../../audio-features/src/PlotGraphs';\nimport SpeechCommandDataset from './SpeechCommandDataset';\nimport StreamingFeatureExtractor\n    from '../../audio-features/src/StreamingFeatureExtractor';\nimport {labelArrayToString, argmax, getParameterByName} from './util';\n\nconst SILENCE_LABEL = 'silence';\nconst SILENCE_PERCENTAGE = 0.3;\n\nconst modelParam = getParameterByName('model');\nconst dataUrlParam = getParameterByName('data_url') || 'data';\nconst dataExtensionParam = getParameterByName('data_extension') || 'wav';\n\nlet ALL_LABELS = ['yes', 'no', 'other', SILENCE_LABEL];\n\nif (modelParam == 'number') {\n  ALL_LABELS = ['zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven',\n    'eight', 'nine', 'other', SILENCE_LABEL];\n} else if (modelParam == 'all') {\n  ALL_LABELS = ['bed', 'bird', 'cat', 'dog', 'down', 'eight', 'five',\n    'four', 'go', 'happy', 'house', 'left', 'marvin', 'nine', 'no', 'off', 'on',\n    'one', 'right', 'seven', 'sheila', 'six', 'stop', 'three', 'tree', 'two',\n    'up', 'wow', 'yes', 'zero', SILENCE_LABEL];\n  dataUrlParam = 'data_all';\n}\n\nconst labelShape = [ALL_LABELS.length];\nconst inputShape = FeatureExtractor.getFeatureShape();\nconst IS_TRAINING_MODE = true;\n\n// Load some part of the speech command training set.\nconst config = {\n  labelNames: ALL_LABELS,\n  isMfccEnabled: IS_MFCC_ENABLED,\n  dataUrl: dataUrlParam,\n  dataExtension: dataExtensionParam,\n}\n\nconst dataSet = new SpeechCommandDataset(inputShape, labelShape, config);\ndataSet.progress.on('update', onDataLoadUpdate);\n\n// Load the model.\nconst model = new ModelBuilder(inputShape, labelShape, dataSet);\nmodel.createModel();\nmodel.progress.on('accuracy', onTrainAccuracyUpdate);\nmodel.progress.on('cost', onTrainCostUpdate);\n\nif (IS_TRAINING_MODE) {\n  dataSet.fetchAll().then(() => {\n    // Add some silence, at some percentage.\n    const total = dataSet.getCount();\n    const silenceCount = Math.floor(total * SILENCE_PERCENTAGE);\n    dataSet.addSilence(silenceCount, SILENCE_LABEL);\n\n    //model.startTraining();\n  });\n}\n\nconst progressEl = document.querySelector('#progress-bar') as HTMLElement;\nconst progressLabelEl = document.querySelector('#progress-label') as HTMLElement;\nconst trainEl = document.querySelector('#train') as HTMLElement;\nconst predictEl = document.querySelector('#predict') as HTMLElement;\nconst streamEl = document.querySelector('#stream') as HTMLElement;\nconst plotEl = document.querySelector('#plot') as HTMLElement;\nconst saveEl = document.querySelector('#save') as HTMLElement;\nconst saveFileEl = document.querySelector('#save-file') as HTMLElement;\nconst loadEl = document.querySelector('#load') as HTMLElement;\nconst loadFileEl = document.querySelector('#load-file') as HTMLElement;\nconst outEl = document.querySelector('#out') as HTMLElement;\n\nlet trainPlot = null;\nfunction onTrain() {\n  if (model.isTraining) {\n    model.stopTraining();\n    trainEl.innerHTML = 'Train';\n  } else {\n    model.startTraining();\n    trainEl.innerHTML = 'Stop training';\n\n    trainPlot = new LinePlot({\n      title: 'Training score',\n      axisTitles: ['Cost', 'Accuracy'],\n    });\n    const parentEl = document.querySelector('#out');\n    parentEl.innerHTML = '';\n    parentEl.appendChild(trainPlot.getElement());\n  }\n}\n\nfunction onPredict(e) {\n  const files = this.files;\n  const fileUrl = URL.createObjectURL(files[0]);\n  AudioUtils.loadBuffer(fileUrl).then((audioBuffer: AudioBuffer) => {\n    const buffer = audioBuffer.getChannelData(0);\n    const feature = FeatureExtractor.bufferToFeature(buffer, IS_MFCC_ENABLED);\n\n    const spec = FeatureExtractor.featureToSpectrogram(feature);\n\n    const pred = model.predict(feature);\n    const labelArray = pred.dataSync() as Float32Array;\n    const predLabel = labelArrayToString(labelArray, ALL_LABELS);\n    console.log(`File predicted: ${predLabel}.`);\n\n    const plotEl = plotSpectrogram(spec, HOP_LENGTH,\n      createLayout(`MFCC spectrogram (prediction: ${predLabel})`, 'time (s)', 'mel bin'));\n    outEl.insertBefore(plotEl, outEl.firstChild);\n  });\n}\n\nlet streamPlot = null;\nlet start = new Date().valueOf();\nconst streamFeature = new StreamingFeatureExtractor({\n  bufferLength: BUFFER_LENGTH,\n  hopLength: HOP_LENGTH,\n  isMfccEnabled: IS_MFCC_ENABLED,\n  targetSr: EXAMPLE_SR,\n  melCount: MEL_COUNT,\n  duration: 1,\n});\nstreamFeature.on('update', e => {\n  const spec = streamFeature.getSpectrogram();\n  const input = FeatureExtractor.melSpectrogramToInput(spec);\n  const pred = model.predict(input).dataSync() as Float32Array;\n  const predLabel = labelArrayToString(pred, ALL_LABELS);\n  const [ind, val] = argmax(pred);\n  const elapsed = new Date().valueOf() - start;\n  streamPlot.add(elapsed, [val, ind]);\n\n  console.log(`Got prediction: ${predLabel}, value: ${val}.`);\n});\n\nfunction onStream() {\n  if (streamFeature.isStreaming) {\n    streamFeature.stop();\n    streamEl.innerHTML = 'Stream';\n  } else {\n    streamFeature.start();\n    streamEl.innerHTML = 'Stop streaming';\n\n    streamPlot = new LinePlot({\n      title: 'Streaming score'\n      axisTitles: ['Score', 'Label Index'],\n    });\n    const parentEl = document.querySelector('#out');\n    parentEl.innerHTML = '';\n    parentEl.appendChild(streamPlot.getElement());\n  }\n}\n\nfunction onPlot() {\n  if (streamFeature.isStreaming) {\n    const spec = streamFeature.getSpectrogram();\n    const input = FeatureExtractor.melSpectrogramToInput(spec);\n    const spec2 = FeatureExtractor.featureToSpectrogram(input);\n    const plotEl = plotSpectrogram(spec2,\n      streamFeature.hopLength,\n      createLayout(`MFCC spectrogram snapshot`, 'time (s)', 'mel bin'));\n    outEl.insertBefore(plotEl, outEl.firstChild);\n    return;\n  }\n  // Render a random input vector.\n  const [images, labels, metas, buffers] = dataSet.getData();\n  const ind = Math.floor(Math.random() * images.length);\n  const feature = images[ind];\n  const labelArray = labels[ind].dataSync() as Float32Array;\n  const label = labelArrayToString(labelArray, ALL_LABELS);\n  const spec = FeatureExtractor.featureToSpectrogram(feature);\n  const plotEl = plotSpectrogram(spec, HOP_LENGTH,\n    createLayout(`MFCC spectrogram (label: ${label})`, 'time (s)', 'mel bin'));\n  outEl.insertBefore(plotEl, outEl.firstChild);\n\n  // Playback the audio.\n  const buffer = buffers[ind] as any;\n  AudioUtils.playbackArrayBuffer(buffer, EXAMPLE_SR);\n}\n\nfunction onSave() {\n  if (!model.graph) {\n    console.error('Attempt to save model without graph.');\n    return;\n  }\n  // Save the weights of the current model to IDB storage.\n  saveGraphWeights(model.graph, model.session);\n}\n\nfunction onSaveFile() {\n  if (!model.graph) {\n    console.error('Attempt to save model without graph.');\n    return;\n  }\n\n  // Save the weights to a file.\n  const json = saveGraphWeightsJSON(model.graph, model.session);\n  downloadStringAsFile(json, 'weights.json', 'application/json');\n}\n\nasync function onLoad() {\n  if (!model.graph) {\n    console.error('Attempt to load model without graph.');\n    return;\n  }\n  const weights = await loadGraphWeights(model.graph);\n  model.createModel(weights);\n}\n\nfunction downloadStringAsFile(str: string, filename: string, mimeType: string) {\n  const link = document.createElement('a');\n  link.setAttribute('download', filename);\n  const blob = new Blob([str], {type: mimeType});\n  const url = URL.createObjectURL(blob);\n  link.setAttribute('href', url);\n  link.click();\n}\n\nasync function onLoadFile(e) {\n  const files = this.files;\n  const fileUrl = URL.createObjectURL(files[0]);\n  const response = await fetch(fileUrl);\n  const json = await response.json();\n  const weights = loadGraphWeightsJSON(model.graph, json);\n  model.createModel(weights);\n}\n\nfunction onDataLoadUpdate(percentProgress: number, message: string) {\n  console.log(message);\n  const barEl = progressEl.querySelector('.mdc-linear-progress__bar') as HTMLElement;\n  const bufferEl = progressEl.querySelector('.mdc-linear-progress__buffer') as HTMLElement;\n  barEl.style.transform = `scaleX(${percentProgress})`;\n  bufferEl.style.transform = `scaleX(${percentProgress})`;\n  progressLabelEl.innerHTML = message;\n\n  if (percentProgress == 1) {\n    progressEl.style.display = 'none';\n    progressLabelEl.style.display = 'none';\n  }\n}\n\nfunction onTrainAccuracyUpdate(e) {\n  trainPlot.add(trainPlot.elapsed(), [null, e.accuracy]);\n}\n\nfunction onTrainCostUpdate(e) {\n  trainPlot.add(trainPlot.elapsed(), [e.cost, null]);\n}\n\ntrainEl.addEventListener('click', onTrain);\npredictEl.addEventListener('change', onPredict);\nstreamEl.addEventListener('click', onStream);\nplotEl.addEventListener('click', onPlot);\nsaveEl.addEventListener('click', onSave);\nsaveFileEl.addEventListener('click', onSaveFile);\nloadEl.addEventListener('click', onLoad);\nloadFileEl.addEventListener('change', onLoadFile);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","module.exports = require('./src/dct.js');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../audio-features/~/dct/index.js\n// module id = 47\n// module chunks = 0","/*===========================================================================*\\\n * Discrete Cosine Transform\n *\n * (c) Vail Systems. Joshua Jung and Ben Bryan. 2015\n *\n * This code is not designed to be highly optimized but as an educational\n * tool to understand the Mel-scale and its related coefficients used in\n * human speech analysis.\n\\*===========================================================================*/\ncosMap = null;\n\n// Builds a cosine map for the given input size. This allows multiple input sizes to be memoized automagically\n// if you want to run the DCT over and over.\nvar memoizeCosines = function(N) {\n  cosMap = cosMap || {};\n  cosMap[N] = new Array(N*N);\n\n  var PI_N = Math.PI / N;\n\n  for (var k = 0; k < N; k++) {\n    for (var n = 0; n < N; n++) {\n      cosMap[N][n + (k * N)] = Math.cos(PI_N * (n + 0.5) * k);\n    }\n  }\n};\n\nfunction dct(signal, scale) {\n  var L = signal.length;\n  scale = scale || 2;\n\n  if (!cosMap || !cosMap[L]) memoizeCosines(L);\n\n  var coefficients = signal.map(function () {return 0;});\n\n  return coefficients.map(function (__, ix) {\n    return scale * signal.reduce(function (prev, cur, ix_, arr) {\n      return prev + (cur * cosMap[L][ix_ + (ix * L)]);\n    }, 0);\n  });\n};\n\nmodule.exports = dct;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../audio-features/~/dct/src/dct.js\n// module id = 48\n// module chunks = 0","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../audio-features/~/eventemitter3/index.js\n// module id = 49\n// module chunks = 0","var KissFFTModule = function(Module) {\n  Module = Module || {};\n\nvar Module;if(!Module)Module=(typeof KissFFTModule!==\"undefined\"?KissFFTModule:null)||{};var moduleOverrides={};for(var key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var ENVIRONMENT_IS_WEB=typeof window===\"object\";var ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";var ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof require===\"function\"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;var ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){if(!Module[\"print\"])Module[\"print\"]=function print(x){process[\"stdout\"].write(x+\"\\n\")};if(!Module[\"printErr\"])Module[\"printErr\"]=function printErr(x){process[\"stderr\"].write(x+\"\\n\")};var nodeFS=require(\"fs\");var nodePath=require(\"path\");Module[\"read\"]=function read(filename,binary){filename=nodePath[\"normalize\"](filename);var ret=nodeFS[\"readFileSync\"](filename);if(!ret&&filename!=nodePath[\"resolve\"](filename)){filename=path.join(__dirname,\"..\",\"src\",filename);ret=nodeFS[\"readFileSync\"](filename)}if(ret&&!binary)ret=ret.toString();return ret};Module[\"readBinary\"]=function readBinary(filename){var ret=Module[\"read\"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};Module[\"load\"]=function load(f){globalEval(read(f))};if(!Module[\"thisProgram\"]){if(process[\"argv\"].length>1){Module[\"thisProgram\"]=process[\"argv\"][1].replace(/\\\\/g,\"/\")}else{Module[\"thisProgram\"]=\"unknown-program\"}}Module[\"arguments\"]=process[\"argv\"].slice(2);if(typeof module!==\"undefined\"){module[\"exports\"]=Module}process[\"on\"](\"uncaughtException\",(function(ex){if(!(ex instanceof ExitStatus)){throw ex}}));Module[\"inspect\"]=(function(){return\"[Emscripten Module object]\"})}else if(ENVIRONMENT_IS_SHELL){if(!Module[\"print\"])Module[\"print\"]=print;if(typeof printErr!=\"undefined\")Module[\"printErr\"]=printErr;if(typeof read!=\"undefined\"){Module[\"read\"]=read}else{Module[\"read\"]=function read(){throw\"no read() available (jsc?)\"}}Module[\"readBinary\"]=function readBinary(f){if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}var data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){Module[\"arguments\"]=scriptArgs}else if(typeof arguments!=\"undefined\"){Module[\"arguments\"]=arguments}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){Module[\"read\"]=function read(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(typeof arguments!=\"undefined\"){Module[\"arguments\"]=arguments}if(typeof console!==\"undefined\"){if(!Module[\"print\"])Module[\"print\"]=function print(x){console.log(x)};if(!Module[\"printErr\"])Module[\"printErr\"]=function printErr(x){console.log(x)}}else{var TRY_USE_DUMP=false;if(!Module[\"print\"])Module[\"print\"]=TRY_USE_DUMP&&typeof dump!==\"undefined\"?(function(x){dump(x)}):(function(x){})}if(ENVIRONMENT_IS_WORKER){Module[\"load\"]=importScripts}if(typeof Module[\"setWindowTitle\"]===\"undefined\"){Module[\"setWindowTitle\"]=(function(title){document.title=title})}}else{throw\"Unknown runtime environment. Where are we?\"}function globalEval(x){eval.call(null,x)}if(!Module[\"load\"]&&Module[\"read\"]){Module[\"load\"]=function load(f){globalEval(Module[\"read\"](f))}}if(!Module[\"print\"]){Module[\"print\"]=(function(){})}if(!Module[\"printErr\"]){Module[\"printErr\"]=Module[\"print\"]}if(!Module[\"arguments\"]){Module[\"arguments\"]=[]}if(!Module[\"thisProgram\"]){Module[\"thisProgram\"]=\"./this.program\"}Module.print=Module[\"print\"];Module.printErr=Module[\"printErr\"];Module[\"preRun\"]=[];Module[\"postRun\"]=[];for(var key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}var Runtime={setTempRet0:(function(value){tempRet0=value}),getTempRet0:(function(){return tempRet0}),stackSave:(function(){return STACKTOP}),stackRestore:(function(stackTop){STACKTOP=stackTop}),getNativeTypeSize:(function(type){switch(type){case\"i1\":case\"i8\":return 1;case\"i16\":return 2;case\"i32\":return 4;case\"i64\":return 8;case\"float\":return 4;case\"double\":return 8;default:{if(type[type.length-1]===\"*\"){return Runtime.QUANTUM_SIZE}else if(type[0]===\"i\"){var bits=parseInt(type.substr(1));assert(bits%8===0);return bits/8}else{return 0}}}}),getNativeFieldSize:(function(type){return Math.max(Runtime.getNativeTypeSize(type),Runtime.QUANTUM_SIZE)}),STACK_ALIGN:16,prepVararg:(function(ptr,type){if(type===\"double\"||type===\"i64\"){if(ptr&7){assert((ptr&7)===4);ptr+=4}}else{assert((ptr&3)===0)}return ptr}),getAlignSize:(function(type,size,vararg){if(!vararg&&(type==\"i64\"||type==\"double\"))return 8;if(!type)return Math.min(size,8);return Math.min(size||(type?Runtime.getNativeFieldSize(type):0),Runtime.QUANTUM_SIZE)}),dynCall:(function(sig,ptr,args){if(args&&args.length){if(!args.splice)args=Array.prototype.slice.call(args);args.splice(0,0,ptr);return Module[\"dynCall_\"+sig].apply(null,args)}else{return Module[\"dynCall_\"+sig].call(null,ptr)}}),functionPointers:[],addFunction:(function(func){for(var i=0;i<Runtime.functionPointers.length;i++){if(!Runtime.functionPointers[i]){Runtime.functionPointers[i]=func;return 2*(1+i)}}throw\"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.\"}),removeFunction:(function(index){Runtime.functionPointers[(index-2)/2]=null}),warnOnce:(function(text){if(!Runtime.warnOnce.shown)Runtime.warnOnce.shown={};if(!Runtime.warnOnce.shown[text]){Runtime.warnOnce.shown[text]=1;Module.printErr(text)}}),funcWrappers:{},getFuncWrapper:(function(func,sig){assert(sig);if(!Runtime.funcWrappers[sig]){Runtime.funcWrappers[sig]={}}var sigCache=Runtime.funcWrappers[sig];if(!sigCache[func]){sigCache[func]=function dynCall_wrapper(){return Runtime.dynCall(sig,func,arguments)}}return sigCache[func]}),getCompilerSetting:(function(name){throw\"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work\"}),stackAlloc:(function(size){var ret=STACKTOP;STACKTOP=STACKTOP+size|0;STACKTOP=STACKTOP+15&-16;return ret}),staticAlloc:(function(size){var ret=STATICTOP;STATICTOP=STATICTOP+size|0;STATICTOP=STATICTOP+15&-16;return ret}),dynamicAlloc:(function(size){var ret=DYNAMICTOP;DYNAMICTOP=DYNAMICTOP+size|0;DYNAMICTOP=DYNAMICTOP+15&-16;if(DYNAMICTOP>=TOTAL_MEMORY){var success=enlargeMemory();if(!success){DYNAMICTOP=ret;return 0}}return ret}),alignMemory:(function(size,quantum){var ret=size=Math.ceil(size/(quantum?quantum:16))*(quantum?quantum:16);return ret}),makeBigInt:(function(low,high,unsigned){var ret=unsigned?+(low>>>0)+ +(high>>>0)*+4294967296:+(low>>>0)+ +(high|0)*+4294967296;return ret}),GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module[\"Runtime\"]=Runtime;var __THREW__=0;var ABORT=false;var EXITSTATUS=0;var undef=0;var tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat;var tempI64,tempI64b;var tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}var globalScope=this;function getCFunc(ident){var func=Module[\"_\"+ident];if(!func){try{func=eval(\"_\"+ident)}catch(e){}}assert(func,\"Cannot call unknown function \"+ident+\" (perhaps LLVM optimizations or closure removed it?)\");return func}var cwrap,ccall;((function(){var JSfuncs={\"stackSave\":(function(){Runtime.stackSave()}),\"stackRestore\":(function(){Runtime.stackRestore()}),\"arrayToC\":(function(arr){var ret=Runtime.stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}),\"stringToC\":(function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){ret=Runtime.stackAlloc((str.length<<2)+1);writeStringToMemory(str,ret)}return ret})};var toC={\"string\":JSfuncs[\"stringToC\"],\"array\":JSfuncs[\"arrayToC\"]};ccall=function ccallFunc(ident,returnType,argTypes,args,opts){var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=Runtime.stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);if(returnType===\"string\")ret=Pointer_stringify(ret);if(stack!==0){if(opts&&opts.async){EmterpreterAsync.asyncFinalizers.push((function(){Runtime.stackRestore(stack)}));return}Runtime.stackRestore(stack)}return ret};var sourceRegex=/^function\\s*\\(([^)]*)\\)\\s*{\\s*([^*]*?)[\\s;]*(?:return\\s*(.*?)[;\\s]*)?}$/;function parseJSFunc(jsfunc){var parsed=jsfunc.toString().match(sourceRegex).slice(1);return{arguments:parsed[0],body:parsed[1],returnValue:parsed[2]}}var JSsource={};for(var fun in JSfuncs){if(JSfuncs.hasOwnProperty(fun)){JSsource[fun]=parseJSFunc(JSfuncs[fun])}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident);var numericArgs=argTypes.every((function(type){return type===\"number\"}));var numericRet=returnType!==\"string\";if(numericRet&&numericArgs){return cfunc}var argNames=argTypes.map((function(x,i){return\"$\"+i}));var funcstr=\"(function(\"+argNames.join(\",\")+\") {\";var nargs=argTypes.length;if(!numericArgs){funcstr+=\"var stack = \"+JSsource[\"stackSave\"].body+\";\";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type===\"number\")continue;var convertCode=JSsource[type+\"ToC\"];funcstr+=\"var \"+convertCode.arguments+\" = \"+arg+\";\";funcstr+=convertCode.body+\";\";funcstr+=arg+\"=\"+convertCode.returnValue+\";\"}}var cfuncname=parseJSFunc((function(){return cfunc})).returnValue;funcstr+=\"var ret = \"+cfuncname+\"(\"+argNames.join(\",\")+\");\";if(!numericRet){var strgfy=parseJSFunc((function(){return Pointer_stringify})).returnValue;funcstr+=\"ret = \"+strgfy+\"(ret);\"}if(!numericArgs){funcstr+=JSsource[\"stackRestore\"].body.replace(\"()\",\"(stack)\")+\";\"}funcstr+=\"return ret})\";return eval(funcstr)}}))();Module[\"ccall\"]=ccall;Module[\"cwrap\"]=cwrap;function setValue(ptr,value,type,noSafe){type=type||\"i8\";if(type.charAt(type.length-1)===\"*\")type=\"i32\";switch(type){case\"i1\":HEAP8[ptr>>0]=value;break;case\"i8\":HEAP8[ptr>>0]=value;break;case\"i16\":HEAP16[ptr>>1]=value;break;case\"i32\":HEAP32[ptr>>2]=value;break;case\"i64\":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=+1?tempDouble>+0?(Math_min(+Math_floor(tempDouble/+4294967296),+4294967295)|0)>>>0:~~+Math_ceil((tempDouble- +(~~tempDouble>>>0))/+4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case\"float\":HEAPF32[ptr>>2]=value;break;case\"double\":HEAPF64[ptr>>3]=value;break;default:abort(\"invalid type for setValue: \"+type)}}Module[\"setValue\"]=setValue;function getValue(ptr,type,noSafe){type=type||\"i8\";if(type.charAt(type.length-1)===\"*\")type=\"i32\";switch(type){case\"i1\":return HEAP8[ptr>>0];case\"i8\":return HEAP8[ptr>>0];case\"i16\":return HEAP16[ptr>>1];case\"i32\":return HEAP32[ptr>>2];case\"i64\":return HEAP32[ptr>>2];case\"float\":return HEAPF32[ptr>>2];case\"double\":return HEAPF64[ptr>>3];default:abort(\"invalid type for setValue: \"+type)}return null}Module[\"getValue\"]=getValue;var ALLOC_NORMAL=0;var ALLOC_STACK=1;var ALLOC_STATIC=2;var ALLOC_DYNAMIC=3;var ALLOC_NONE=4;Module[\"ALLOC_NORMAL\"]=ALLOC_NORMAL;Module[\"ALLOC_STACK\"]=ALLOC_STACK;Module[\"ALLOC_STATIC\"]=ALLOC_STATIC;Module[\"ALLOC_DYNAMIC\"]=ALLOC_DYNAMIC;Module[\"ALLOC_NONE\"]=ALLOC_NONE;function allocate(slab,types,allocator,ptr){var zeroinit,size;if(typeof slab===\"number\"){zeroinit=true;size=slab}else{zeroinit=false;size=slab.length}var singleType=typeof types===\"string\"?types:null;var ret;if(allocator==ALLOC_NONE){ret=ptr}else{ret=[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][allocator===undefined?ALLOC_STATIC:allocator](Math.max(size,singleType?1:types.length))}if(zeroinit){var ptr=ret,stop;assert((ret&3)==0);stop=ret+(size&~3);for(;ptr<stop;ptr+=4){HEAP32[ptr>>2]=0}stop=ret+size;while(ptr<stop){HEAP8[ptr++>>0]=0}return ret}if(singleType===\"i8\"){if(slab.subarray||slab.slice){HEAPU8.set(slab,ret)}else{HEAPU8.set(new Uint8Array(slab),ret)}return ret}var i=0,type,typeSize,previousType;while(i<size){var curr=slab[i];if(typeof curr===\"function\"){curr=Runtime.getFunctionIndex(curr)}type=singleType||types[i];if(type===0){i++;continue}if(type==\"i64\")type=\"i32\";setValue(ret+i,curr,type);if(previousType!==type){typeSize=Runtime.getNativeTypeSize(type);previousType=type}i+=typeSize}return ret}Module[\"allocate\"]=allocate;function getMemory(size){if(!staticSealed)return Runtime.staticAlloc(size);if(typeof _sbrk!==\"undefined\"&&!_sbrk.called||!runtimeInitialized)return Runtime.dynamicAlloc(size);return _malloc(size)}Module[\"getMemory\"]=getMemory;function Pointer_stringify(ptr,length){if(length===0||!ptr)return\"\";var hasUtf=0;var t;var i=0;while(1){t=HEAPU8[ptr+i>>0];hasUtf|=t;if(t==0&&!length)break;i++;if(length&&i==length)break}if(!length)length=i;var ret=\"\";if(hasUtf<128){var MAX_CHUNK=1024;var curr;while(length>0){curr=String.fromCharCode.apply(String,HEAPU8.subarray(ptr,ptr+Math.min(length,MAX_CHUNK)));ret=ret?ret+curr:curr;ptr+=MAX_CHUNK;length-=MAX_CHUNK}return ret}return Module[\"UTF8ToString\"](ptr)}Module[\"Pointer_stringify\"]=Pointer_stringify;function AsciiToString(ptr){var str=\"\";while(1){var ch=HEAP8[ptr++>>0];if(!ch)return str;str+=String.fromCharCode(ch)}}Module[\"AsciiToString\"]=AsciiToString;function stringToAscii(str,outPtr){return writeAsciiToMemory(str,outPtr,false)}Module[\"stringToAscii\"]=stringToAscii;function UTF8ArrayToString(u8Array,idx){var u0,u1,u2,u3,u4,u5;var str=\"\";while(1){u0=u8Array[idx++];if(!u0)return str;if(!(u0&128)){str+=String.fromCharCode(u0);continue}u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u3=u8Array[idx++]&63;if((u0&248)==240){u0=(u0&7)<<18|u1<<12|u2<<6|u3}else{u4=u8Array[idx++]&63;if((u0&252)==248){u0=(u0&3)<<24|u1<<18|u2<<12|u3<<6|u4}else{u5=u8Array[idx++]&63;u0=(u0&1)<<30|u1<<24|u2<<18|u3<<12|u4<<6|u5}}}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}Module[\"UTF8ArrayToString\"]=UTF8ArrayToString;function UTF8ToString(ptr){return UTF8ArrayToString(HEAPU8,ptr)}Module[\"UTF8ToString\"]=UTF8ToString;function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6;outU8Array[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=2097151){if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=67108863){if(outIdx+4>=endIdx)break;outU8Array[outIdx++]=248|u>>24;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else{if(outIdx+5>=endIdx)break;outU8Array[outIdx++]=252|u>>30;outU8Array[outIdx++]=128|u>>24&63;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}}outU8Array[outIdx]=0;return outIdx-startIdx}Module[\"stringToUTF8Array\"]=stringToUTF8Array;function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}Module[\"stringToUTF8\"]=stringToUTF8;function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127){++len}else if(u<=2047){len+=2}else if(u<=65535){len+=3}else if(u<=2097151){len+=4}else if(u<=67108863){len+=5}else{len+=6}}return len}Module[\"lengthBytesUTF8\"]=lengthBytesUTF8;function UTF16ToString(ptr){var i=0;var str=\"\";while(1){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)return str;++i;str+=String.fromCharCode(codeUnit)}}Module[\"UTF16ToString\"]=UTF16ToString;function stringToUTF16(str,outPtr,maxBytesToWrite){if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr}Module[\"stringToUTF16\"]=stringToUTF16;function lengthBytesUTF16(str){return str.length*2}Module[\"lengthBytesUTF16\"]=lengthBytesUTF16;function UTF32ToString(ptr){var i=0;var str=\"\";while(1){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)return str;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}}Module[\"UTF32ToString\"]=UTF32ToString;function stringToUTF32(str,outPtr,maxBytesToWrite){if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr}Module[\"stringToUTF32\"]=stringToUTF32;function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len}Module[\"lengthBytesUTF32\"]=lengthBytesUTF32;function demangle(func){var hasLibcxxabi=!!Module[\"___cxa_demangle\"];if(hasLibcxxabi){try{var buf=_malloc(func.length);writeStringToMemory(func.substr(1),buf);var status=_malloc(4);var ret=Module[\"___cxa_demangle\"](buf,0,0,status);if(getValue(status,\"i32\")===0&&ret){return Pointer_stringify(ret)}}catch(e){}finally{if(buf)_free(buf);if(status)_free(status);if(ret)_free(ret)}}var i=3;var basicTypes={\"v\":\"void\",\"b\":\"bool\",\"c\":\"char\",\"s\":\"short\",\"i\":\"int\",\"l\":\"long\",\"f\":\"float\",\"d\":\"double\",\"w\":\"wchar_t\",\"a\":\"signed char\",\"h\":\"unsigned char\",\"t\":\"unsigned short\",\"j\":\"unsigned int\",\"m\":\"unsigned long\",\"x\":\"long long\",\"y\":\"unsigned long long\",\"z\":\"...\"};var subs=[];var first=true;function dump(x){if(x)Module.print(x);Module.print(func);var pre=\"\";for(var a=0;a<i;a++)pre+=\" \";Module.print(pre+\"^\")}function parseNested(){i++;if(func[i]===\"K\")i++;var parts=[];while(func[i]!==\"E\"){if(func[i]===\"S\"){i++;var next=func.indexOf(\"_\",i);var num=func.substring(i,next)||0;parts.push(subs[num]||\"?\");i=next+1;continue}if(func[i]===\"C\"){parts.push(parts[parts.length-1]);i+=2;continue}var size=parseInt(func.substr(i));var pre=size.toString().length;if(!size||!pre){i--;break}var curr=func.substr(i+pre,size);parts.push(curr);subs.push(curr);i+=pre+size}i++;return parts}function parse(rawList,limit,allowVoid){limit=limit||Infinity;var ret=\"\",list=[];function flushList(){return\"(\"+list.join(\", \")+\")\"}var name;if(func[i]===\"N\"){name=parseNested().join(\"::\");limit--;if(limit===0)return rawList?[name]:name}else{if(func[i]===\"K\"||first&&func[i]===\"L\")i++;var size=parseInt(func.substr(i));if(size){var pre=size.toString().length;name=func.substr(i+pre,size);i+=pre+size}}first=false;if(func[i]===\"I\"){i++;var iList=parse(true);var iRet=parse(true,1,true);ret+=iRet[0]+\" \"+name+\"<\"+iList.join(\", \")+\">\"}else{ret=name}paramLoop:while(i<func.length&&limit-->0){var c=func[i++];if(c in basicTypes){list.push(basicTypes[c])}else{switch(c){case\"P\":list.push(parse(true,1,true)[0]+\"*\");break;case\"R\":list.push(parse(true,1,true)[0]+\"&\");break;case\"L\":{i++;var end=func.indexOf(\"E\",i);var size=end-i;list.push(func.substr(i,size));i+=size+2;break};case\"A\":{var size=parseInt(func.substr(i));i+=size.toString().length;if(func[i]!==\"_\")throw\"?\";i++;list.push(parse(true,1,true)[0]+\" [\"+size+\"]\");break};case\"E\":break paramLoop;default:ret+=\"?\"+c;break paramLoop}}}if(!allowVoid&&list.length===1&&list[0]===\"void\")list=[];if(rawList){if(ret){list.push(ret+\"?\")}return list}else{return ret+flushList()}}var parsed=func;try{if(func==\"Object._main\"||func==\"_main\"){return\"main()\"}if(typeof func===\"number\")func=Pointer_stringify(func);if(func[0]!==\"_\")return func;if(func[1]!==\"_\")return func;if(func[2]!==\"Z\")return func;switch(func[3]){case\"n\":return\"operator new()\";case\"d\":return\"operator delete()\"}parsed=parse()}catch(e){parsed+=\"?\"}if(parsed.indexOf(\"?\")>=0&&!hasLibcxxabi){Runtime.warnOnce(\"warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling\")}return parsed}function demangleAll(text){return text.replace(/__Z[\\w\\d_]+/g,(function(x){var y=demangle(x);return x===y?x:x+\" [\"+y+\"]\"}))}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack){return\"(no stack trace available)\"}}return err.stack.toString()}function stackTrace(){return demangleAll(jsStackTrace())}Module[\"stackTrace\"]=stackTrace;var PAGE_SIZE=4096;function alignMemoryPage(x){if(x%4096>0){x+=4096-x%4096}return x}var HEAP;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;var STATIC_BASE=0,STATICTOP=0,staticSealed=false;var STACK_BASE=0,STACKTOP=0,STACK_MAX=0;var DYNAMIC_BASE=0,DYNAMICTOP=0;function abortOnCannotGrowMemory(){abort(\"Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value \"+TOTAL_MEMORY+\", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which adjusts the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 \")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module[\"TOTAL_STACK\"]||5242880;var TOTAL_MEMORY=Module[\"TOTAL_MEMORY\"]||16777216;var totalMemory=64*1024;while(totalMemory<TOTAL_MEMORY||totalMemory<2*TOTAL_STACK){if(totalMemory<16*1024*1024){totalMemory*=2}else{totalMemory+=16*1024*1024}}if(totalMemory!==TOTAL_MEMORY){TOTAL_MEMORY=totalMemory}assert(typeof Int32Array!==\"undefined\"&&typeof Float64Array!==\"undefined\"&&!!(new Int32Array(1))[\"subarray\"]&&!!(new Int32Array(1))[\"set\"],\"JS engine does not provide full typed array support\");var buffer;buffer=new ArrayBuffer(TOTAL_MEMORY);HEAP8=new Int8Array(buffer);HEAP16=new Int16Array(buffer);HEAP32=new Int32Array(buffer);HEAPU8=new Uint8Array(buffer);HEAPU16=new Uint16Array(buffer);HEAPU32=new Uint32Array(buffer);HEAPF32=new Float32Array(buffer);HEAPF64=new Float64Array(buffer);HEAP32[0]=255;assert(HEAPU8[0]===255&&HEAPU8[3]===0,\"Typed arrays 2 must be run on a little-endian system\");Module[\"HEAP\"]=HEAP;Module[\"buffer\"]=buffer;Module[\"HEAP8\"]=HEAP8;Module[\"HEAP16\"]=HEAP16;Module[\"HEAP32\"]=HEAP32;Module[\"HEAPU8\"]=HEAPU8;Module[\"HEAPU16\"]=HEAPU16;Module[\"HEAPU32\"]=HEAPU32;Module[\"HEAPF32\"]=HEAPF32;Module[\"HEAPF64\"]=HEAPF64;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback();continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){Runtime.dynCall(\"v\",func)}else{Runtime.dynCall(\"vi\",func,[callback.arg])}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}Module[\"addOnPreRun\"]=addOnPreRun;function addOnInit(cb){__ATINIT__.unshift(cb)}Module[\"addOnInit\"]=addOnInit;function addOnPreMain(cb){__ATMAIN__.unshift(cb)}Module[\"addOnPreMain\"]=addOnPreMain;function addOnExit(cb){__ATEXIT__.unshift(cb)}Module[\"addOnExit\"]=addOnExit;function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}Module[\"addOnPostRun\"]=addOnPostRun;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}Module[\"intArrayFromString\"]=intArrayFromString;function intArrayToString(array){var ret=[];for(var i=0;i<array.length;i++){var chr=array[i];if(chr>255){chr&=255}ret.push(String.fromCharCode(chr))}return ret.join(\"\")}Module[\"intArrayToString\"]=intArrayToString;function writeStringToMemory(string,buffer,dontAddNull){var array=intArrayFromString(string,dontAddNull);var i=0;while(i<array.length){var chr=array[i];HEAP8[buffer+i>>0]=chr;i=i+1}}Module[\"writeStringToMemory\"]=writeStringToMemory;function writeArrayToMemory(array,buffer){for(var i=0;i<array.length;i++){HEAP8[buffer++>>0]=array[i]}}Module[\"writeArrayToMemory\"]=writeArrayToMemory;function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}Module[\"writeAsciiToMemory\"]=writeAsciiToMemory;function unSign(value,bits,ignore){if(value>=0){return value}return bits<=32?2*Math.abs(1<<bits-1)+value:Math.pow(2,bits)+value}function reSign(value,bits,ignore){if(value<=0){return value}var half=bits<=32?Math.abs(1<<bits-1):Math.pow(2,bits-1);if(value>=half&&(bits<=32||value>half)){value=-2*half+value}return value}if(!Math[\"imul\"]||Math[\"imul\"](4294967295,5)!==-5)Math[\"imul\"]=function imul(a,b){var ah=a>>>16;var al=a&65535;var bh=b>>>16;var bl=b&65535;return al*bl+(ah*bl+al*bh<<16)|0};Math.imul=Math[\"imul\"];if(!Math[\"clz32\"])Math[\"clz32\"]=(function(x){x=x>>>0;for(var i=0;i<32;i++){if(x&1<<31-i)return i}return 32});Math.clz32=Math[\"clz32\"];var Math_abs=Math.abs;var Math_cos=Math.cos;var Math_sin=Math.sin;var Math_tan=Math.tan;var Math_acos=Math.acos;var Math_asin=Math.asin;var Math_atan=Math.atan;var Math_atan2=Math.atan2;var Math_exp=Math.exp;var Math_log=Math.log;var Math_sqrt=Math.sqrt;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_pow=Math.pow;var Math_imul=Math.imul;var Math_fround=Math.fround;var Math_min=Math.min;var Math_clz32=Math.clz32;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}Module[\"addRunDependency\"]=addRunDependency;function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"removeRunDependency\"]=removeRunDependency;Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};var memoryInitializer=null;var ASM_CONSTS=[];STATIC_BASE=8;STATICTOP=STATIC_BASE+752;__ATINIT__.push();allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,239,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,101,97,108,32,70,70,84,32,111,112,116,105,109,105,122,97,116,105,111,110,32,109,117,115,116,32,98,101,32,101,118,101,110,46,10,0,107,105,115,115,32,102,102,116,32,117,115,97,103,101,32,101,114,114,111,114,58,32,105,109,112,114,111,112,101,114,32,97,108,108,111,99,10,0,0,0,0,0,0,0,0,0],\"i8\",ALLOC_NONE,Runtime.GLOBAL_BASE);var tempDoublePtr=Runtime.alignMemory(allocate(12,\"i8\",ALLOC_STATIC),8);assert(tempDoublePtr%8==0);function copyTempFloat(ptr){HEAP8[tempDoublePtr]=HEAP8[ptr];HEAP8[tempDoublePtr+1]=HEAP8[ptr+1];HEAP8[tempDoublePtr+2]=HEAP8[ptr+2];HEAP8[tempDoublePtr+3]=HEAP8[ptr+3]}function copyTempDouble(ptr){HEAP8[tempDoublePtr]=HEAP8[ptr];HEAP8[tempDoublePtr+1]=HEAP8[ptr+1];HEAP8[tempDoublePtr+2]=HEAP8[ptr+2];HEAP8[tempDoublePtr+3]=HEAP8[ptr+3];HEAP8[tempDoublePtr+4]=HEAP8[ptr+4];HEAP8[tempDoublePtr+5]=HEAP8[ptr+5];HEAP8[tempDoublePtr+6]=HEAP8[ptr+6];HEAP8[tempDoublePtr+7]=HEAP8[ptr+7]}function __exit(status){Module[\"exit\"](status)}function _exit(status){__exit(status)}function ___setErrNo(value){if(Module[\"___errno_location\"])HEAP32[Module[\"___errno_location\"]()>>2]=value;return value}var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function _sysconf(name){switch(name){case 30:return PAGE_SIZE;case 85:return totalMemory/PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:{if(typeof navigator===\"object\")return navigator[\"hardwareConcurrency\"]||1;return 1}}___setErrNo(ERRNO_CODES.EINVAL);return-1}Module[\"_memset\"]=_memset;function _pthread_cleanup_push(routine,arg){__ATEXIT__.push((function(){Runtime.dynCall(\"vi\",routine,[arg])}));_pthread_cleanup_push.level=__ATEXIT__.length}function _pthread_cleanup_pop(){assert(_pthread_cleanup_push.level==__ATEXIT__.length,\"cannot pop if something else added meanwhile!\");__ATEXIT__.pop();_pthread_cleanup_push.level=__ATEXIT__.length}function _abort(){Module[\"abort\"]()}function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest);return dest}Module[\"_memcpy\"]=_memcpy;var SYSCALLS={varargs:0,get:(function(varargs){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret}),getStr:(function(){var ret=Pointer_stringify(SYSCALLS.get());return ret}),get64:(function(){var low=SYSCALLS.get(),high=SYSCALLS.get();if(low>=0)assert(high===0);else assert(high===-1);return low}),getZero:(function(){assert(SYSCALLS.get()===0)})};function ___syscall6(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();FS.close(stream);return 0}catch(e){if(typeof FS===\"undefined\"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var _cos=Math_cos;function _sbrk(bytes){var self=_sbrk;if(!self.called){DYNAMICTOP=alignMemoryPage(DYNAMICTOP);self.called=true;assert(Runtime.dynamicAlloc);self.alloc=Runtime.dynamicAlloc;Runtime.dynamicAlloc=(function(){abort(\"cannot dynamically allocate, sbrk now has control\")})}var ret=DYNAMICTOP;if(bytes!=0){var success=self.alloc(bytes);if(!success)return-1>>>0}return ret}var _floor=Math_floor;var _sqrt=Math_sqrt;function _time(ptr){var ret=Date.now()/1e3|0;if(ptr){HEAP32[ptr>>2]=ret}return ret}function _pthread_self(){return 0}function ___syscall140(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),offset_high=SYSCALLS.get(),offset_low=SYSCALLS.get(),result=SYSCALLS.get(),whence=SYSCALLS.get();var offset=offset_low;assert(offset_high===0);FS.llseek(stream,offset,whence);HEAP32[result>>2]=stream.position;if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS===\"undefined\"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.get(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get();var ret=0;if(!___syscall146.buffer)___syscall146.buffer=[];var buffer=___syscall146.buffer;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){var curr=HEAPU8[ptr+j];if(curr===0||curr===10){Module[\"print\"](UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}}ret+=len}return ret}catch(e){if(typeof FS===\"undefined\"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var _sin=Math_sin;STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP);staticSealed=true;STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX);assert(DYNAMIC_BASE<TOTAL_MEMORY,\"TOTAL_MEMORY not big enough for stack\");function invoke_ii(index,a1){try{return Module[\"dynCall_ii\"](index,a1)}catch(e){if(typeof e!==\"number\"&&e!==\"longjmp\")throw e;asm[\"setThrew\"](1,0)}}function invoke_iiii(index,a1,a2,a3){try{return Module[\"dynCall_iiii\"](index,a1,a2,a3)}catch(e){if(typeof e!==\"number\"&&e!==\"longjmp\")throw e;asm[\"setThrew\"](1,0)}}function invoke_vi(index,a1){try{Module[\"dynCall_vi\"](index,a1)}catch(e){if(typeof e!==\"number\"&&e!==\"longjmp\")throw e;asm[\"setThrew\"](1,0)}}Module.asmGlobalArg={\"Math\":Math,\"Int8Array\":Int8Array,\"Int16Array\":Int16Array,\"Int32Array\":Int32Array,\"Uint8Array\":Uint8Array,\"Uint16Array\":Uint16Array,\"Uint32Array\":Uint32Array,\"Float32Array\":Float32Array,\"Float64Array\":Float64Array,\"NaN\":NaN,\"Infinity\":Infinity};Module.asmLibraryArg={\"abort\":abort,\"assert\":assert,\"invoke_ii\":invoke_ii,\"invoke_iiii\":invoke_iiii,\"invoke_vi\":invoke_vi,\"_pthread_cleanup_pop\":_pthread_cleanup_pop,\"_floor\":_floor,\"_sin\":_sin,\"_cos\":_cos,\"_sysconf\":_sysconf,\"_pthread_self\":_pthread_self,\"___syscall6\":___syscall6,\"___setErrNo\":___setErrNo,\"_abort\":_abort,\"_sbrk\":_sbrk,\"_time\":_time,\"_pthread_cleanup_push\":_pthread_cleanup_push,\"_emscripten_memcpy_big\":_emscripten_memcpy_big,\"_sqrt\":_sqrt,\"___syscall140\":___syscall140,\"_exit\":_exit,\"__exit\":__exit,\"___syscall146\":___syscall146,\"STACKTOP\":STACKTOP,\"STACK_MAX\":STACK_MAX,\"tempDoublePtr\":tempDoublePtr,\"ABORT\":ABORT};// EMSCRIPTEN_START_ASM\nvar asm=(function(global,env,buffer) {\n\"use asm\";var a=new global.Int8Array(buffer);var b=new global.Int16Array(buffer);var c=new global.Int32Array(buffer);var d=new global.Uint8Array(buffer);var e=new global.Uint16Array(buffer);var f=new global.Uint32Array(buffer);var g=new global.Float32Array(buffer);var h=new global.Float64Array(buffer);var i=env.STACKTOP|0;var j=env.STACK_MAX|0;var k=env.tempDoublePtr|0;var l=env.ABORT|0;var m=0;var n=0;var o=0;var p=0;var q=global.NaN,r=global.Infinity;var s=0,t=0,u=0,v=0,w=0.0,x=0,y=0,z=0,A=0.0;var B=0;var C=0;var D=0;var E=0;var F=0;var G=0;var H=0;var I=0;var J=0;var K=0;var L=global.Math.floor;var M=global.Math.abs;var N=global.Math.sqrt;var O=global.Math.pow;var P=global.Math.cos;var Q=global.Math.sin;var R=global.Math.tan;var S=global.Math.acos;var T=global.Math.asin;var U=global.Math.atan;var V=global.Math.atan2;var W=global.Math.exp;var X=global.Math.log;var Y=global.Math.ceil;var Z=global.Math.imul;var _=global.Math.min;var $=global.Math.clz32;var aa=env.abort;var ba=env.assert;var ca=env.invoke_ii;var da=env.invoke_iiii;var ea=env.invoke_vi;var fa=env._pthread_cleanup_pop;var ga=env._floor;var ha=env._sin;var ia=env._cos;var ja=env._sysconf;var ka=env._pthread_self;var la=env.___syscall6;var ma=env.___setErrNo;var na=env._abort;var oa=env._sbrk;var pa=env._time;var qa=env._pthread_cleanup_push;var ra=env._emscripten_memcpy_big;var sa=env._sqrt;var ta=env.___syscall140;var ua=env._exit;var va=env.__exit;var wa=env.___syscall146;var xa=0.0;\n// EMSCRIPTEN_START_FUNCS\nfunction Ba(a){a=a|0;var b=0;b=i;i=i+a|0;i=i+15&-16;return b|0}function Ca(){return i|0}function Da(a){a=a|0;i=a}function Ea(a,b){a=a|0;b=b|0;i=a;j=b}function Fa(a,b){a=a|0;b=b|0;if(!m){m=a;n=b}}function Ga(b){b=b|0;a[k>>0]=a[b>>0];a[k+1>>0]=a[b+1>>0];a[k+2>>0]=a[b+2>>0];a[k+3>>0]=a[b+3>>0]}function Ha(b){b=b|0;a[k>>0]=a[b>>0];a[k+1>>0]=a[b+1>>0];a[k+2>>0]=a[b+2>>0];a[k+3>>0]=a[b+3>>0];a[k+4>>0]=a[b+4>>0];a[k+5>>0]=a[b+5>>0];a[k+6>>0]=a[b+6>>0];a[k+7>>0]=a[b+7>>0]}function Ia(a){a=a|0;B=a}function Ja(){return B|0}function Ka(a){a=a|0;cb(a);return}function La(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,h=0.0,i=0,j=0.0;f=(a<<3)+264|0;if(!e)i=bb(f)|0;else{if(!d)d=0;else d=(c[e>>2]|0)>>>0<f>>>0?0:d;c[e>>2]=f;i=d}if(!i)return i|0;c[i>>2]=a;e=i+4|0;c[e>>2]=b;h=+(a|0);a:do if((a|0)>0){f=b;d=0;while(1){j=+(d|0)*-6.283185307179586/h;j=(f|0)==0?j:-j;g[i+264+(d<<3)>>2]=+P(+j);g[i+264+(d<<3)+4>>2]=+Q(+j);d=d+1|0;if((d|0)==(a|0))break a;f=c[e>>2]|0}}while(0);h=+L(+(+N(+h)));f=a;e=i+8|0;d=4;while(1){b:do if((f|0)%(d|0)|0)while(1){switch(d|0){case 4:{d=2;break}case 2:{d=3;break}default:d=d+2|0}d=+(d|0)>h?f:d;if(!((f|0)%(d|0)|0))break b}while(0);f=(f|0)/(d|0)|0;c[e>>2]=d;c[e+4>>2]=f;if((f|0)<=1)break;else e=e+8|0}return i|0}function Ma(a,b,d,e,f,h){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;h=h|0;var i=0,j=0,l=0,m=0,n=0.0,o=0.0,p=0.0,q=0.0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0.0,z=0.0,A=0.0,B=0.0,C=0,D=0.0,E=0.0,F=0.0,G=0.0,H=0.0,I=0.0,J=0.0,K=0.0,L=0.0,M=0.0;w=c[f>>2]|0;m=f+8|0;x=c[f+4>>2]|0;r=a+((Z(x,w)|0)<<3)|0;if((x|0)==1){j=Z(e,d)|0;i=a;f=b;while(1){t=f;u=c[t+4>>2]|0;v=i;c[v>>2]=c[t>>2];c[v+4>>2]=u;i=i+8|0;if((i|0)==(r|0))break;else f=f+(j<<3)|0}}else{j=Z(w,d)|0;l=Z(e,d)|0;i=a;f=b;while(1){Ma(i,f,j,e,m,h);i=i+(x<<3)|0;if((i|0)==(r|0))break;else f=f+(l<<3)|0}}switch(w|0){case 2:{j=a;l=x;i=a+(x<<3)|0;f=h+264|0;while(1){o=+g[i>>2];y=+g[f>>2];a=i+4|0;n=+g[a>>2];q=+g[f+4>>2];p=o*y-n*q;q=y*n+o*q;g[i>>2]=+g[j>>2]-p;x=j+4|0;g[a>>2]=+g[x>>2]-q;g[j>>2]=p+ +g[j>>2];g[x>>2]=q+ +g[x>>2];l=l+-1|0;if(!l)break;else{j=j+8|0;i=i+8|0;f=f+(d<<3)|0}}return}case 3:{e=x<<1;n=+g[h+264+((Z(x,d)|0)<<3)+4>>2];l=h+264|0;m=d<<1;f=a;i=x;j=l;while(1){h=f+(x<<3)|0;o=+g[h>>2];p=+g[j>>2];a=f+(x<<3)+4|0;B=+g[a>>2];z=+g[j+4>>2];A=o*p-B*z;z=p*B+o*z;v=f+(e<<3)|0;o=+g[v>>2];B=+g[l>>2];w=f+(e<<3)+4|0;p=+g[w>>2];q=+g[l+4>>2];y=o*B-p*q;q=B*p+o*q;o=A+y;p=z+q;g[h>>2]=+g[f>>2]-o*.5;u=f+4|0;g[a>>2]=+g[u>>2]-p*.5;y=n*(A-y);q=n*(z-q);g[f>>2]=+g[f>>2]+o;g[u>>2]=p+ +g[u>>2];g[v>>2]=q+ +g[h>>2];g[w>>2]=+g[a>>2]-y;g[h>>2]=+g[h>>2]-q;g[a>>2]=y+ +g[a>>2];i=i+-1|0;if(!i)break;else{f=f+8|0;j=j+(d<<3)|0;l=l+(m<<3)|0}}return}case 4:{e=x<<1;b=x*3|0;f=h+264|0;r=d<<1;s=d*3|0;if(!(c[h+4>>2]|0)){i=a;j=x;l=f;m=f;while(1){v=i+(x<<3)|0;n=+g[v>>2];o=+g[l>>2];w=i+(x<<3)+4|0;y=+g[w>>2];D=+g[l+4>>2];E=n*o-y*D;D=o*y+n*D;C=i+(e<<3)|0;n=+g[C>>2];y=+g[m>>2];t=i+(e<<3)+4|0;o=+g[t>>2];p=+g[m+4>>2];q=n*y-o*p;p=y*o+n*p;h=i+(b<<3)|0;n=+g[h>>2];o=+g[f>>2];a=i+(b<<3)+4|0;y=+g[a>>2];z=+g[f+4>>2];B=n*o-y*z;z=o*y+n*z;n=+g[i>>2];y=n-q;u=i+4|0;o=+g[u>>2];A=o-p;n=q+n;g[i>>2]=n;o=p+o;g[u>>2]=o;p=E+B;q=D+z;B=E-B;z=D-z;g[C>>2]=n-p;g[t>>2]=o-q;g[i>>2]=p+ +g[i>>2];g[u>>2]=q+ +g[u>>2];g[v>>2]=y+z;g[w>>2]=A-B;g[h>>2]=y-z;g[a>>2]=A+B;j=j+-1|0;if(!j)break;else{i=i+8|0;l=l+(d<<3)|0;m=m+(r<<3)|0;f=f+(s<<3)|0}}return}else{i=a;j=x;l=f;m=f;while(1){w=i+(x<<3)|0;p=+g[w>>2];q=+g[l>>2];h=i+(x<<3)+4|0;A=+g[h>>2];o=+g[l+4>>2];n=p*q-A*o;o=q*A+p*o;t=i+(e<<3)|0;p=+g[t>>2];A=+g[m>>2];u=i+(e<<3)+4|0;q=+g[u>>2];y=+g[m+4>>2];z=p*A-q*y;y=A*q+p*y;a=i+(b<<3)|0;p=+g[a>>2];q=+g[f>>2];C=i+(b<<3)+4|0;A=+g[C>>2];B=+g[f+4>>2];E=p*q-A*B;B=q*A+p*B;p=+g[i>>2];A=p-z;v=i+4|0;q=+g[v>>2];D=q-y;p=z+p;g[i>>2]=p;q=y+q;g[v>>2]=q;y=n+E;z=o+B;E=n-E;B=o-B;g[t>>2]=p-y;g[u>>2]=q-z;g[i>>2]=y+ +g[i>>2];g[v>>2]=z+ +g[v>>2];g[w>>2]=A-B;g[h>>2]=D+E;g[a>>2]=A+B;g[C>>2]=D-E;j=j+-1|0;if(!j)break;else{i=i+8|0;l=l+(d<<3)|0;m=m+(r<<3)|0;f=f+(s<<3)|0}}return}}case 5:{C=Z(x,d)|0;n=+g[h+264+(C<<3)>>2];o=+g[h+264+(C<<3)+4>>2];C=Z(x,d<<1)|0;p=+g[h+264+(C<<3)>>2];q=+g[h+264+(C<<3)+4>>2];if((x|0)<=0)return;j=d*3|0;l=a;m=a+(x<<3)|0;e=a+(x<<1<<3)|0;b=a+(x*3<<3)|0;f=a+(x<<2<<3)|0;i=0;while(1){H=+g[l>>2];u=l+4|0;F=+g[u>>2];A=+g[m>>2];t=Z(i,d)|0;D=+g[h+264+(t<<3)>>2];v=m+4|0;M=+g[v>>2];I=+g[h+264+(t<<3)+4>>2];G=A*D-M*I;I=D*M+A*I;A=+g[e>>2];t=Z(i<<1,d)|0;M=+g[h+264+(t<<3)>>2];a=e+4|0;D=+g[a>>2];L=+g[h+264+(t<<3)+4>>2];J=A*M-D*L;L=M*D+A*L;A=+g[b>>2];t=Z(j,i)|0;D=+g[h+264+(t<<3)>>2];C=b+4|0;M=+g[C>>2];y=+g[h+264+(t<<3)+4>>2];E=A*D-M*y;y=D*M+A*y;A=+g[f>>2];t=Z(i<<2,d)|0;M=+g[h+264+(t<<3)>>2];w=f+4|0;D=+g[w>>2];B=+g[h+264+(t<<3)+4>>2];z=A*M-D*B;B=M*D+A*B;A=G+z;D=I+B;z=G-z;B=I-B;I=J+E;G=L+y;E=J-E;y=L-y;g[l>>2]=H+(I+A);g[u>>2]=F+(G+D);L=p*I+(H+n*A);J=p*G+(F+n*D);M=q*y+o*B;K=-(o*z)-q*E;g[m>>2]=L-M;g[v>>2]=J-K;g[f>>2]=M+L;g[w>>2]=K+J;A=n*I+(H+p*A);D=n*G+(F+p*D);B=o*y-q*B;E=q*z-o*E;g[e>>2]=B+A;g[a>>2]=E+D;g[b>>2]=A-B;g[C>>2]=D-E;i=i+1|0;if((i|0)==(x|0))break;else{l=l+8|0;m=m+8|0;e=e+8|0;b=b+8|0;f=f+8|0}}return}default:{t=c[h>>2]|0;v=bb(w<<3)|0;a:do if((x|0)>0?(w|0)>0:0){if((w|0)>1)u=0;else{m=0;while(1){f=m;i=0;while(1){h=a+(f<<3)|0;d=c[h+4>>2]|0;C=v+(i<<3)|0;c[C>>2]=c[h>>2];c[C+4>>2]=d;i=i+1|0;if((i|0)==(w|0))break;else f=f+x|0}i=v;f=c[i>>2]|0;i=c[i+4>>2]|0;j=m;l=0;while(1){C=a+(j<<3)|0;c[C>>2]=f;c[C+4>>2]=i;l=l+1|0;if((l|0)==(w|0))break;else j=j+x|0}m=m+1|0;if((m|0)==(x|0))break a}}do{f=u;i=0;while(1){r=a+(f<<3)|0;s=c[r+4>>2]|0;C=v+(i<<3)|0;c[C>>2]=c[r>>2];c[C+4>>2]=s;i=i+1|0;if((i|0)==(w|0))break;else f=f+x|0}i=v;f=c[i>>2]|0;i=c[i+4>>2]|0;n=(c[k>>2]=f,+g[k>>2]);e=u;r=0;while(1){j=a+(e<<3)|0;l=j;c[l>>2]=f;c[l+4>>2]=i;l=Z(e,d)|0;m=a+(e<<3)+4|0;o=n;p=+g[m>>2];b=1;s=0;do{C=s+l|0;s=C-((C|0)<(t|0)?0:t)|0;L=+g[v+(b<<3)>>2];J=+g[h+264+(s<<3)>>2];K=+g[v+(b<<3)+4>>2];M=+g[h+264+(s<<3)+4>>2];o=o+(L*J-K*M);g[j>>2]=o;p=p+(J*K+L*M);g[m>>2]=p;b=b+1|0}while((b|0)!=(w|0));r=r+1|0;if((r|0)==(w|0))break;else e=e+x|0}u=u+1|0}while((u|0)!=(x|0))}while(0);cb(v);return}}}function Na(a,b,d){a=a|0;b=b|0;d=d|0;if((b|0)==(d|0)){d=bb(c[a>>2]<<3)|0;Ma(d,b,1,1,a+8|0,a);fb(b|0,d|0,c[a>>2]<<3|0)|0;cb(d);return}else{Ma(d,b,1,1,a+8|0,a);return}}function Oa(a){a=a|0;cb(a);return}function Pa(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,h=0.0,j=0,k=0,l=0,m=0,n=0.0;l=i;i=i+16|0;k=l;if(a&1){Za(668,36,1,c[13]|0)|0;b=0;i=l;return b|0}j=a>>1;La(j,b,0,k)|0;f=c[k>>2]|0;a=f+12+(((j*3|0)/2|0)<<3)|0;if(e){m=(c[e>>2]|0)>>>0<a>>>0;c[e>>2]=a;if(m){m=0;i=l;return m|0}}else d=bb(a)|0;if(!d){m=0;i=l;return m|0}e=d+12|0;c[d>>2]=e;m=e+f|0;c[d+4>>2]=m;a=d+8|0;c[a>>2]=m+(j<<3);La(j,b,e,k)|0;e=(j|0)/2|0;if((j|0)<=1){m=d;i=l;return m|0}h=+(j|0);f=c[a>>2]|0;if(!b){a=0;do{m=a;a=a+1|0;n=(+(a|0)/h+.5)*-3.141592653589793;g[f+(m<<3)>>2]=+P(+n);g[f+(m<<3)+4>>2]=+Q(+n)}while((a|0)<(e|0));i=l;return d|0}else{a=0;do{m=a;a=a+1|0;n=(+(a|0)/h+.5)*-3.141592653589793;g[f+(m<<3)>>2]=+P(+n);g[f+(m<<3)+4>>2]=+Q(+-n)}while((a|0)<(e|0));i=l;return d|0}return 0}function Qa(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,h=0,i=0,j=0.0,k=0.0,l=0.0,m=0.0,n=0.0,o=0.0,p=0.0,q=0;e=c[a>>2]|0;if(c[e+4>>2]|0){Za(705,37,1,c[13]|0)|0;ua(1)}i=c[e>>2]|0;h=a+4|0;Na(e,b,c[h>>2]|0);h=c[h>>2]|0;k=+g[h>>2];j=+g[h+4>>2];g[d>>2]=k+j;g[d+(i<<3)>>2]=k-j;g[d+4>>2]=0.0;g[d+(i<<3)+4>>2]=0.0;f=(i|0)/2|0;if((i|0)<2)return;e=c[a+8>>2]|0;b=1;while(1){j=+g[h+(b<<3)>>2];o=+g[h+(b<<3)+4>>2];a=i-b|0;n=+g[h+(a<<3)>>2];p=+g[h+(a<<3)+4>>2];m=j+n;k=o-p;n=j-n;p=o+p;q=b+-1|0;o=+g[e+(q<<3)>>2];j=+g[e+(q<<3)+4>>2];l=n*o-p*j;j=p*o+n*j;g[d+(b<<3)>>2]=(m+l)*.5;g[d+(b<<3)+4>>2]=(k+j)*.5;g[d+(a<<3)>>2]=(m-l)*.5;g[d+(a<<3)+4>>2]=(j-k)*.5;if((b|0)<(f|0))b=b+1|0;else break}return}function Ra(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,h=0,i=0,j=0,k=0,l=0.0,m=0.0,n=0.0,o=0.0,p=0.0,q=0.0,r=0.0,s=0;f=c[a>>2]|0;if(!(c[f+4>>2]|0)){Za(705,37,1,c[13]|0)|0;ua(1)}j=c[f>>2]|0;i=b+(j<<3)|0;h=c[a+4>>2]|0;g[h>>2]=+g[b>>2]+ +g[i>>2];g[h+4>>2]=+g[b>>2]-+g[i>>2];i=(j|0)/2|0;if((j|0)<2){Na(f,h,d);return}a=c[a+8>>2]|0;e=1;while(1){l=+g[b+(e<<3)>>2];q=+g[b+(e<<3)+4>>2];k=j-e|0;p=+g[b+(k<<3)>>2];r=+g[b+(k<<3)+4>>2];o=l+p;m=q-r;p=l-p;r=q+r;s=e+-1|0;q=+g[a+(s<<3)>>2];l=+g[a+(s<<3)+4>>2];n=p*q-r*l;l=r*q+p*l;g[h+(e<<3)>>2]=o+n;g[h+(e<<3)+4>>2]=m+l;g[h+(k<<3)>>2]=o-n;g[h+(k<<3)+4>>2]=-(m-l);if((e|0)<(i|0))e=e+1|0;else break}Na(f,h,d);return}function Sa(){var a=0;if(!(c[2]|0))a=56;else a=c[(ka()|0)+60>>2]|0;return a|0}function Ta(a){a=a|0;if(a>>>0>4294963200){c[(Sa()|0)>>2]=0-a;a=-1}return a|0}function Ua(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0,h=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;q=i;i=i+48|0;n=q+16|0;m=q;e=q+32|0;o=a+28|0;f=c[o>>2]|0;c[e>>2]=f;p=a+20|0;f=(c[p>>2]|0)-f|0;c[e+4>>2]=f;c[e+8>>2]=b;c[e+12>>2]=d;k=a+60|0;l=a+44|0;b=2;f=f+d|0;while(1){if(!(c[2]|0)){c[n>>2]=c[k>>2];c[n+4>>2]=e;c[n+8>>2]=b;h=Ta(wa(146,n|0)|0)|0}else{qa(1,a|0);c[m>>2]=c[k>>2];c[m+4>>2]=e;c[m+8>>2]=b;h=Ta(wa(146,m|0)|0)|0;fa(0)}if((f|0)==(h|0)){f=6;break}if((h|0)<0){f=8;break}f=f-h|0;g=c[e+4>>2]|0;if(h>>>0<=g>>>0)if((b|0)==2){c[o>>2]=(c[o>>2]|0)+h;j=g;b=2}else j=g;else{j=c[l>>2]|0;c[o>>2]=j;c[p>>2]=j;j=c[e+12>>2]|0;h=h-g|0;e=e+8|0;b=b+-1|0}c[e>>2]=(c[e>>2]|0)+h;c[e+4>>2]=j-h}if((f|0)==6){n=c[l>>2]|0;c[a+16>>2]=n+(c[a+48>>2]|0);a=n;c[o>>2]=a;c[p>>2]=a}else if((f|0)==8){c[a+16>>2]=0;c[o>>2]=0;c[p>>2]=0;c[a>>2]=c[a>>2]|32;if((b|0)==2)d=0;else d=d-(c[e+4>>2]|0)|0}i=q;return d|0}function Va(a){a=a|0;var b=0,d=0;b=i;i=i+16|0;d=b;c[d>>2]=c[a+60>>2];a=Ta(la(6,d|0)|0)|0;i=b;return a|0}function Wa(b){b=b|0;var d=0,e=0;d=b+74|0;e=a[d>>0]|0;a[d>>0]=e+255|e;d=c[b>>2]|0;if(!(d&8)){c[b+8>>2]=0;c[b+4>>2]=0;d=c[b+44>>2]|0;c[b+28>>2]=d;c[b+20>>2]=d;c[b+16>>2]=d+(c[b+48>>2]|0);d=0}else{c[b>>2]=d|32;d=-1}return d|0}function Xa(a,b,d){a=a|0;b=b|0;d=d|0;var e=0,f=0,g=0;f=i;i=i+32|0;g=f;e=f+20|0;c[g>>2]=c[a+60>>2];c[g+4>>2]=0;c[g+8>>2]=b;c[g+12>>2]=e;c[g+16>>2]=d;if((Ta(ta(140,g|0)|0)|0)<0){c[e>>2]=-1;a=-1}else a=c[e>>2]|0;i=f;return a|0}function Ya(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=e+16|0;g=c[f>>2]|0;if(!g)if(!(Wa(e)|0)){g=c[f>>2]|0;h=5}else f=0;else h=5;a:do if((h|0)==5){i=e+20|0;f=c[i>>2]|0;h=f;if((g-f|0)>>>0<d>>>0){f=za[c[e+36>>2]&3](e,b,d)|0;break}b:do if((a[e+75>>0]|0)>-1){f=d;while(1){if(!f){g=h;f=0;break b}g=f+-1|0;if((a[b+g>>0]|0)==10)break;else f=g}if((za[c[e+36>>2]&3](e,b,f)|0)>>>0<f>>>0)break a;d=d-f|0;b=b+f|0;g=c[i>>2]|0}else{g=h;f=0}while(0);fb(g|0,b|0,d|0)|0;c[i>>2]=(c[i>>2]|0)+d;f=f+d|0}while(0);return f|0}function Za(a,b,d,e){a=a|0;b=b|0;d=d|0;e=e|0;var f=0,g=0;f=Z(d,b)|0;if((c[e+76>>2]|0)>-1){g=(_a(e)|0)==0;a=Ya(a,f,e)|0;if(!g)$a(e)}else a=Ya(a,f,e)|0;if((a|0)!=(f|0))d=(a>>>0)/(b>>>0)|0;return d|0}function _a(a){a=a|0;return 0}function $a(a){a=a|0;return}function ab(a){a=a|0;if(!(c[a+68>>2]|0))$a(a);return}function bb(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0;do if(a>>>0<245){o=a>>>0<11?16:a+11&-8;a=o>>>3;j=c[43]|0;b=j>>>a;if(b&3){b=(b&1^1)+a|0;d=212+(b<<1<<2)|0;e=d+8|0;f=c[e>>2]|0;g=f+8|0;h=c[g>>2]|0;do if((d|0)!=(h|0)){if(h>>>0<(c[47]|0)>>>0)na();a=h+12|0;if((c[a>>2]|0)==(f|0)){c[a>>2]=d;c[e>>2]=h;break}else na()}else c[43]=j&~(1<<b);while(0);L=b<<3;c[f+4>>2]=L|3;L=f+L+4|0;c[L>>2]=c[L>>2]|1;L=g;return L|0}h=c[45]|0;if(o>>>0>h>>>0){if(b){d=2<<a;d=b<<a&(d|0-d);d=(d&0-d)+-1|0;i=d>>>12&16;d=d>>>i;f=d>>>5&8;d=d>>>f;g=d>>>2&4;d=d>>>g;e=d>>>1&2;d=d>>>e;b=d>>>1&1;b=(f|i|g|e|b)+(d>>>b)|0;d=212+(b<<1<<2)|0;e=d+8|0;g=c[e>>2]|0;i=g+8|0;f=c[i>>2]|0;do if((d|0)!=(f|0)){if(f>>>0<(c[47]|0)>>>0)na();a=f+12|0;if((c[a>>2]|0)==(g|0)){c[a>>2]=d;c[e>>2]=f;k=c[45]|0;break}else na()}else{c[43]=j&~(1<<b);k=h}while(0);h=(b<<3)-o|0;c[g+4>>2]=o|3;e=g+o|0;c[e+4>>2]=h|1;c[e+h>>2]=h;if(k){f=c[48]|0;b=k>>>3;d=212+(b<<1<<2)|0;a=c[43]|0;b=1<<b;if(a&b){a=d+8|0;b=c[a>>2]|0;if(b>>>0<(c[47]|0)>>>0)na();else{l=a;m=b}}else{c[43]=a|b;l=d+8|0;m=d}c[l>>2]=f;c[m+12>>2]=f;c[f+8>>2]=m;c[f+12>>2]=d}c[45]=h;c[48]=e;L=i;return L|0}a=c[44]|0;if(a){d=(a&0-a)+-1|0;K=d>>>12&16;d=d>>>K;J=d>>>5&8;d=d>>>J;L=d>>>2&4;d=d>>>L;b=d>>>1&2;d=d>>>b;e=d>>>1&1;e=c[476+((J|K|L|b|e)+(d>>>e)<<2)>>2]|0;d=(c[e+4>>2]&-8)-o|0;b=e;while(1){a=c[b+16>>2]|0;if(!a){a=c[b+20>>2]|0;if(!a){j=e;break}}b=(c[a+4>>2]&-8)-o|0;L=b>>>0<d>>>0;d=L?b:d;b=a;e=L?a:e}g=c[47]|0;if(j>>>0<g>>>0)na();i=j+o|0;if(j>>>0>=i>>>0)na();h=c[j+24>>2]|0;e=c[j+12>>2]|0;do if((e|0)==(j|0)){b=j+20|0;a=c[b>>2]|0;if(!a){b=j+16|0;a=c[b>>2]|0;if(!a){n=0;break}}while(1){e=a+20|0;f=c[e>>2]|0;if(f){a=f;b=e;continue}e=a+16|0;f=c[e>>2]|0;if(!f)break;else{a=f;b=e}}if(b>>>0<g>>>0)na();else{c[b>>2]=0;n=a;break}}else{f=c[j+8>>2]|0;if(f>>>0<g>>>0)na();a=f+12|0;if((c[a>>2]|0)!=(j|0))na();b=e+8|0;if((c[b>>2]|0)==(j|0)){c[a>>2]=e;c[b>>2]=f;n=e;break}else na()}while(0);do if(h){a=c[j+28>>2]|0;b=476+(a<<2)|0;if((j|0)==(c[b>>2]|0)){c[b>>2]=n;if(!n){c[44]=c[44]&~(1<<a);break}}else{if(h>>>0<(c[47]|0)>>>0)na();a=h+16|0;if((c[a>>2]|0)==(j|0))c[a>>2]=n;else c[h+20>>2]=n;if(!n)break}b=c[47]|0;if(n>>>0<b>>>0)na();c[n+24>>2]=h;a=c[j+16>>2]|0;do if(a)if(a>>>0<b>>>0)na();else{c[n+16>>2]=a;c[a+24>>2]=n;break}while(0);a=c[j+20>>2]|0;if(a)if(a>>>0<(c[47]|0)>>>0)na();else{c[n+20>>2]=a;c[a+24>>2]=n;break}}while(0);if(d>>>0<16){L=d+o|0;c[j+4>>2]=L|3;L=j+L+4|0;c[L>>2]=c[L>>2]|1}else{c[j+4>>2]=o|3;c[i+4>>2]=d|1;c[i+d>>2]=d;a=c[45]|0;if(a){f=c[48]|0;b=a>>>3;e=212+(b<<1<<2)|0;a=c[43]|0;b=1<<b;if(a&b){a=e+8|0;b=c[a>>2]|0;if(b>>>0<(c[47]|0)>>>0)na();else{p=a;q=b}}else{c[43]=a|b;p=e+8|0;q=e}c[p>>2]=f;c[q+12>>2]=f;c[f+8>>2]=q;c[f+12>>2]=e}c[45]=d;c[48]=i}L=j+8|0;return L|0}}}else if(a>>>0<=4294967231){a=a+11|0;o=a&-8;j=c[44]|0;if(j){d=0-o|0;a=a>>>8;if(a)if(o>>>0>16777215)i=31;else{q=(a+1048320|0)>>>16&8;E=a<<q;p=(E+520192|0)>>>16&4;E=E<<p;i=(E+245760|0)>>>16&2;i=14-(p|q|i)+(E<<i>>>15)|0;i=o>>>(i+7|0)&1|i<<1}else i=0;b=c[476+(i<<2)>>2]|0;a:do if(!b){a=0;b=0;E=86}else{f=d;a=0;g=o<<((i|0)==31?0:25-(i>>>1)|0);h=b;b=0;while(1){e=c[h+4>>2]&-8;d=e-o|0;if(d>>>0<f>>>0)if((e|0)==(o|0)){a=h;b=h;E=90;break a}else b=h;else d=f;e=c[h+20>>2]|0;h=c[h+16+(g>>>31<<2)>>2]|0;a=(e|0)==0|(e|0)==(h|0)?a:e;e=(h|0)==0;if(e){E=86;break}else{f=d;g=g<<(e&1^1)}}}while(0);if((E|0)==86){if((a|0)==0&(b|0)==0){a=2<<i;a=j&(a|0-a);if(!a)break;q=(a&0-a)+-1|0;m=q>>>12&16;q=q>>>m;l=q>>>5&8;q=q>>>l;n=q>>>2&4;q=q>>>n;p=q>>>1&2;q=q>>>p;a=q>>>1&1;a=c[476+((l|m|n|p|a)+(q>>>a)<<2)>>2]|0}if(!a){i=d;j=b}else E=90}if((E|0)==90)while(1){E=0;q=(c[a+4>>2]&-8)-o|0;e=q>>>0<d>>>0;d=e?q:d;b=e?a:b;e=c[a+16>>2]|0;if(e){a=e;E=90;continue}a=c[a+20>>2]|0;if(!a){i=d;j=b;break}else E=90}if((j|0)!=0?i>>>0<((c[45]|0)-o|0)>>>0:0){f=c[47]|0;if(j>>>0<f>>>0)na();h=j+o|0;if(j>>>0>=h>>>0)na();g=c[j+24>>2]|0;d=c[j+12>>2]|0;do if((d|0)==(j|0)){b=j+20|0;a=c[b>>2]|0;if(!a){b=j+16|0;a=c[b>>2]|0;if(!a){s=0;break}}while(1){d=a+20|0;e=c[d>>2]|0;if(e){a=e;b=d;continue}d=a+16|0;e=c[d>>2]|0;if(!e)break;else{a=e;b=d}}if(b>>>0<f>>>0)na();else{c[b>>2]=0;s=a;break}}else{e=c[j+8>>2]|0;if(e>>>0<f>>>0)na();a=e+12|0;if((c[a>>2]|0)!=(j|0))na();b=d+8|0;if((c[b>>2]|0)==(j|0)){c[a>>2]=d;c[b>>2]=e;s=d;break}else na()}while(0);do if(g){a=c[j+28>>2]|0;b=476+(a<<2)|0;if((j|0)==(c[b>>2]|0)){c[b>>2]=s;if(!s){c[44]=c[44]&~(1<<a);break}}else{if(g>>>0<(c[47]|0)>>>0)na();a=g+16|0;if((c[a>>2]|0)==(j|0))c[a>>2]=s;else c[g+20>>2]=s;if(!s)break}b=c[47]|0;if(s>>>0<b>>>0)na();c[s+24>>2]=g;a=c[j+16>>2]|0;do if(a)if(a>>>0<b>>>0)na();else{c[s+16>>2]=a;c[a+24>>2]=s;break}while(0);a=c[j+20>>2]|0;if(a)if(a>>>0<(c[47]|0)>>>0)na();else{c[s+20>>2]=a;c[a+24>>2]=s;break}}while(0);do if(i>>>0>=16){c[j+4>>2]=o|3;c[h+4>>2]=i|1;c[h+i>>2]=i;a=i>>>3;if(i>>>0<256){d=212+(a<<1<<2)|0;b=c[43]|0;a=1<<a;if(b&a){a=d+8|0;b=c[a>>2]|0;if(b>>>0<(c[47]|0)>>>0)na();else{u=a;v=b}}else{c[43]=b|a;u=d+8|0;v=d}c[u>>2]=h;c[v+12>>2]=h;c[h+8>>2]=v;c[h+12>>2]=d;break}a=i>>>8;if(a)if(i>>>0>16777215)d=31;else{K=(a+1048320|0)>>>16&8;L=a<<K;J=(L+520192|0)>>>16&4;L=L<<J;d=(L+245760|0)>>>16&2;d=14-(J|K|d)+(L<<d>>>15)|0;d=i>>>(d+7|0)&1|d<<1}else d=0;e=476+(d<<2)|0;c[h+28>>2]=d;a=h+16|0;c[a+4>>2]=0;c[a>>2]=0;a=c[44]|0;b=1<<d;if(!(a&b)){c[44]=a|b;c[e>>2]=h;c[h+24>>2]=e;c[h+12>>2]=h;c[h+8>>2]=h;break}f=i<<((d|0)==31?0:25-(d>>>1)|0);a=c[e>>2]|0;while(1){if((c[a+4>>2]&-8|0)==(i|0)){d=a;E=148;break}b=a+16+(f>>>31<<2)|0;d=c[b>>2]|0;if(!d){E=145;break}else{f=f<<1;a=d}}if((E|0)==145)if(b>>>0<(c[47]|0)>>>0)na();else{c[b>>2]=h;c[h+24>>2]=a;c[h+12>>2]=h;c[h+8>>2]=h;break}else if((E|0)==148){a=d+8|0;b=c[a>>2]|0;L=c[47]|0;if(b>>>0>=L>>>0&d>>>0>=L>>>0){c[b+12>>2]=h;c[a>>2]=h;c[h+8>>2]=b;c[h+12>>2]=d;c[h+24>>2]=0;break}else na()}}else{L=i+o|0;c[j+4>>2]=L|3;L=j+L+4|0;c[L>>2]=c[L>>2]|1}while(0);L=j+8|0;return L|0}}}else o=-1;while(0);d=c[45]|0;if(d>>>0>=o>>>0){a=d-o|0;b=c[48]|0;if(a>>>0>15){L=b+o|0;c[48]=L;c[45]=a;c[L+4>>2]=a|1;c[L+a>>2]=a;c[b+4>>2]=o|3}else{c[45]=0;c[48]=0;c[b+4>>2]=d|3;L=b+d+4|0;c[L>>2]=c[L>>2]|1}L=b+8|0;return L|0}a=c[46]|0;if(a>>>0>o>>>0){J=a-o|0;c[46]=J;L=c[49]|0;K=L+o|0;c[49]=K;c[K+4>>2]=J|1;c[L+4>>2]=o|3;L=L+8|0;return L|0}do if(!(c[161]|0)){a=ja(30)|0;if(!(a+-1&a)){c[163]=a;c[162]=a;c[164]=-1;c[165]=-1;c[166]=0;c[154]=0;c[161]=(pa(0)|0)&-16^1431655768;break}else na()}while(0);h=o+48|0;g=c[163]|0;i=o+47|0;f=g+i|0;g=0-g|0;j=f&g;if(j>>>0<=o>>>0){L=0;return L|0}a=c[153]|0;if((a|0)!=0?(u=c[151]|0,v=u+j|0,v>>>0<=u>>>0|v>>>0>a>>>0):0){L=0;return L|0}b:do if(!(c[154]&4)){a=c[49]|0;c:do if(a){d=620;while(1){b=c[d>>2]|0;if(b>>>0<=a>>>0?(r=d+4|0,(b+(c[r>>2]|0)|0)>>>0>a>>>0):0){e=d;d=r;break}d=c[d+8>>2]|0;if(!d){E=173;break c}}a=f-(c[46]|0)&g;if(a>>>0<2147483647){b=oa(a|0)|0;if((b|0)==((c[e>>2]|0)+(c[d>>2]|0)|0)){if((b|0)!=(-1|0)){h=b;f=a;E=193;break b}}else E=183}}else E=173;while(0);do if((E|0)==173?(t=oa(0)|0,(t|0)!=(-1|0)):0){a=t;b=c[162]|0;d=b+-1|0;if(!(d&a))a=j;else a=j-a+(d+a&0-b)|0;b=c[151]|0;d=b+a|0;if(a>>>0>o>>>0&a>>>0<2147483647){v=c[153]|0;if((v|0)!=0?d>>>0<=b>>>0|d>>>0>v>>>0:0)break;b=oa(a|0)|0;if((b|0)==(t|0)){h=t;f=a;E=193;break b}else E=183}}while(0);d:do if((E|0)==183){d=0-a|0;do if(h>>>0>a>>>0&(a>>>0<2147483647&(b|0)!=(-1|0))?(w=c[163]|0,w=i-a+w&0-w,w>>>0<2147483647):0)if((oa(w|0)|0)==(-1|0)){oa(d|0)|0;break d}else{a=w+a|0;break}while(0);if((b|0)!=(-1|0)){h=b;f=a;E=193;break b}}while(0);c[154]=c[154]|4;E=190}else E=190;while(0);if((((E|0)==190?j>>>0<2147483647:0)?(x=oa(j|0)|0,y=oa(0)|0,x>>>0<y>>>0&((x|0)!=(-1|0)&(y|0)!=(-1|0))):0)?(z=y-x|0,z>>>0>(o+40|0)>>>0):0){h=x;f=z;E=193}if((E|0)==193){a=(c[151]|0)+f|0;c[151]=a;if(a>>>0>(c[152]|0)>>>0)c[152]=a;i=c[49]|0;do if(i){e=620;do{a=c[e>>2]|0;b=e+4|0;d=c[b>>2]|0;if((h|0)==(a+d|0)){A=a;B=b;C=d;D=e;E=203;break}e=c[e+8>>2]|0}while((e|0)!=0);if(((E|0)==203?(c[D+12>>2]&8|0)==0:0)?i>>>0<h>>>0&i>>>0>=A>>>0:0){c[B>>2]=C+f;L=i+8|0;L=(L&7|0)==0?0:0-L&7;K=i+L|0;L=f-L+(c[46]|0)|0;c[49]=K;c[46]=L;c[K+4>>2]=L|1;c[K+L+4>>2]=40;c[50]=c[165];break}a=c[47]|0;if(h>>>0<a>>>0){c[47]=h;j=h}else j=a;d=h+f|0;a=620;while(1){if((c[a>>2]|0)==(d|0)){b=a;E=211;break}a=c[a+8>>2]|0;if(!a){b=620;break}}if((E|0)==211)if(!(c[a+12>>2]&8)){c[b>>2]=h;l=a+4|0;c[l>>2]=(c[l>>2]|0)+f;l=h+8|0;l=h+((l&7|0)==0?0:0-l&7)|0;a=d+8|0;a=d+((a&7|0)==0?0:0-a&7)|0;k=l+o|0;g=a-l-o|0;c[l+4>>2]=o|3;do if((a|0)!=(i|0)){if((a|0)==(c[48]|0)){L=(c[45]|0)+g|0;c[45]=L;c[48]=k;c[k+4>>2]=L|1;c[k+L>>2]=L;break}b=c[a+4>>2]|0;if((b&3|0)==1){i=b&-8;f=b>>>3;e:do if(b>>>0>=256){h=c[a+24>>2]|0;e=c[a+12>>2]|0;do if((e|0)==(a|0)){d=a+16|0;e=d+4|0;b=c[e>>2]|0;if(!b){b=c[d>>2]|0;if(!b){J=0;break}}else d=e;while(1){e=b+20|0;f=c[e>>2]|0;if(f){b=f;d=e;continue}e=b+16|0;f=c[e>>2]|0;if(!f)break;else{b=f;d=e}}if(d>>>0<j>>>0)na();else{c[d>>2]=0;J=b;break}}else{f=c[a+8>>2]|0;if(f>>>0<j>>>0)na();b=f+12|0;if((c[b>>2]|0)!=(a|0))na();d=e+8|0;if((c[d>>2]|0)==(a|0)){c[b>>2]=e;c[d>>2]=f;J=e;break}else na()}while(0);if(!h)break;b=c[a+28>>2]|0;d=476+(b<<2)|0;do if((a|0)!=(c[d>>2]|0)){if(h>>>0<(c[47]|0)>>>0)na();b=h+16|0;if((c[b>>2]|0)==(a|0))c[b>>2]=J;else c[h+20>>2]=J;if(!J)break e}else{c[d>>2]=J;if(J)break;c[44]=c[44]&~(1<<b);break e}while(0);e=c[47]|0;if(J>>>0<e>>>0)na();c[J+24>>2]=h;b=a+16|0;d=c[b>>2]|0;do if(d)if(d>>>0<e>>>0)na();else{c[J+16>>2]=d;c[d+24>>2]=J;break}while(0);b=c[b+4>>2]|0;if(!b)break;if(b>>>0<(c[47]|0)>>>0)na();else{c[J+20>>2]=b;c[b+24>>2]=J;break}}else{d=c[a+8>>2]|0;e=c[a+12>>2]|0;b=212+(f<<1<<2)|0;do if((d|0)!=(b|0)){if(d>>>0<j>>>0)na();if((c[d+12>>2]|0)==(a|0))break;na()}while(0);if((e|0)==(d|0)){c[43]=c[43]&~(1<<f);break}do if((e|0)==(b|0))G=e+8|0;else{if(e>>>0<j>>>0)na();b=e+8|0;if((c[b>>2]|0)==(a|0)){G=b;break}na()}while(0);c[d+12>>2]=e;c[G>>2]=d}while(0);a=a+i|0;g=i+g|0}a=a+4|0;c[a>>2]=c[a>>2]&-2;c[k+4>>2]=g|1;c[k+g>>2]=g;a=g>>>3;if(g>>>0<256){d=212+(a<<1<<2)|0;b=c[43]|0;a=1<<a;do if(!(b&a)){c[43]=b|a;K=d+8|0;L=d}else{a=d+8|0;b=c[a>>2]|0;if(b>>>0>=(c[47]|0)>>>0){K=a;L=b;break}na()}while(0);c[K>>2]=k;c[L+12>>2]=k;c[k+8>>2]=L;c[k+12>>2]=d;break}a=g>>>8;do if(!a)d=0;else{if(g>>>0>16777215){d=31;break}K=(a+1048320|0)>>>16&8;L=a<<K;J=(L+520192|0)>>>16&4;L=L<<J;d=(L+245760|0)>>>16&2;d=14-(J|K|d)+(L<<d>>>15)|0;d=g>>>(d+7|0)&1|d<<1}while(0);e=476+(d<<2)|0;c[k+28>>2]=d;a=k+16|0;c[a+4>>2]=0;c[a>>2]=0;a=c[44]|0;b=1<<d;if(!(a&b)){c[44]=a|b;c[e>>2]=k;c[k+24>>2]=e;c[k+12>>2]=k;c[k+8>>2]=k;break}f=g<<((d|0)==31?0:25-(d>>>1)|0);a=c[e>>2]|0;while(1){if((c[a+4>>2]&-8|0)==(g|0)){d=a;E=281;break}b=a+16+(f>>>31<<2)|0;d=c[b>>2]|0;if(!d){E=278;break}else{f=f<<1;a=d}}if((E|0)==278)if(b>>>0<(c[47]|0)>>>0)na();else{c[b>>2]=k;c[k+24>>2]=a;c[k+12>>2]=k;c[k+8>>2]=k;break}else if((E|0)==281){a=d+8|0;b=c[a>>2]|0;L=c[47]|0;if(b>>>0>=L>>>0&d>>>0>=L>>>0){c[b+12>>2]=k;c[a>>2]=k;c[k+8>>2]=b;c[k+12>>2]=d;c[k+24>>2]=0;break}else na()}}else{L=(c[46]|0)+g|0;c[46]=L;c[49]=k;c[k+4>>2]=L|1}while(0);L=l+8|0;return L|0}else b=620;while(1){a=c[b>>2]|0;if(a>>>0<=i>>>0?(F=a+(c[b+4>>2]|0)|0,F>>>0>i>>>0):0){b=F;break}b=c[b+8>>2]|0}g=b+-47|0;d=g+8|0;d=g+((d&7|0)==0?0:0-d&7)|0;g=i+16|0;d=d>>>0<g>>>0?i:d;a=d+8|0;e=h+8|0;e=(e&7|0)==0?0:0-e&7;L=h+e|0;e=f+-40-e|0;c[49]=L;c[46]=e;c[L+4>>2]=e|1;c[L+e+4>>2]=40;c[50]=c[165];e=d+4|0;c[e>>2]=27;c[a>>2]=c[155];c[a+4>>2]=c[156];c[a+8>>2]=c[157];c[a+12>>2]=c[158];c[155]=h;c[156]=f;c[158]=0;c[157]=a;a=d+24|0;do{a=a+4|0;c[a>>2]=7}while((a+4|0)>>>0<b>>>0);if((d|0)!=(i|0)){h=d-i|0;c[e>>2]=c[e>>2]&-2;c[i+4>>2]=h|1;c[d>>2]=h;a=h>>>3;if(h>>>0<256){d=212+(a<<1<<2)|0;b=c[43]|0;a=1<<a;if(b&a){a=d+8|0;b=c[a>>2]|0;if(b>>>0<(c[47]|0)>>>0)na();else{H=a;I=b}}else{c[43]=b|a;H=d+8|0;I=d}c[H>>2]=i;c[I+12>>2]=i;c[i+8>>2]=I;c[i+12>>2]=d;break}a=h>>>8;if(a)if(h>>>0>16777215)d=31;else{K=(a+1048320|0)>>>16&8;L=a<<K;J=(L+520192|0)>>>16&4;L=L<<J;d=(L+245760|0)>>>16&2;d=14-(J|K|d)+(L<<d>>>15)|0;d=h>>>(d+7|0)&1|d<<1}else d=0;f=476+(d<<2)|0;c[i+28>>2]=d;c[i+20>>2]=0;c[g>>2]=0;a=c[44]|0;b=1<<d;if(!(a&b)){c[44]=a|b;c[f>>2]=i;c[i+24>>2]=f;c[i+12>>2]=i;c[i+8>>2]=i;break}e=h<<((d|0)==31?0:25-(d>>>1)|0);a=c[f>>2]|0;while(1){if((c[a+4>>2]&-8|0)==(h|0)){d=a;E=307;break}b=a+16+(e>>>31<<2)|0;d=c[b>>2]|0;if(!d){E=304;break}else{e=e<<1;a=d}}if((E|0)==304)if(b>>>0<(c[47]|0)>>>0)na();else{c[b>>2]=i;c[i+24>>2]=a;c[i+12>>2]=i;c[i+8>>2]=i;break}else if((E|0)==307){a=d+8|0;b=c[a>>2]|0;L=c[47]|0;if(b>>>0>=L>>>0&d>>>0>=L>>>0){c[b+12>>2]=i;c[a>>2]=i;c[i+8>>2]=b;c[i+12>>2]=d;c[i+24>>2]=0;break}else na()}}}else{L=c[47]|0;if((L|0)==0|h>>>0<L>>>0)c[47]=h;c[155]=h;c[156]=f;c[158]=0;c[52]=c[161];c[51]=-1;a=0;do{L=212+(a<<1<<2)|0;c[L+12>>2]=L;c[L+8>>2]=L;a=a+1|0}while((a|0)!=32);L=h+8|0;L=(L&7|0)==0?0:0-L&7;K=h+L|0;L=f+-40-L|0;c[49]=K;c[46]=L;c[K+4>>2]=L|1;c[K+L+4>>2]=40;c[50]=c[165]}while(0);a=c[46]|0;if(a>>>0>o>>>0){J=a-o|0;c[46]=J;L=c[49]|0;K=L+o|0;c[49]=K;c[K+4>>2]=J|1;c[L+4>>2]=o|3;L=L+8|0;return L|0}}c[(Sa()|0)>>2]=12;L=0;return L|0}function cb(a){a=a|0;var b=0,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0;if(!a)return;d=a+-8|0;h=c[47]|0;if(d>>>0<h>>>0)na();a=c[a+-4>>2]|0;b=a&3;if((b|0)==1)na();e=a&-8;m=d+e|0;do if(!(a&1)){a=c[d>>2]|0;if(!b)return;k=d+(0-a)|0;j=a+e|0;if(k>>>0<h>>>0)na();if((k|0)==(c[48]|0)){a=m+4|0;b=c[a>>2]|0;if((b&3|0)!=3){q=k;g=j;break}c[45]=j;c[a>>2]=b&-2;c[k+4>>2]=j|1;c[k+j>>2]=j;return}e=a>>>3;if(a>>>0<256){b=c[k+8>>2]|0;d=c[k+12>>2]|0;a=212+(e<<1<<2)|0;if((b|0)!=(a|0)){if(b>>>0<h>>>0)na();if((c[b+12>>2]|0)!=(k|0))na()}if((d|0)==(b|0)){c[43]=c[43]&~(1<<e);q=k;g=j;break}if((d|0)!=(a|0)){if(d>>>0<h>>>0)na();a=d+8|0;if((c[a>>2]|0)==(k|0))f=a;else na()}else f=d+8|0;c[b+12>>2]=d;c[f>>2]=b;q=k;g=j;break}f=c[k+24>>2]|0;d=c[k+12>>2]|0;do if((d|0)==(k|0)){b=k+16|0;d=b+4|0;a=c[d>>2]|0;if(!a){a=c[b>>2]|0;if(!a){i=0;break}}else b=d;while(1){d=a+20|0;e=c[d>>2]|0;if(e){a=e;b=d;continue}d=a+16|0;e=c[d>>2]|0;if(!e)break;else{a=e;b=d}}if(b>>>0<h>>>0)na();else{c[b>>2]=0;i=a;break}}else{e=c[k+8>>2]|0;if(e>>>0<h>>>0)na();a=e+12|0;if((c[a>>2]|0)!=(k|0))na();b=d+8|0;if((c[b>>2]|0)==(k|0)){c[a>>2]=d;c[b>>2]=e;i=d;break}else na()}while(0);if(f){a=c[k+28>>2]|0;b=476+(a<<2)|0;if((k|0)==(c[b>>2]|0)){c[b>>2]=i;if(!i){c[44]=c[44]&~(1<<a);q=k;g=j;break}}else{if(f>>>0<(c[47]|0)>>>0)na();a=f+16|0;if((c[a>>2]|0)==(k|0))c[a>>2]=i;else c[f+20>>2]=i;if(!i){q=k;g=j;break}}d=c[47]|0;if(i>>>0<d>>>0)na();c[i+24>>2]=f;a=k+16|0;b=c[a>>2]|0;do if(b)if(b>>>0<d>>>0)na();else{c[i+16>>2]=b;c[b+24>>2]=i;break}while(0);a=c[a+4>>2]|0;if(a)if(a>>>0<(c[47]|0)>>>0)na();else{c[i+20>>2]=a;c[a+24>>2]=i;q=k;g=j;break}else{q=k;g=j}}else{q=k;g=j}}else{q=d;g=e}while(0);if(q>>>0>=m>>>0)na();a=m+4|0;b=c[a>>2]|0;if(!(b&1))na();if(!(b&2)){if((m|0)==(c[49]|0)){p=(c[46]|0)+g|0;c[46]=p;c[49]=q;c[q+4>>2]=p|1;if((q|0)!=(c[48]|0))return;c[48]=0;c[45]=0;return}if((m|0)==(c[48]|0)){p=(c[45]|0)+g|0;c[45]=p;c[48]=q;c[q+4>>2]=p|1;c[q+p>>2]=p;return}g=(b&-8)+g|0;e=b>>>3;do if(b>>>0>=256){f=c[m+24>>2]|0;a=c[m+12>>2]|0;do if((a|0)==(m|0)){b=m+16|0;d=b+4|0;a=c[d>>2]|0;if(!a){a=c[b>>2]|0;if(!a){n=0;break}}else b=d;while(1){d=a+20|0;e=c[d>>2]|0;if(e){a=e;b=d;continue}d=a+16|0;e=c[d>>2]|0;if(!e)break;else{a=e;b=d}}if(b>>>0<(c[47]|0)>>>0)na();else{c[b>>2]=0;n=a;break}}else{b=c[m+8>>2]|0;if(b>>>0<(c[47]|0)>>>0)na();d=b+12|0;if((c[d>>2]|0)!=(m|0))na();e=a+8|0;if((c[e>>2]|0)==(m|0)){c[d>>2]=a;c[e>>2]=b;n=a;break}else na()}while(0);if(f){a=c[m+28>>2]|0;b=476+(a<<2)|0;if((m|0)==(c[b>>2]|0)){c[b>>2]=n;if(!n){c[44]=c[44]&~(1<<a);break}}else{if(f>>>0<(c[47]|0)>>>0)na();a=f+16|0;if((c[a>>2]|0)==(m|0))c[a>>2]=n;else c[f+20>>2]=n;if(!n)break}d=c[47]|0;if(n>>>0<d>>>0)na();c[n+24>>2]=f;a=m+16|0;b=c[a>>2]|0;do if(b)if(b>>>0<d>>>0)na();else{c[n+16>>2]=b;c[b+24>>2]=n;break}while(0);a=c[a+4>>2]|0;if(a)if(a>>>0<(c[47]|0)>>>0)na();else{c[n+20>>2]=a;c[a+24>>2]=n;break}}}else{b=c[m+8>>2]|0;d=c[m+12>>2]|0;a=212+(e<<1<<2)|0;if((b|0)!=(a|0)){if(b>>>0<(c[47]|0)>>>0)na();if((c[b+12>>2]|0)!=(m|0))na()}if((d|0)==(b|0)){c[43]=c[43]&~(1<<e);break}if((d|0)!=(a|0)){if(d>>>0<(c[47]|0)>>>0)na();a=d+8|0;if((c[a>>2]|0)==(m|0))l=a;else na()}else l=d+8|0;c[b+12>>2]=d;c[l>>2]=b}while(0);c[q+4>>2]=g|1;c[q+g>>2]=g;if((q|0)==(c[48]|0)){c[45]=g;return}}else{c[a>>2]=b&-2;c[q+4>>2]=g|1;c[q+g>>2]=g}a=g>>>3;if(g>>>0<256){d=212+(a<<1<<2)|0;b=c[43]|0;a=1<<a;if(b&a){a=d+8|0;b=c[a>>2]|0;if(b>>>0<(c[47]|0)>>>0)na();else{o=a;p=b}}else{c[43]=b|a;o=d+8|0;p=d}c[o>>2]=q;c[p+12>>2]=q;c[q+8>>2]=p;c[q+12>>2]=d;return}a=g>>>8;if(a)if(g>>>0>16777215)d=31;else{o=(a+1048320|0)>>>16&8;p=a<<o;n=(p+520192|0)>>>16&4;p=p<<n;d=(p+245760|0)>>>16&2;d=14-(n|o|d)+(p<<d>>>15)|0;d=g>>>(d+7|0)&1|d<<1}else d=0;e=476+(d<<2)|0;c[q+28>>2]=d;c[q+20>>2]=0;c[q+16>>2]=0;a=c[44]|0;b=1<<d;do if(a&b){f=g<<((d|0)==31?0:25-(d>>>1)|0);a=c[e>>2]|0;while(1){if((c[a+4>>2]&-8|0)==(g|0)){d=a;e=130;break}b=a+16+(f>>>31<<2)|0;d=c[b>>2]|0;if(!d){e=127;break}else{f=f<<1;a=d}}if((e|0)==127)if(b>>>0<(c[47]|0)>>>0)na();else{c[b>>2]=q;c[q+24>>2]=a;c[q+12>>2]=q;c[q+8>>2]=q;break}else if((e|0)==130){a=d+8|0;b=c[a>>2]|0;p=c[47]|0;if(b>>>0>=p>>>0&d>>>0>=p>>>0){c[b+12>>2]=q;c[a>>2]=q;c[q+8>>2]=b;c[q+12>>2]=d;c[q+24>>2]=0;break}else na()}}else{c[44]=a|b;c[e>>2]=q;c[q+24>>2]=e;c[q+12>>2]=q;c[q+8>>2]=q}while(0);q=(c[51]|0)+-1|0;c[51]=q;if(!q)a=628;else return;while(1){a=c[a>>2]|0;if(!a)break;else a=a+8|0}c[51]=-1;return}function db(){}function eb(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=b+e|0;if((e|0)>=20){d=d&255;h=b&3;i=d|d<<8|d<<16|d<<24;g=f&~3;if(h){h=b+4-h|0;while((b|0)<(h|0)){a[b>>0]=d;b=b+1|0}}while((b|0)<(g|0)){c[b>>2]=i;b=b+4|0}}while((b|0)<(f|0)){a[b>>0]=d;b=b+1|0}return b-e|0}function fb(b,d,e){b=b|0;d=d|0;e=e|0;var f=0;if((e|0)>=4096)return ra(b|0,d|0,e|0)|0;f=b|0;if((b&3)==(d&3)){while(b&3){if(!e)return f|0;a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0;e=e-1|0}while((e|0)>=4){c[b>>2]=c[d>>2];b=b+4|0;d=d+4|0;e=e-4|0}}while((e|0)>0){a[b>>0]=a[d>>0]|0;b=b+1|0;d=d+1|0;e=e-1|0}return f|0}function gb(a,b){a=a|0;b=b|0;return ya[a&1](b|0)|0}function hb(a,b,c,d){a=a|0;b=b|0;c=c|0;d=d|0;return za[a&3](b|0,c|0,d|0)|0}function ib(a,b){a=a|0;b=b|0;Aa[a&1](b|0)}function jb(a){a=a|0;aa(0);return 0}function kb(a,b,c){a=a|0;b=b|0;c=c|0;aa(1);return 0}function lb(a){a=a|0;aa(2)}\n\n// EMSCRIPTEN_END_FUNCS\nvar ya=[jb,Va];var za=[kb,Ua,Xa,kb];var Aa=[lb,ab];return{_malloc:bb,_free:cb,_kiss_fftr_alloc:Pa,_kiss_fftri:Ra,_kiss_fftr_free:Oa,_kiss_fft_alloc:La,_memset:eb,_kiss_fftr:Qa,_kiss_fft:Na,_memcpy:fb,_kiss_fft_free:Ka,runPostSets:db,stackAlloc:Ba,stackSave:Ca,stackRestore:Da,establishStackSpace:Ea,setThrew:Fa,setTempRet0:Ia,getTempRet0:Ja,dynCall_ii:gb,dynCall_iiii:hb,dynCall_vi:ib}})\n\n\n// EMSCRIPTEN_END_ASM\n(Module.asmGlobalArg,Module.asmLibraryArg,buffer);var _kiss_fftr=Module[\"_kiss_fftr\"]=asm[\"_kiss_fftr\"];var _free=Module[\"_free\"]=asm[\"_free\"];var runPostSets=Module[\"runPostSets\"]=asm[\"runPostSets\"];var _kiss_fftr_alloc=Module[\"_kiss_fftr_alloc\"]=asm[\"_kiss_fftr_alloc\"];var _kiss_fftr_free=Module[\"_kiss_fftr_free\"]=asm[\"_kiss_fftr_free\"];var _kiss_fftri=Module[\"_kiss_fftri\"]=asm[\"_kiss_fftri\"];var _kiss_fft_alloc=Module[\"_kiss_fft_alloc\"]=asm[\"_kiss_fft_alloc\"];var _memset=Module[\"_memset\"]=asm[\"_memset\"];var _malloc=Module[\"_malloc\"]=asm[\"_malloc\"];var _kiss_fft=Module[\"_kiss_fft\"]=asm[\"_kiss_fft\"];var _memcpy=Module[\"_memcpy\"]=asm[\"_memcpy\"];var _kiss_fft_free=Module[\"_kiss_fft_free\"]=asm[\"_kiss_fft_free\"];var dynCall_ii=Module[\"dynCall_ii\"]=asm[\"dynCall_ii\"];var dynCall_iiii=Module[\"dynCall_iiii\"]=asm[\"dynCall_iiii\"];var dynCall_vi=Module[\"dynCall_vi\"]=asm[\"dynCall_vi\"];Runtime.stackAlloc=asm[\"stackAlloc\"];Runtime.stackSave=asm[\"stackSave\"];Runtime.stackRestore=asm[\"stackRestore\"];Runtime.establishStackSpace=asm[\"establishStackSpace\"];Runtime.setTempRet0=asm[\"setTempRet0\"];Runtime.getTempRet0=asm[\"getTempRet0\"];function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;var preloadStartTime=null;var calledMain=false;dependenciesFulfilled=function runCaller(){if(!Module[\"calledRun\"])run();if(!Module[\"calledRun\"])dependenciesFulfilled=runCaller};Module[\"callMain\"]=Module.callMain=function callMain(args){assert(runDependencies==0,\"cannot call main when async dependencies remain! (listen on __ATMAIN__)\");assert(__ATPRERUN__.length==0,\"cannot call main when preRun functions remain to be called\");args=args||[];ensureInitRuntime();var argc=args.length+1;function pad(){for(var i=0;i<4-1;i++){argv.push(0)}}var argv=[allocate(intArrayFromString(Module[\"thisProgram\"]),\"i8\",ALLOC_NORMAL)];pad();for(var i=0;i<argc-1;i=i+1){argv.push(allocate(intArrayFromString(args[i]),\"i8\",ALLOC_NORMAL));pad()}argv.push(0);argv=allocate(argv,\"i32\",ALLOC_NORMAL);try{var ret=Module[\"_main\"](argc,argv,0);exit(ret,true)}catch(e){if(e instanceof ExitStatus){return}else if(e==\"SimulateInfiniteLoop\"){Module[\"noExitRuntime\"]=true;return}else{if(e&&typeof e===\"object\"&&e.stack)Module.printErr(\"exception thrown: \"+[e,e.stack]);throw e}}finally{calledMain=true}};function run(args){args=args||Module[\"arguments\"];if(preloadStartTime===null)preloadStartTime=Date.now();if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module[\"calledRun\"])return;function doRun(){if(Module[\"calledRun\"])return;Module[\"calledRun\"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();if(Module[\"_main\"]&&shouldRunNow)Module[\"callMain\"](args);postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout((function(){setTimeout((function(){Module[\"setStatus\"](\"\")}),1);doRun()}),1)}else{doRun()}}Module[\"run\"]=Module.run=run;function exit(status,implicit){if(implicit&&Module[\"noExitRuntime\"]){return}if(Module[\"noExitRuntime\"]){}else{ABORT=true;EXITSTATUS=status;STACKTOP=initialStackTop;exitRuntime();if(Module[\"onExit\"])Module[\"onExit\"](status)}if(ENVIRONMENT_IS_NODE){process[\"stdout\"][\"once\"](\"drain\",(function(){process[\"exit\"](status)}));console.log(\" \");setTimeout((function(){process[\"exit\"](status)}),500)}else if(ENVIRONMENT_IS_SHELL&&typeof quit===\"function\"){quit(status)}throw new ExitStatus(status)}Module[\"exit\"]=Module.exit=exit;var abortDecorators=[];function abort(what){if(what!==undefined){Module.print(what);Module.printErr(what);what=JSON.stringify(what)}else{what=\"\"}ABORT=true;EXITSTATUS=1;var extra=\"\\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.\";var output=\"abort(\"+what+\") at \"+stackTrace()+extra;if(abortDecorators){abortDecorators.forEach((function(decorator){output=decorator(output,what)}))}throw output}Module[\"abort\"]=Module.abort=abort;if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}var shouldRunNow=true;if(Module[\"noInitialRun\"]){shouldRunNow=false}run()\n\n\n  return Module;\n};\n\nmodule.exports = KissFFTModule;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../audio-features/~/kissfft-js/src/KissFFT.js\n// module id = 50\n// module chunks = 0","\"use strict\";\n\nvar KissFFTModule = require('./KissFFT');\n\n\nvar kissFFTModule = KissFFTModule({});\n\nvar kiss_fftr_alloc = kissFFTModule.cwrap(\n    'kiss_fftr_alloc', 'number', ['number', 'number', 'number', 'number' ]\n);\n\nvar kiss_fftr = kissFFTModule.cwrap(\n    'kiss_fftr', 'void', ['number', 'number', 'number' ]\n);\n\nvar kiss_fftri = kissFFTModule.cwrap(\n    'kiss_fftri', 'void', ['number', 'number', 'number' ]\n);\n\nvar kiss_fftr_free = kissFFTModule.cwrap(\n    'kiss_fftr_free', 'void', ['number']\n);\n\nvar kiss_fft_alloc = kissFFTModule.cwrap(\n    'kiss_fft_alloc', 'number', ['number', 'number', 'number', 'number' ]\n);\n\nvar kiss_fft = kissFFTModule.cwrap(\n    'kiss_fft', 'void', ['number', 'number', 'number' ]\n);\n\nvar kiss_fft_free = kissFFTModule.cwrap(\n    'kiss_fft_free', 'void', ['number']\n);\n\nvar FFT = function (size) {\n\n    this.size = size;\n    this.fcfg = kiss_fft_alloc(size, false);\n    this.icfg = kiss_fft_alloc(size, true);\n    \n    this.inptr = kissFFTModule._malloc(size*8 + size*8);\n    this.outptr = this.inptr + size*8;\n    \n    this.cin = new Float32Array(kissFFTModule.HEAPU8.buffer, this.inptr, size*2);\n    this.cout = new Float32Array(kissFFTModule.HEAPU8.buffer, this.outptr, size*2);\n    \n    this.forward = function(cin) {\n\tthis.cin.set(cin);\n\tkiss_fft(this.fcfg, this.inptr, this.outptr);\n\treturn new Float32Array(kissFFTModule.HEAPU8.buffer,\n\t\t\t\tthis.outptr, this.size * 2);\n    };\n    \n    this.inverse = function(cin) {\n\tthis.cin.set(cpx);\n\tkiss_fft(this.icfg, this.inptr, this.outptr);\n\treturn new Float32Array(kissFFTModule.HEAPU8.buffer,\n\t\t\t\tthis.outptr, this.size * 2);\n    };\n    \n    this.dispose = function() {\n\tkissFFTModule._free(this.inptr);\n\tkiss_fft_free(this.fcfg);\n\tkiss_fft_free(this.icfg);\n    }\n};\n\nvar FFTR = function (size) {\n\n    this.size = size;\n    this.fcfg = kiss_fftr_alloc(size, false);\n    this.icfg = kiss_fftr_alloc(size, true);\n    \n    this.rptr = kissFFTModule._malloc(size*4 + (size+2)*4);\n    this.cptr = this.rptr + size*4;\n    \n    this.ri = new Float32Array(kissFFTModule.HEAPU8.buffer, this.rptr, size);\n    this.ci = new Float32Array(kissFFTModule.HEAPU8.buffer, this.cptr, size+2);\n    \n    this.forward = function(real) {\n\tthis.ri.set(real);\n\tkiss_fftr(this.fcfg, this.rptr, this.cptr);\n\treturn new Float32Array(kissFFTModule.HEAPU8.buffer,\n\t\t\t\tthis.cptr, this.size + 2);\n    };\n    \n    this.inverse = function(cpx) {\n\tthis.ci.set(cpx);\n\tkiss_fftri(this.icfg, this.cptr, this.rptr);\n\treturn new Float32Array(kissFFTModule.HEAPU8.buffer,\n\t\t\t\tthis.rptr, this.size);\n    };\n    \n    this.dispose = function() {\n\tkissFFTModule._free(this.rptr);\n\tkiss_fftr_free(this.fcfg);\n\tkiss_fftr_free(this.icfg);\n    }\n};\n\nmodule.exports = {\n    FFT: FFT,\n    FFTR: FFTR\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../audio-features/~/kissfft-js/src/main.js\n// module id = 51\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../math/ndarray\");\nvar MANIFEST_FILE = 'manifest.json';\nvar CheckpointLoader = (function () {\n    function CheckpointLoader(urlPath) {\n        this.urlPath = urlPath;\n        if (this.urlPath.charAt(this.urlPath.length - 1) !== '/') {\n            this.urlPath += '/';\n        }\n    }\n    CheckpointLoader.prototype.loadManifest = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', _this.urlPath + MANIFEST_FILE);\n            xhr.onload = function () {\n                _this.checkpointManifest = JSON.parse(xhr.responseText);\n                resolve();\n            };\n            xhr.onerror = function (error) {\n                throw new Error(MANIFEST_FILE + \" not found at \" + _this.urlPath + \". \" + error);\n            };\n            xhr.send();\n        });\n    };\n    CheckpointLoader.prototype.getCheckpointManifest = function () {\n        var _this = this;\n        if (this.checkpointManifest == null) {\n            return new Promise(function (resolve, reject) {\n                _this.loadManifest().then(function () {\n                    resolve(_this.checkpointManifest);\n                });\n            });\n        }\n        return new Promise(function (resolve, reject) {\n            resolve(_this.checkpointManifest);\n        });\n    };\n    CheckpointLoader.prototype.getAllVariables = function () {\n        var _this = this;\n        if (this.variables != null) {\n            return new Promise(function (resolve, reject) {\n                resolve(_this.variables);\n            });\n        }\n        return new Promise(function (resolve, reject) {\n            _this.getCheckpointManifest().then(function (checkpointDefinition) {\n                var variableNames = Object.keys(_this.checkpointManifest);\n                var variablePromises = [];\n                for (var i = 0; i < variableNames.length; i++) {\n                    variablePromises.push(_this.getVariable(variableNames[i]));\n                }\n                Promise.all(variablePromises).then(function (variables) {\n                    _this.variables = {};\n                    for (var i = 0; i < variables.length; i++) {\n                        _this.variables[variableNames[i]] = variables[i];\n                    }\n                    resolve(_this.variables);\n                });\n            });\n        });\n    };\n    CheckpointLoader.prototype.getVariable = function (varName) {\n        var _this = this;\n        if (!(varName in this.checkpointManifest)) {\n            throw new Error('Cannot load non-existant variable ' + varName);\n        }\n        var variableRequestPromiseMethod = function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.responseType = 'arraybuffer';\n            var fname = _this.checkpointManifest[varName].filename;\n            xhr.open('GET', _this.urlPath + fname);\n            xhr.onload = function () {\n                var values = new Float32Array(xhr.response);\n                var ndarray = ndarray_1.NDArray.make(_this.checkpointManifest[varName].shape, { values: values });\n                resolve(ndarray);\n            };\n            xhr.onerror = function (error) {\n                throw new Error(\"Could not fetch variable \" + varName + \": \" + error);\n            };\n            xhr.send();\n        };\n        if (this.checkpointManifest == null) {\n            return new Promise(function (resolve, reject) {\n                _this.loadManifest().then(function () {\n                    new Promise(variableRequestPromiseMethod).then(resolve);\n                });\n            });\n        }\n        return new Promise(variableRequestPromiseMethod);\n    };\n    return CheckpointLoader;\n}());\nexports.CheckpointLoader = CheckpointLoader;\n//# sourceMappingURL=checkpoint_loader.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/data/checkpoint_loader.js\n// module id = 52\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../math/ndarray\");\nvar util = require(\"../util\");\nvar InMemoryShuffledInputProviderBuilder = (function () {\n    function InMemoryShuffledInputProviderBuilder(inputs) {\n        this.inputs = inputs;\n        this.idx = 0;\n        this.inputCounter = 0;\n        this.epoch = 0;\n        this.shuffledIndices = util.createShuffledIndices(inputs[0].length);\n        this.numInputs = inputs.length;\n        var numExamples = this.inputs[0].length;\n        for (var i = 0; i < this.numInputs; i++) {\n            util.assert(this.inputs[i].length === numExamples, 'Number of examples must match across different inputs.');\n        }\n        for (var i = 0; i < this.numInputs; i++) {\n            var inputShape = this.inputs[i][0].shape;\n            for (var j = 0; j < this.inputs[i].length; j++) {\n                util.assertShapesMatch(inputShape, this.inputs[i][j].shape);\n            }\n        }\n    }\n    InMemoryShuffledInputProviderBuilder.prototype.getCurrentExampleIndex = function () {\n        var returnIdx = this.idx;\n        this.inputCounter++;\n        if (this.inputCounter >= this.numInputs) {\n            this.idx++;\n            this.inputCounter = 0;\n            if (this.idx >= this.inputs[0].length) {\n                this.idx = 0;\n                this.epoch++;\n            }\n        }\n        return returnIdx;\n    };\n    InMemoryShuffledInputProviderBuilder.prototype.getNextInput = function (inputId) {\n        var currentExampleIndex = this.getCurrentExampleIndex();\n        return this.inputs[inputId][this.shuffledIndices[currentExampleIndex]];\n    };\n    InMemoryShuffledInputProviderBuilder.prototype.getEpoch = function () {\n        return this.epoch;\n    };\n    InMemoryShuffledInputProviderBuilder.prototype.getInputProviders = function () {\n        var inputProviders = [];\n        for (var i = 0; i < this.numInputs; i++) {\n            inputProviders.push(this.getInputProvider(i));\n        }\n        return inputProviders;\n    };\n    return InMemoryShuffledInputProviderBuilder;\n}());\nexports.InMemoryShuffledInputProviderBuilder = InMemoryShuffledInputProviderBuilder;\nvar InCPUMemoryShuffledInputProviderBuilder = (function (_super) {\n    __extends(InCPUMemoryShuffledInputProviderBuilder, _super);\n    function InCPUMemoryShuffledInputProviderBuilder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InCPUMemoryShuffledInputProviderBuilder.prototype.getInputProvider = function (inputId) {\n        var shuffledInputProvider = this;\n        return {\n            getNextCopy: function (math) {\n                return ndarray_1.NDArray.like(shuffledInputProvider.getNextInput(inputId));\n            },\n            disposeCopy: function (math, copy) {\n                copy.dispose();\n            }\n        };\n    };\n    return InCPUMemoryShuffledInputProviderBuilder;\n}(InMemoryShuffledInputProviderBuilder));\nexports.InCPUMemoryShuffledInputProviderBuilder = InCPUMemoryShuffledInputProviderBuilder;\nvar InGPUMemoryShuffledInputProviderBuilder = (function (_super) {\n    __extends(InGPUMemoryShuffledInputProviderBuilder, _super);\n    function InGPUMemoryShuffledInputProviderBuilder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InGPUMemoryShuffledInputProviderBuilder.prototype.getInputProvider = function (inputId) {\n        var shuffledInputProvider = this;\n        return {\n            getNextCopy: function (math) {\n                return math.clone(shuffledInputProvider.getNextInput(inputId));\n            },\n            disposeCopy: function (math, copy) {\n                copy.dispose();\n            }\n        };\n    };\n    return InGPUMemoryShuffledInputProviderBuilder;\n}(InMemoryShuffledInputProviderBuilder));\nexports.InGPUMemoryShuffledInputProviderBuilder = InGPUMemoryShuffledInputProviderBuilder;\n//# sourceMappingURL=input_provider.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/data/input_provider.js\n// module id = 53\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isMobile() {\n    var a = navigator.userAgent || navigator.vendor || window.opera;\n    return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i\n        .test(a) ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\n            .test(a.substr(0, 4));\n}\nexports.isMobile = isMobile;\n//# sourceMappingURL=device_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/device_util.js\n// module id = 54\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graph_1 = require(\"./graph\");\nvar graph_util = require(\"./graph_util\");\nvar add_1 = require(\"./ops/add\");\nvar argmax_1 = require(\"./ops/argmax\");\nvar argmaxequals_1 = require(\"./ops/argmaxequals\");\nvar concat3d_1 = require(\"./ops/concat3d\");\nvar convolution_1 = require(\"./ops/convolution\");\nvar divide_1 = require(\"./ops/divide\");\nvar element_wise_activation_1 = require(\"./ops/element_wise_activation\");\nvar element_wise_cost_1 = require(\"./ops/element_wise_cost\");\nvar exp_1 = require(\"./ops/exp\");\nvar linear_combination_1 = require(\"./ops/linear_combination\");\nvar log_1 = require(\"./ops/log\");\nvar matmul_1 = require(\"./ops/matmul\");\nvar max_pool_1 = require(\"./ops/max_pool\");\nvar multiply_1 = require(\"./ops/multiply\");\nvar reduce_sum_1 = require(\"./ops/reduce_sum\");\nvar reshape_1 = require(\"./ops/reshape\");\nvar softmax_1 = require(\"./ops/softmax\");\nvar subtract_1 = require(\"./ops/subtract\");\nfunction emitFromGraphNodes(nodes) {\n    var ops = [];\n    nodes.forEach(function (node) { return Array.prototype.push.apply(ops, emitOpFromNode(node)); });\n    return ops;\n}\nexports.emitFromGraphNodes = emitFromGraphNodes;\nfunction emitOpFromNode(node) {\n    if (node instanceof graph_1.ReshapeNode) {\n        return [new reshape_1.Reshape(node.inputs[graph_1.ReshapeNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.MatMulNode) {\n        var x1 = node.inputs[graph_1.MatMulNode.X1];\n        var x2 = node.inputs[graph_1.MatMulNode.X2];\n        return [new matmul_1.MatMul(x1, x2, node.output)];\n    }\n    else if (node instanceof graph_1.Convolution2DNode) {\n        var w = node.inputs[graph_1.Convolution2DNode.W];\n        var x = node.inputs[graph_1.Convolution2DNode.X];\n        var b = node.inputs[graph_1.Convolution2DNode.B];\n        return [new convolution_1.Convolution2D(w, x, b, node.output, node.fieldSize, node.outputDepth, node.stride, node.zeroPad)];\n    }\n    else if (node instanceof graph_1.MaxPoolNode) {\n        var x = node.inputs[graph_1.MaxPoolNode.X];\n        return [new max_pool_1.MaxPool(x, node.output, node.fieldSize, node.stride, node.zeroPad)];\n    }\n    else if (node instanceof graph_1.ExpNode) {\n        return [new exp_1.Exp(node.inputs[graph_1.ExpNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.LogNode) {\n        return [new log_1.Log(node.inputs[graph_1.LogNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.ReLUNode) {\n        return [new element_wise_activation_1.ReLU(node.inputs[graph_1.ReLUNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.LeakyReLUNode) {\n        return [new element_wise_activation_1.LeakyReLU(node.inputs[graph_1.LeakyReLUNode.X], node.output, node.alpha)];\n    }\n    else if (node instanceof graph_1.TanHNode) {\n        return [new element_wise_activation_1.TanH(node.inputs[graph_1.TanHNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.SigmoidNode) {\n        return [new element_wise_activation_1.Sigmoid(node.inputs[graph_1.SigmoidNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.SoftmaxCrossEntropyCostNode) {\n        var x = node.inputs[graph_1.SoftmaxCrossEntropyCostNode.X];\n        var target = node.inputs[graph_1.SoftmaxCrossEntropyCostNode.TARGET];\n        return [new softmax_1.SoftmaxCrossEntropyCost(x, target, node.output)];\n    }\n    else if (node instanceof graph_1.SoftmaxNode) {\n        return [new softmax_1.Softmax(node.inputs[graph_1.SoftmaxNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.MeanSquaredCostNode) {\n        var label = node.inputs[graph_1.MeanSquaredCostNode.LABEL];\n        var prediction = node.inputs[graph_1.MeanSquaredCostNode.PREDICTION];\n        return [new element_wise_cost_1.MeanSquaredCost(label, prediction, node.output)];\n    }\n    else if (node instanceof graph_1.ArgMaxEqualsNode) {\n        return [new argmaxequals_1.ArgMaxEquals(node.inputs[graph_1.ArgMaxEqualsNode.X1], node.inputs[graph_1.ArgMaxEqualsNode.X2], node.output)];\n    }\n    else if (node instanceof graph_1.ArgMaxNode) {\n        return [new argmax_1.ArgMax(node.x, node.output)];\n    }\n    else if (node instanceof graph_1.FusedLinearCombinationNode) {\n        return [new linear_combination_1.LinearCombination(node.inputs[graph_1.FusedLinearCombinationNode.T1], node.inputs[graph_1.FusedLinearCombinationNode.T2], node.inputs[graph_1.FusedLinearCombinationNode.C1], node.inputs[graph_1.FusedLinearCombinationNode.C2], node.output)];\n    }\n    else if (node instanceof graph_1.Concat3DNode) {\n        return [new concat3d_1.Concat3D(node.inputs[graph_1.Concat3DNode.X1], node.inputs[graph_1.Concat3DNode.X2], node.axis, node.output)];\n    }\n    else if (node instanceof graph_1.SquareNode) {\n        return [new element_wise_activation_1.Square(node.inputs[graph_1.SquareNode.X], node.output)];\n    }\n    else if (node instanceof graph_1.AddNode) {\n        return [new add_1.Add(node.inputs[graph_1.AddNode.T1], node.inputs[graph_1.AddNode.T2], node.output)];\n    }\n    else if (node instanceof graph_1.SubtractNode) {\n        return [new subtract_1.Subtract(node.inputs[graph_1.SubtractNode.T1], node.inputs[graph_1.SubtractNode.T2], node.output)];\n    }\n    else if (node instanceof graph_1.MultiplyNode) {\n        return [new multiply_1.Multiply(node.inputs[graph_1.MultiplyNode.T1], node.inputs[graph_1.MultiplyNode.T2], node.output)];\n    }\n    else if (node instanceof graph_1.DivideNode) {\n        return [new divide_1.Divide(node.inputs[graph_1.DivideNode.T1], node.inputs[graph_1.DivideNode.T2], node.output)];\n    }\n    else if (node instanceof graph_1.ReduceSumNode) {\n        return [new reduce_sum_1.ReduceSum(node.inputs[graph_1.ReduceSumNode.X], node.output)];\n    }\n    else if (graph_util.isInputNode(node)) {\n        return [];\n    }\n    else {\n        throw Error(\"Unsupported node type: \" + node.constructor.name);\n    }\n}\n//# sourceMappingURL=operation_emitter.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/operation_emitter.js\n// module id = 55\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar util = require(\"../../util\");\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar Add = (function (_super) {\n    __extends(Add, _super);\n    function Add(x1Tensor, x2Tensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.yTensor = yTensor;\n        util.assert(util.sizeFromShape(x1Tensor.shape) === 1 ||\n            util.sizeFromShape(x2Tensor.shape) === 1 ||\n            util.arraysEqual(x1Tensor.shape, x2Tensor.shape), 'One of t1 or t2 must be a scalar, or t1 and t2 must have ' +\n            'the same shape');\n        return _this;\n    }\n    Add.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function (keep) {\n            var result;\n            if (util.isScalarShape(x1.shape)) {\n                result = math.scalarPlusArray(x1, x2);\n            }\n            else if (util.isScalarShape(x2.shape)) {\n                result = math.scalarPlusArray(x2, x1);\n            }\n            else {\n                result = math.add(x1, x2);\n            }\n            inferenceArrays.set(_this.yTensor, keep(result));\n        });\n    };\n    Add.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var dy = gradientArrays.get(this.yTensor);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.x1Tensor)) {\n                if (util.isScalarShape(_this.x1Tensor.shape)) {\n                    var sum = math.sum(dy);\n                    if (_this.dySizeScalar == null) {\n                        _this.dySizeScalar = ndarray_1.Scalar.new(dy.size);\n                    }\n                    gradientArrays.add(_this.x1Tensor, math.divide(sum, _this.dySizeScalar));\n                }\n                else {\n                    gradientArrays.add(_this.x1Tensor, math.clone(dy));\n                }\n            }\n            if (graph_util.shouldBackProp(_this.x2Tensor)) {\n                if (util.isScalarShape(_this.x2Tensor.shape)) {\n                    var sum = math.sum(dy);\n                    if (_this.dySizeScalar == null) {\n                        _this.dySizeScalar = ndarray_1.Scalar.new(dy.size);\n                    }\n                    gradientArrays.add(_this.x2Tensor, math.divide(sum, _this.dySizeScalar));\n                }\n                else {\n                    gradientArrays.add(_this.x2Tensor, math.clone(dy));\n                }\n            }\n        });\n    };\n    Add.prototype.dispose = function () {\n        if (this.dySizeScalar != null) {\n            this.dySizeScalar.dispose();\n        }\n    };\n    return Add;\n}(op_1.Operation));\nexports.Add = Add;\n//# sourceMappingURL=add.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/add.js\n// module id = 56\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar op_1 = require(\"./op\");\nvar ArgMax = (function (_super) {\n    __extends(ArgMax, _super);\n    function ArgMax(xTensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.xTensor = xTensor;\n        _this.yTensor = yTensor;\n        return _this;\n    }\n    ArgMax.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(math.argMax(x)));\n        });\n    };\n    ArgMax.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        throw new Error('ArgMax backprop unimplemented');\n    };\n    return ArgMax;\n}(op_1.Operation));\nexports.ArgMax = ArgMax;\n//# sourceMappingURL=argmax.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/argmax.js\n// module id = 57\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar op_1 = require(\"./op\");\nvar ArgMaxEquals = (function (_super) {\n    __extends(ArgMaxEquals, _super);\n    function ArgMaxEquals(x1Tensor, x2Tensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.yTensor = yTensor;\n        return _this;\n    }\n    ArgMaxEquals.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(math.argMaxEquals(x1, x2)));\n        });\n    };\n    ArgMaxEquals.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        throw new Error('ArgMaxEquals backprop unimplemented');\n    };\n    return ArgMaxEquals;\n}(op_1.Operation));\nexports.ArgMaxEquals = ArgMaxEquals;\n//# sourceMappingURL=argmaxequals.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/argmaxequals.js\n// module id = 58\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar concat_util = require(\"../../math/concat_util\");\nvar op_1 = require(\"./op\");\nvar Concat3D = (function (_super) {\n    __extends(Concat3D, _super);\n    function Concat3D(x1Tensor, x2Tensor, axis, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.axis = axis;\n        _this.yTensor = yTensor;\n        concat_util.assertParams(x1Tensor.shape, x2Tensor.shape, axis);\n        return _this;\n    }\n    Concat3D.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function (keep) {\n            var concatResult = math.concat3D(x1, x2, _this.axis);\n            inferenceArrays.set(_this.yTensor, keep(concatResult));\n        });\n    };\n    Concat3D.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        throw new Error('Concat3D backprop not implemented.');\n    };\n    return Concat3D;\n}(op_1.Operation));\nexports.Concat3D = Concat3D;\n//# sourceMappingURL=concat3d.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/concat3d.js\n// module id = 59\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar conv_util = require(\"../../math/conv_util\");\nvar util = require(\"../../util\");\nvar op_1 = require(\"./op\");\nvar Convolution2D = (function (_super) {\n    __extends(Convolution2D, _super);\n    function Convolution2D(wTensor, xTensor, bTensor, yTensor, fieldSize, outputDepth, stride, zeroPad) {\n        if (stride === void 0) { stride = 1; }\n        var _this = _super.call(this) || this;\n        _this.wTensor = wTensor;\n        _this.xTensor = xTensor;\n        _this.bTensor = bTensor;\n        _this.yTensor = yTensor;\n        _this.fieldSize = fieldSize;\n        _this.outputDepth = outputDepth;\n        _this.stride = stride;\n        _this.assertWeightsShape(wTensor.shape);\n        _this.zeroPad = zeroPad != null ?\n            zeroPad :\n            conv_util.computeDefaultPad(_this.xTensor.shape, _this.fieldSize, _this.stride);\n        util.assert(util.isInt(_this.zeroPad), \"The zero padding (\" + _this.zeroPad + \") must be an integer. Change the \" +\n            \"stride and/or zero pad parameters\");\n        return _this;\n    }\n    Convolution2D.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var weights = inferenceArrays.get(this.wTensor);\n        var biases = inferenceArrays.get(this.bTensor);\n        var x = inferenceArrays.get(this.xTensor);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(math.conv2d(x, weights, biases, _this.stride, _this.zeroPad)));\n        });\n    };\n    Convolution2D.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var weights = inferenceArrays.get(this.wTensor);\n        var x = inferenceArrays.get(this.xTensor);\n        var dy = gradientArrays.get(this.yTensor);\n        math.scope(function () {\n            var _a = math.conv2dBackProp(x, dy, weights, _this.stride, _this.zeroPad), dw = _a.dw, db = _a.db, dx = _a.dx;\n            gradientArrays.add(_this.wTensor, dw);\n            gradientArrays.add(_this.bTensor, db);\n            gradientArrays.add(_this.xTensor, dx);\n        });\n    };\n    Convolution2D.prototype.assertWeightsShape = function (weightsShape) {\n        util.assert(weightsShape[0] === this.fieldSize &&\n            weightsShape[1] === this.fieldSize &&\n            weightsShape[2] === this.xTensor.shape[2] &&\n            weightsShape[3] === this.outputDepth, \"weights must be of shape [\" + this.fieldSize + \",\" + this.fieldSize + \",\" +\n            (this.xTensor.shape[2] + \",\" + this.outputDepth + \"] but they are of\") +\n            (\"shape [\" + weightsShape + \"]\"));\n    };\n    return Convolution2D;\n}(op_1.Operation));\nexports.Convolution2D = Convolution2D;\n//# sourceMappingURL=convolution.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/convolution.js\n// module id = 60\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../../util\");\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar Divide = (function (_super) {\n    __extends(Divide, _super);\n    function Divide(x1Tensor, x2Tensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.yTensor = yTensor;\n        util.assert(util.sizeFromShape(x1Tensor.shape) === 1 ||\n            util.sizeFromShape(x2Tensor.shape) === 1 ||\n            util.arraysEqual(x1Tensor.shape, x2Tensor.shape), 'One of t1 or t2 must be a scalar, or t1 and t2 must have ' +\n            'the same shape');\n        return _this;\n    }\n    Divide.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var t1 = inferenceArrays.get(this.x1Tensor);\n        var t2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function (keep) {\n            var result;\n            if (util.isScalarShape(t1.shape)) {\n                result = math.scalarDividedByArray(t1, t2);\n            }\n            else if (util.isScalarShape(t2.shape)) {\n                result = math.arrayDividedByScalar(t1, t2);\n            }\n            else {\n                result = math.divide(t1, t2);\n            }\n            inferenceArrays.set(_this.yTensor, keep(result));\n        });\n    };\n    Divide.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        var dy = gradientArrays.get(this.yTensor);\n        var x1IsScalar = util.isScalarShape(x1.shape);\n        var x2IsScalar = util.isScalarShape(x2.shape);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.x1Tensor)) {\n                if (x1IsScalar) {\n                    var div = math.divide(dy, x2);\n                    gradientArrays.add(_this.x1Tensor, math.sum(div));\n                    div.dispose();\n                }\n                else if (x2IsScalar) {\n                    gradientArrays.add(_this.x1Tensor, math.arrayDividedByScalar(dy, x2));\n                }\n                else {\n                    gradientArrays.add(_this.x1Tensor, math.divide(dy, x2));\n                }\n            }\n            if (graph_util.shouldBackProp(_this.x2Tensor)) {\n                var x2Squared = math.elementWiseMul(x2, x2);\n                var x1OverX2Squared = void 0;\n                if (x2IsScalar) {\n                    x1OverX2Squared = math.arrayDividedByScalar(x1, x2Squared);\n                }\n                else if (x1IsScalar) {\n                    x1OverX2Squared = math.scalarDividedByArray(x1, x2Squared);\n                }\n                else {\n                    x1OverX2Squared = math.divide(x1, x2Squared);\n                }\n                var dx2 = math.neg(x1OverX2Squared);\n                var dyTimesDerivative = math.elementWiseMul(dy, dx2);\n                if (x2IsScalar) {\n                    gradientArrays.add(_this.x2Tensor, math.sum(dyTimesDerivative));\n                }\n                else {\n                    gradientArrays.add(_this.x2Tensor, dyTimesDerivative);\n                }\n            }\n        });\n    };\n    return Divide;\n}(op_1.Operation));\nexports.Divide = Divide;\n//# sourceMappingURL=divide.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/divide.js\n// module id = 61\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar activation_functions_1 = require(\"../../math/activation_functions\");\nvar op_1 = require(\"./op\");\nvar ElementWiseActivation = (function (_super) {\n    __extends(ElementWiseActivation, _super);\n    function ElementWiseActivation(xTensor, yTensor, func) {\n        var _this = _super.call(this) || this;\n        _this.xTensor = xTensor;\n        _this.yTensor = yTensor;\n        _this.func = func;\n        return _this;\n    }\n    ElementWiseActivation.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(_this.func.output(math, x)));\n        });\n    };\n    ElementWiseActivation.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        var y = inferenceArrays.get(this.yTensor);\n        var dy = gradientArrays.get(this.yTensor);\n        math.scope(function () {\n            var dydx = _this.func.der(math, x, y);\n            gradientArrays.add(_this.xTensor, math.elementWiseMul(dy, dydx));\n            dydx.dispose();\n        });\n    };\n    ElementWiseActivation.prototype.dispose = function () {\n        this.func.dispose();\n    };\n    return ElementWiseActivation;\n}(op_1.Operation));\nexports.ElementWiseActivation = ElementWiseActivation;\nvar ReLU = (function (_super) {\n    __extends(ReLU, _super);\n    function ReLU(xTensor, yTensor) {\n        return _super.call(this, xTensor, yTensor, new activation_functions_1.ReLUFunc()) || this;\n    }\n    return ReLU;\n}(ElementWiseActivation));\nexports.ReLU = ReLU;\nvar LeakyReLU = (function (_super) {\n    __extends(LeakyReLU, _super);\n    function LeakyReLU(xTensor, yTensor, alpha) {\n        return _super.call(this, xTensor, yTensor, new activation_functions_1.LeakyReluFunc(alpha)) || this;\n    }\n    return LeakyReLU;\n}(ElementWiseActivation));\nexports.LeakyReLU = LeakyReLU;\nvar TanH = (function (_super) {\n    __extends(TanH, _super);\n    function TanH(xTensor, yTensor) {\n        return _super.call(this, xTensor, yTensor, new activation_functions_1.TanHFunc()) || this;\n    }\n    return TanH;\n}(ElementWiseActivation));\nexports.TanH = TanH;\nvar Sigmoid = (function (_super) {\n    __extends(Sigmoid, _super);\n    function Sigmoid(xTensor, yTensor) {\n        return _super.call(this, xTensor, yTensor, new activation_functions_1.SigmoidFunc()) || this;\n    }\n    return Sigmoid;\n}(ElementWiseActivation));\nexports.Sigmoid = Sigmoid;\nvar Square = (function (_super) {\n    __extends(Square, _super);\n    function Square(xTensor, yTensor) {\n        return _super.call(this, xTensor, yTensor, new activation_functions_1.SquareFunc()) || this;\n    }\n    return Square;\n}(ElementWiseActivation));\nexports.Square = Square;\n//# sourceMappingURL=element_wise_activation.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/element_wise_activation.js\n// module id = 62\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar cost_functions_1 = require(\"../../math/cost_functions\");\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar util = require(\"../../util\");\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar ElementWiseCost = (function (_super) {\n    __extends(ElementWiseCost, _super);\n    function ElementWiseCost(x1Tensor, x2Tensor, yTensor, func) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.yTensor = yTensor;\n        _this.func = func;\n        _this.oneOverNScalar = ndarray_1.Scalar.new(1 / util.sizeFromShape(x1Tensor.shape));\n        return _this;\n    }\n    ElementWiseCost.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function (keep) {\n            var elementWiseCost = _this.func.cost(math, x1, x2);\n            var sum = math.sum(elementWiseCost);\n            var result = math.scalarTimesArray(_this.oneOverNScalar, sum);\n            inferenceArrays.set(_this.yTensor, keep(result));\n        });\n    };\n    ElementWiseCost.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.x1Tensor)) {\n                gradientArrays.add(_this.x1Tensor, _this.func.der(math, x1, x2));\n            }\n            if (graph_util.shouldBackProp(_this.x2Tensor)) {\n                gradientArrays.add(_this.x2Tensor, _this.func.der(math, x2, x1));\n            }\n        });\n    };\n    ElementWiseCost.prototype.dispose = function () {\n        this.func.dispose();\n        this.oneOverNScalar.dispose();\n    };\n    return ElementWiseCost;\n}(op_1.Operation));\nexports.ElementWiseCost = ElementWiseCost;\nvar MeanSquaredCost = (function (_super) {\n    __extends(MeanSquaredCost, _super);\n    function MeanSquaredCost(x1Tensor, x2Tensor, yTensor) {\n        return _super.call(this, x1Tensor, x2Tensor, yTensor, new cost_functions_1.SquareCostFunc()) || this;\n    }\n    return MeanSquaredCost;\n}(ElementWiseCost));\nexports.MeanSquaredCost = MeanSquaredCost;\n//# sourceMappingURL=element_wise_cost.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/element_wise_cost.js\n// module id = 63\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar Exp = (function (_super) {\n    __extends(Exp, _super);\n    function Exp(xTensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.xTensor = xTensor;\n        _this.yTensor = yTensor;\n        return _this;\n    }\n    Exp.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(math.exp(x)));\n        });\n    };\n    Exp.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var y = inferenceArrays.get(this.yTensor);\n        var dy = gradientArrays.get(this.yTensor);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.xTensor)) {\n                gradientArrays.add(_this.xTensor, math.elementWiseMul(y, dy));\n            }\n        });\n    };\n    return Exp;\n}(op_1.Operation));\nexports.Exp = Exp;\n//# sourceMappingURL=exp.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/exp.js\n// module id = 64\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar LinearCombination = (function (_super) {\n    __extends(LinearCombination, _super);\n    function LinearCombination(x1Tensor, x2Tensor, c1Tensor, c2Tensor, outTensor) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.c1Tensor = c1Tensor;\n        _this.c2Tensor = c2Tensor;\n        _this.outTensor = outTensor;\n        return _this;\n    }\n    LinearCombination.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        var c1 = inferenceArrays.get(this.c1Tensor).asScalar();\n        var c2 = inferenceArrays.get(this.c2Tensor).asScalar();\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.outTensor, keep(math.scaledArrayAdd(c1, x1, c2, x2)));\n        });\n    };\n    LinearCombination.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        var c1 = inferenceArrays.get(this.c1Tensor);\n        var c2 = inferenceArrays.get(this.c2Tensor);\n        var dy = gradientArrays.get(this.outTensor);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.x1Tensor)) {\n                gradientArrays.add(_this.x1Tensor, math.scalarTimesArray(c1, dy));\n            }\n            if (graph_util.shouldBackProp(_this.x2Tensor)) {\n                gradientArrays.add(_this.x2Tensor, math.scalarTimesArray(c2, dy));\n            }\n            if (graph_util.shouldBackProp(_this.c1Tensor)) {\n                var dotProduct1 = math.elementWiseMul(x1, dy);\n                gradientArrays.add(_this.c1Tensor, math.sum(dotProduct1));\n            }\n            if (graph_util.shouldBackProp(_this.c2Tensor)) {\n                var dotProduct2 = math.elementWiseMul(x2, dy);\n                gradientArrays.add(_this.c2Tensor, math.sum(dotProduct2));\n            }\n        });\n    };\n    return LinearCombination;\n}(op_1.Operation));\nexports.LinearCombination = LinearCombination;\n//# sourceMappingURL=linear_combination.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/linear_combination.js\n// module id = 65\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar Log = (function (_super) {\n    __extends(Log, _super);\n    function Log(xTensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.xTensor = xTensor;\n        _this.yTensor = yTensor;\n        return _this;\n    }\n    Log.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(math.log(x)));\n        });\n    };\n    Log.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        var dy = gradientArrays.get(this.yTensor);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.xTensor)) {\n                gradientArrays.add(_this.xTensor, math.divide(dy, x));\n            }\n        });\n    };\n    return Log;\n}(op_1.Operation));\nexports.Log = Log;\n//# sourceMappingURL=log.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/log.js\n// module id = 66\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar math_1 = require(\"../../math/math\");\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar MatMul = (function (_super) {\n    __extends(MatMul, _super);\n    function MatMul(x1Tensor, x2Tensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.yTensor = yTensor;\n        return _this;\n    }\n    MatMul.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function (keep) {\n            if (x1.shape.length === 2 && x2.shape.length === 2) {\n                inferenceArrays.set(_this.yTensor, keep(math.matMul(x1, x2)));\n            }\n            else if (x1.shape.length === 2 && x2.shape.length === 1) {\n                inferenceArrays.set(_this.yTensor, keep(math.matrixTimesVector(x1, x2)));\n            }\n            else if (x1.shape.length === 1 && x2.shape.length === 2) {\n                inferenceArrays.set(_this.yTensor, keep(math.vectorTimesMatrix(x1, x2)));\n            }\n        });\n    };\n    MatMul.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        var dy = gradientArrays.get(this.yTensor);\n        if (x1.shape.length === 1) {\n            x1 = x1.reshape([1, x1.size]);\n            dy = dy.reshape([1, dy.size]);\n        }\n        if (x2.shape.length === 1) {\n            x2 = x2.reshape([x2.size, 1]);\n            dy = dy.reshape([dy.size, 1]);\n        }\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.x1Tensor)) {\n                var dx1 = math.matMul(dy, x2, math_1.MatrixOrientation.REGULAR, math_1.MatrixOrientation.TRANSPOSED);\n                gradientArrays.add(_this.x1Tensor, _this.x1Tensor.shape.length === 1 ? dx1.as1D() : dx1);\n            }\n            if (graph_util.shouldBackProp(_this.x2Tensor)) {\n                var dx2 = math.matMul(x1, dy, math_1.MatrixOrientation.TRANSPOSED, math_1.MatrixOrientation.REGULAR);\n                gradientArrays.add(_this.x2Tensor, _this.x2Tensor.shape.length === 1 ? dx2.as1D() : dx2);\n            }\n        });\n    };\n    return MatMul;\n}(op_1.Operation));\nexports.MatMul = MatMul;\n//# sourceMappingURL=matmul.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/matmul.js\n// module id = 67\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar conv_util = require(\"../../math/conv_util\");\nvar util = require(\"../../util\");\nvar op_1 = require(\"./op\");\nvar MaxPool = (function (_super) {\n    __extends(MaxPool, _super);\n    function MaxPool(xTensor, yTensor, fieldSize, stride, pad) {\n        if (stride === void 0) { stride = 1; }\n        var _this = _super.call(this) || this;\n        _this.xTensor = xTensor;\n        _this.yTensor = yTensor;\n        _this.fieldSize = fieldSize;\n        _this.stride = stride;\n        if (pad != null) {\n            _this.pad = pad;\n        }\n        else {\n            _this.pad = conv_util.computeDefaultPad(xTensor.shape, _this.fieldSize, _this.stride);\n        }\n        util.assert(util.isInt(_this.pad), \"The zero padding (\" + _this.pad + \") must be an integer. Change the \" +\n            \"stride and/or zero pad parameters\");\n        return _this;\n    }\n    MaxPool.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(math.maxPool(x, _this.fieldSize, _this.stride, _this.pad)));\n        });\n    };\n    MaxPool.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        var dy = gradientArrays.get(this.yTensor);\n        math.scope(function () {\n            gradientArrays.add(_this.xTensor, math.maxPoolBackprop(dy, x, _this.fieldSize, _this.stride, _this.pad));\n        });\n    };\n    return MaxPool;\n}(op_1.Operation));\nexports.MaxPool = MaxPool;\n//# sourceMappingURL=max_pool.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/max_pool.js\n// module id = 68\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../../util\");\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar Multiply = (function (_super) {\n    __extends(Multiply, _super);\n    function Multiply(x1Tensor, x2Tensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.x1Tensor = x1Tensor;\n        _this.x2Tensor = x2Tensor;\n        _this.yTensor = yTensor;\n        util.assert(util.sizeFromShape(x1Tensor.shape) === 1 ||\n            util.sizeFromShape(x2Tensor.shape) === 1 ||\n            util.arraysEqual(x1Tensor.shape, x2Tensor.shape), 'One of t1 or t2 must be a scalar, or t1 and t2 must have ' +\n            'the same shape');\n        return _this;\n    }\n    Multiply.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var t1 = inferenceArrays.get(this.x1Tensor);\n        var t2 = inferenceArrays.get(this.x2Tensor);\n        math.scope(function (keep) {\n            var result;\n            if (util.isScalarShape(t1.shape)) {\n                result = math.scalarTimesArray(t1, t2);\n            }\n            else if (util.isScalarShape(t2.shape)) {\n                result = math.scalarTimesArray(t2, t1);\n            }\n            else {\n                result = math.elementWiseMul(t1, t2);\n            }\n            inferenceArrays.set(_this.yTensor, keep(result));\n        });\n    };\n    Multiply.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var x1 = inferenceArrays.get(this.x1Tensor);\n        var x2 = inferenceArrays.get(this.x2Tensor);\n        var dy = gradientArrays.get(this.yTensor);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.x1Tensor)) {\n                if (util.isScalarShape(_this.x1Tensor.shape)) {\n                    var mul = math.elementWiseMul(dy, x2);\n                    gradientArrays.add(_this.x1Tensor, math.sum(mul));\n                }\n                else if (util.isScalarShape(x2.shape)) {\n                    gradientArrays.add(_this.x1Tensor, math.scalarTimesArray(x2, dy));\n                }\n                else {\n                    gradientArrays.add(_this.x1Tensor, math.elementWiseMul(x2, dy));\n                }\n            }\n            if (graph_util.shouldBackProp(_this.x2Tensor)) {\n                if (util.isScalarShape(_this.x2Tensor.shape)) {\n                    var mul = math.elementWiseMul(dy, x1);\n                    gradientArrays.add(_this.x2Tensor, math.sum(mul));\n                }\n                else if (util.isScalarShape(x1.shape)) {\n                    gradientArrays.add(_this.x2Tensor, math.scalarTimesArray(x1, dy));\n                }\n                else {\n                    gradientArrays.add(_this.x2Tensor, math.elementWiseMul(x1, dy));\n                }\n            }\n        });\n    };\n    return Multiply;\n}(op_1.Operation));\nexports.Multiply = Multiply;\n//# sourceMappingURL=multiply.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/multiply.js\n// module id = 69\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar util = require(\"../../util\");\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar ReduceSum = (function (_super) {\n    __extends(ReduceSum, _super);\n    function ReduceSum(x, outTensor) {\n        var _this = _super.call(this) || this;\n        _this.x = x;\n        _this.outTensor = outTensor;\n        util.assertShapesMatch(outTensor.shape, []);\n        return _this;\n    }\n    ReduceSum.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.x);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.outTensor, keep(math.sum(x)));\n        });\n    };\n    ReduceSum.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        if (!graph_util.shouldBackProp(this.x)) {\n            return;\n        }\n        math.scope(function () {\n            var dy = gradientArrays.get(_this.outTensor);\n            if (_this.ones == null) {\n                var xArray = inferenceArrays.get(_this.x);\n                _this.ones = ndarray_1.NDArray.zerosLike(xArray);\n                _this.ones.fill(1);\n            }\n            gradientArrays.add(_this.x, math.scalarTimesArray(dy, _this.ones));\n        });\n    };\n    return ReduceSum;\n}(op_1.Operation));\nexports.ReduceSum = ReduceSum;\n//# sourceMappingURL=reduce_sum.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/reduce_sum.js\n// module id = 70\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../../util\");\nvar op_1 = require(\"./op\");\nvar Reshape = (function (_super) {\n    __extends(Reshape, _super);\n    function Reshape(xTensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.xTensor = xTensor;\n        _this.yTensor = yTensor;\n        var xSize = util.sizeFromShape(xTensor.shape);\n        var ySize = util.sizeFromShape(yTensor.shape);\n        util.assert(xSize === ySize, \"The input size (\" + xSize + \") and output size (\" + ySize + \") must match\");\n        return _this;\n    }\n    Reshape.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var x = inferenceArrays.get(this.xTensor);\n        var clone = math.clone(x);\n        math.scope(function (keep) {\n            inferenceArrays.set(_this.yTensor, keep(clone.reshape(_this.yTensor.shape)));\n        });\n    };\n    Reshape.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var dy = gradientArrays.get(this.yTensor);\n        var clone = math.clone(dy);\n        math.scope(function () {\n            gradientArrays.add(_this.xTensor, clone.reshape(_this.xTensor.shape));\n        });\n    };\n    return Reshape;\n}(op_1.Operation));\nexports.Reshape = Reshape;\n//# sourceMappingURL=reshape.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/reshape.js\n// module id = 71\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar util = require(\"../../util\");\nvar graph_1 = require(\"../graph\");\nvar op_1 = require(\"./op\");\nvar Softmax = (function (_super) {\n    __extends(Softmax, _super);\n    function Softmax(logitsTensor, output) {\n        var _this = _super.call(this) || this;\n        _this.logitsTensor = logitsTensor;\n        _this.output = output;\n        return _this;\n    }\n    Softmax.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var logits = inferenceArrays.get(this.logitsTensor);\n        return math.scope(function (keep) {\n            inferenceArrays.set(_this.output, keep(math.softmax(logits)));\n        });\n    };\n    Softmax.prototype.backProp = function () {\n        throw Error('Softmax backprop is not yet implemented');\n    };\n    return Softmax;\n}(op_1.Operation));\nexports.Softmax = Softmax;\nvar SoftmaxCrossEntropyCost = (function (_super) {\n    __extends(SoftmaxCrossEntropyCost, _super);\n    function SoftmaxCrossEntropyCost(logitsTensor, labelTensor, yTensor) {\n        var _this = _super.call(this) || this;\n        _this.logitsTensor = logitsTensor;\n        _this.labelTensor = labelTensor;\n        _this.yTensor = yTensor;\n        _this.epsilon = ndarray_1.Scalar.new(1e-5);\n        _this.softmaxTensor = new graph_1.Tensor(logitsTensor.shape);\n        return _this;\n    }\n    SoftmaxCrossEntropyCost.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var logits = inferenceArrays.get(this.logitsTensor);\n        var label = inferenceArrays.get(this.labelTensor);\n        math.scope(function (keep) {\n            var softmaxResult = math.softmax(logits);\n            inferenceArrays.set(_this.softmaxTensor, keep(softmaxResult));\n            inferenceArrays.set(_this.yTensor, keep(crossEntropyCost(math, softmaxResult, label, _this.epsilon)));\n        });\n    };\n    SoftmaxCrossEntropyCost.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var softmax = inferenceArrays.get(this.softmaxTensor);\n        var label = inferenceArrays.get(this.labelTensor);\n        math.scope(function () {\n            gradientArrays.add(_this.logitsTensor, math.subtract(softmax, label));\n        });\n    };\n    SoftmaxCrossEntropyCost.prototype.disposeTransientArrays = function (inferenceArrays, gradientArrays) {\n        inferenceArrays.disposeArray(this.softmaxTensor);\n    };\n    SoftmaxCrossEntropyCost.prototype.dispose = function () {\n        this.epsilon.dispose();\n    };\n    return SoftmaxCrossEntropyCost;\n}(op_1.Operation));\nexports.SoftmaxCrossEntropyCost = SoftmaxCrossEntropyCost;\nfunction crossEntropyCost(math, y, target, epsilon) {\n    util.assert(y.size === target.size, 'The output and target must be the same size');\n    return math.scope(function () {\n        var yPlusEps = math.scalarPlusArray(epsilon, y);\n        var logOutput = math.log(yPlusEps);\n        var tarLogOutput = math.elementWiseMul(target, logOutput);\n        var costVector = math.neg(tarLogOutput);\n        return math.sum(costVector);\n    });\n}\nexports.crossEntropyCost = crossEntropyCost;\n//# sourceMappingURL=softmax.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/softmax.js\n// module id = 72\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar util = require(\"../../util\");\nvar graph_util = require(\"../graph_util\");\nvar op_1 = require(\"./op\");\nvar Subtract = (function (_super) {\n    __extends(Subtract, _super);\n    function Subtract(t1, t2, outTensor) {\n        var _this = _super.call(this) || this;\n        _this.t1 = t1;\n        _this.t2 = t2;\n        _this.outTensor = outTensor;\n        util.assert(util.sizeFromShape(t1.shape) === 1 ||\n            util.sizeFromShape(t2.shape) === 1 ||\n            util.arraysEqual(t1.shape, t2.shape), 'One of t1 or t2 must be a scalar, or t1 and t2 must have ' +\n            'the same shape');\n        return _this;\n    }\n    Subtract.prototype.feedForward = function (math, inferenceArrays) {\n        var _this = this;\n        var t1 = inferenceArrays.get(this.t1);\n        var t2 = inferenceArrays.get(this.t2);\n        math.scope(function (keep) {\n            var result;\n            if (util.isScalarShape(t1.shape)) {\n                result = math.scalarMinusArray(t1, t2);\n            }\n            else if (util.isScalarShape(t2.shape)) {\n                result = math.arrayMinusScalar(t1, t2);\n            }\n            else {\n                result = math.subtract(t1, t2);\n            }\n            inferenceArrays.set(_this.outTensor, keep(result));\n        });\n    };\n    Subtract.prototype.backProp = function (math, inferenceArrays, gradientArrays) {\n        var _this = this;\n        var dy = gradientArrays.get(this.outTensor);\n        math.scope(function () {\n            if (graph_util.shouldBackProp(_this.t1)) {\n                if (util.isScalarShape(_this.t1.shape)) {\n                    var sum = math.sum(dy);\n                    if (_this.dySizeScalar == null) {\n                        _this.dySizeScalar = ndarray_1.Scalar.new(dy.size);\n                    }\n                    gradientArrays.add(_this.t1, math.divide(sum, _this.dySizeScalar));\n                }\n                else {\n                    gradientArrays.add(_this.t1, math.clone(dy));\n                }\n            }\n            if (graph_util.shouldBackProp(_this.t2)) {\n                if (util.isScalarShape(_this.t2.shape)) {\n                    var sum = math.sum(dy);\n                    var negSum = math.neg(sum);\n                    if (_this.dySizeScalar == null) {\n                        _this.dySizeScalar = ndarray_1.Scalar.new(dy.size);\n                    }\n                    gradientArrays.add(_this.t2, math.divide(negSum, _this.dySizeScalar));\n                }\n                else {\n                    gradientArrays.add(_this.t2, math.neg(dy));\n                }\n            }\n        });\n    };\n    Subtract.prototype.dispose = function () {\n        if (this.dySizeScalar != null) {\n            this.dySizeScalar.dispose();\n        }\n    };\n    return Subtract;\n}(op_1.Operation));\nexports.Subtract = Subtract;\n//# sourceMappingURL=subtract.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/ops/subtract.js\n// module id = 73\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar optimizer_1 = require(\"./optimizer\");\nvar AdadeltaOptimizer = (function (_super) {\n    __extends(AdadeltaOptimizer, _super);\n    function AdadeltaOptimizer(learningRate, gamma, specifiedVariableList) {\n        var _this = _super.call(this, learningRate, specifiedVariableList) || this;\n        _this.learningRate = learningRate;\n        _this.gamma = gamma;\n        _this.accumulatedSquaredGradients = new tensor_array_map_1.TensorArrayMap();\n        _this.accumulatedUpdates = new tensor_array_map_1.TensorArrayMap();\n        _this.eps = ndarray_1.Scalar.new(1e-6);\n        _this.g = ndarray_1.Scalar.new(_this.gamma);\n        return _this;\n    }\n    AdadeltaOptimizer.prototype.beforeBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        _super.prototype.beforeBatch.call(this, math, batchSize, runtime, activationArrayMap, gradientArrayMap);\n        if (this.accumulatedSquaredGradients.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.accumulatedSquaredGradients.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n                _this.accumulatedUpdates.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n    };\n    AdadeltaOptimizer.prototype.afterBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var oldVariable = activationArrayMap.get(node.output);\n                var gradient = _this.variableGradients.get(node.output);\n                var oldCache = _this.accumulatedSquaredGradients.get(node.output);\n                var oldUpdates = _this.accumulatedUpdates.get(node.output);\n                var gradientSquare = math.multiply(gradient, gradient);\n                var cache = math.scaledArrayAdd(_this.g, oldCache, math.subtract(_this.one, _this.g), gradientSquare);\n                var updates = math.multiply(math.divide(math.sqrt(math.add(oldUpdates, _this.eps)), math.sqrt(math.add(oldCache, _this.eps))), gradient);\n                var variable = math.scaledArrayAdd(_this.c, updates, _this.one, oldVariable);\n                var updateSquare = math.multiply(updates, updates);\n                var newUpdates = math.scaledArrayAdd(_this.g, oldUpdates, math.subtract(_this.one, _this.g), updateSquare);\n                _this.accumulatedSquaredGradients.set(node.output, keep(cache));\n                _this.accumulatedUpdates.set(node.output, keep(newUpdates));\n                activationArrayMap.set(node.output, keep(variable));\n                node.data = variable;\n                oldVariable.dispose();\n                oldCache.dispose();\n                oldUpdates.dispose();\n            });\n        });\n        this.variableGradients.dispose();\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n    };\n    AdadeltaOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.eps.dispose();\n        this.g.dispose();\n        this.accumulatedSquaredGradients.dispose();\n        this.accumulatedUpdates.dispose();\n    };\n    return AdadeltaOptimizer;\n}(optimizer_1.Optimizer));\nexports.AdadeltaOptimizer = AdadeltaOptimizer;\n//# sourceMappingURL=adadelta_optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/adadelta_optimizer.js\n// module id = 74\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar optimizer_1 = require(\"./optimizer\");\nvar AdagradOptimizer = (function (_super) {\n    __extends(AdagradOptimizer, _super);\n    function AdagradOptimizer(learningRate, specifiedVariableList) {\n        var _this = _super.call(this, learningRate, specifiedVariableList) || this;\n        _this.learningRate = learningRate;\n        _this.accumulatedSquaredGradients = new tensor_array_map_1.TensorArrayMap();\n        _this.eps = ndarray_1.Scalar.new(1e-6);\n        return _this;\n    }\n    AdagradOptimizer.prototype.beforeBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        _super.prototype.beforeBatch.call(this, math, batchSize, runtime, activationArrayMap, gradientArrayMap);\n        if (this.accumulatedSquaredGradients.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.accumulatedSquaredGradients.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n    };\n    AdagradOptimizer.prototype.afterBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var oldVariable = activationArrayMap.get(node.output);\n                var gradient = _this.variableGradients.get(node.output);\n                var oldCache = _this.accumulatedSquaredGradients.get(node.output);\n                var gradientSquare = math.multiply(gradient, gradient);\n                var cache = math.add(oldCache, gradientSquare);\n                var variable = math.scaledArrayAdd(_this.c, math.divide(gradient, math.add(math.sqrt(cache), _this.eps)), _this.one, oldVariable);\n                _this.accumulatedSquaredGradients.set(node.output, keep(cache));\n                activationArrayMap.set(node.output, keep(variable));\n                node.data = variable;\n                oldVariable.dispose();\n                oldCache.dispose();\n            });\n        });\n        this.variableGradients.dispose();\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n    };\n    AdagradOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.eps.dispose();\n        this.accumulatedSquaredGradients.dispose();\n    };\n    return AdagradOptimizer;\n}(optimizer_1.Optimizer));\nexports.AdagradOptimizer = AdagradOptimizer;\n//# sourceMappingURL=adagrad_optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/adagrad_optimizer.js\n// module id = 75\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar optimizer_1 = require(\"./optimizer\");\nvar AdamOptimizer = (function (_super) {\n    __extends(AdamOptimizer, _super);\n    function AdamOptimizer(learningRate, beta1, beta2, specifiedVariableList) {\n        var _this = _super.call(this, learningRate, specifiedVariableList) || this;\n        _this.learningRate = learningRate;\n        _this.beta1 = beta1;\n        _this.beta2 = beta2;\n        _this.firstMoment = new tensor_array_map_1.TensorArrayMap();\n        _this.secondMoment = new tensor_array_map_1.TensorArrayMap();\n        _this.eps = ndarray_1.Scalar.new(1e-8);\n        _this.b1 = ndarray_1.Scalar.new(_this.beta1);\n        _this.b2 = ndarray_1.Scalar.new(_this.beta2);\n        _this.accB1 = ndarray_1.Scalar.new(_this.beta1);\n        _this.accB2 = ndarray_1.Scalar.new(_this.beta2);\n        return _this;\n    }\n    AdamOptimizer.prototype.beforeBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        _super.prototype.beforeBatch.call(this, math, batchSize, runtime, activationArrayMap, gradientArrayMap);\n        if (this.firstMoment.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.firstMoment.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n        if (this.secondMoment.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.secondMoment.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n    };\n    AdamOptimizer.prototype.afterBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var oldVariable = activationArrayMap.get(node.output);\n                var gradient = _this.variableGradients.get(node.output);\n                var oldFirstMoment = _this.firstMoment.get(node.output);\n                var oldSecondMoment = _this.secondMoment.get(node.output);\n                var newFirstMoment = math.scaledArrayAdd(_this.b1, oldFirstMoment, math.subtract(_this.one, _this.b1), gradient);\n                var gradientSquare = math.multiply(gradient, gradient);\n                var newSecondMoment = math.scaledArrayAdd(_this.b2, oldSecondMoment, math.subtract(_this.one, _this.b2), gradientSquare);\n                var biasCorrectedFirstMoment = math.divide(newFirstMoment, math.subtract(_this.one, _this.accB1));\n                var biasCorrectedSecondMoment = math.divide(newSecondMoment, math.subtract(_this.one, _this.accB2));\n                var variable = math.scaledArrayAdd(_this.c, math.divide(biasCorrectedFirstMoment, math.add(math.sqrt(biasCorrectedSecondMoment), _this.eps)), _this.one, oldVariable);\n                activationArrayMap.set(node.output, keep(variable));\n                node.data = variable;\n                _this.firstMoment.set(node.output, keep(newFirstMoment));\n                _this.secondMoment.set(node.output, keep(newSecondMoment));\n                oldVariable.dispose();\n                gradient.dispose();\n                oldFirstMoment.dispose();\n                oldSecondMoment.dispose();\n            });\n            var oldAccB1 = _this.accB1;\n            var oldAccB2 = _this.accB2;\n            _this.accB1 = keep(math.multiply(_this.accB1, _this.b1));\n            _this.accB2 = keep(math.multiply(_this.accB2, _this.b2));\n            oldAccB1.dispose();\n            oldAccB2.dispose();\n        });\n        this.variableGradients.dispose();\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n    };\n    AdamOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.firstMoment.dispose();\n        this.secondMoment.dispose();\n        this.eps.dispose();\n        this.b1.dispose();\n        this.b2.dispose();\n        this.accB1.dispose();\n        this.accB2.dispose();\n    };\n    return AdamOptimizer;\n}(optimizer_1.Optimizer));\nexports.AdamOptimizer = AdamOptimizer;\n//# sourceMappingURL=adam_optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/adam_optimizer.js\n// module id = 76\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar optimizer_1 = require(\"./optimizer\");\nvar AdamaxOptimizer = (function (_super) {\n    __extends(AdamaxOptimizer, _super);\n    function AdamaxOptimizer(learningRate, beta1, beta2, specifiedVariableList) {\n        var _this = _super.call(this, learningRate, specifiedVariableList) || this;\n        _this.learningRate = learningRate;\n        _this.beta1 = beta1;\n        _this.beta2 = beta2;\n        _this.firstMoment = new tensor_array_map_1.TensorArrayMap();\n        _this.weightedInfNorm = new tensor_array_map_1.TensorArrayMap();\n        _this.eps = ndarray_1.Scalar.new(1e-8);\n        _this.b1 = ndarray_1.Scalar.new(_this.beta1);\n        _this.b2 = ndarray_1.Scalar.new(_this.beta2);\n        _this.accB1 = ndarray_1.Scalar.new(_this.beta1);\n        return _this;\n    }\n    AdamaxOptimizer.prototype.beforeBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        _super.prototype.beforeBatch.call(this, math, batchSize, runtime, activationArrayMap, gradientArrayMap);\n        if (this.firstMoment.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.firstMoment.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n        if (this.weightedInfNorm.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.weightedInfNorm.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n    };\n    AdamaxOptimizer.prototype.afterBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var oldVariable = activationArrayMap.get(node.output);\n                var gradient = _this.variableGradients.get(node.output);\n                var oldFirstMoment = _this.firstMoment.get(node.output);\n                var oldWeightedInfNorm = _this.weightedInfNorm.get(node.output);\n                var newFirstMoment = math.scaledArrayAdd(_this.b1, oldFirstMoment, math.subtract(_this.one, _this.b1), gradient);\n                var ut0 = math.multiply(_this.b2, oldWeightedInfNorm);\n                var ut1 = math.abs(gradient);\n                var newWeightedInfNorm = math.add(math.relu(math.subtract(ut0, ut1)), ut1);\n                var variable = math.scaledArrayAdd(_this.one, oldVariable, math.divide(_this.c, math.subtract(_this.one, _this.accB1)), math.divide(newFirstMoment, math.add(_this.eps, newWeightedInfNorm)));\n                activationArrayMap.set(node.output, keep(variable));\n                node.data = variable;\n                _this.firstMoment.set(node.output, keep(newFirstMoment));\n                _this.weightedInfNorm.set(node.output, keep(newWeightedInfNorm));\n                oldVariable.dispose();\n                gradient.dispose();\n                oldFirstMoment.dispose();\n                oldWeightedInfNorm.dispose();\n            });\n            var oldAccB1 = _this.accB1;\n            _this.accB1 = keep(math.multiply(_this.accB1, _this.b1));\n            oldAccB1.dispose();\n        });\n        this.variableGradients.dispose();\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n    };\n    AdamaxOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.firstMoment.dispose();\n        this.weightedInfNorm.dispose();\n        this.eps.dispose();\n        this.accB1.dispose();\n        this.b1.dispose();\n        this.b2.dispose();\n    };\n    return AdamaxOptimizer;\n}(optimizer_1.Optimizer));\nexports.AdamaxOptimizer = AdamaxOptimizer;\n//# sourceMappingURL=adamax_optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/adamax_optimizer.js\n// module id = 77\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar sgd_optimizer_1 = require(\"./sgd_optimizer\");\nvar MomentumOptimizer = (function (_super) {\n    __extends(MomentumOptimizer, _super);\n    function MomentumOptimizer(learningRate, momentum, specifiedVariableList) {\n        var _this = _super.call(this, learningRate, specifiedVariableList) || this;\n        _this.learningRate = learningRate;\n        _this.momentum = momentum;\n        _this.variableVelocities = new tensor_array_map_1.TensorArrayMap();\n        _this.m = ndarray_1.Scalar.new(_this.momentum);\n        return _this;\n    }\n    MomentumOptimizer.prototype.beforeBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        _super.prototype.beforeBatch.call(this, math, batchSize, runtime, activationArrayMap, gradientArrayMap);\n        if (this.variableVelocities.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.variableVelocities.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n    };\n    MomentumOptimizer.prototype.afterBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var oldVariable = activationArrayMap.get(node.output);\n                var gradient = _this.variableGradients.get(node.output);\n                var oldVelocity = _this.variableVelocities.get(node.output);\n                var velocity = math.scaledArrayAdd(_this.m, oldVelocity, _this.one, gradient);\n                var variable = math.scaledArrayAdd(_this.c, velocity, _this.one, oldVariable);\n                _this.variableVelocities.set(node.output, keep(velocity));\n                activationArrayMap.set(node.output, keep(variable));\n                node.data = variable;\n                oldVariable.dispose();\n                oldVelocity.dispose();\n            });\n        });\n        this.variableGradients.dispose();\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n    };\n    MomentumOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.m.dispose();\n        this.variableVelocities.dispose();\n    };\n    MomentumOptimizer.prototype.setMomentum = function (momentum) {\n        this.momentum = momentum;\n    };\n    return MomentumOptimizer;\n}(sgd_optimizer_1.SGDOptimizer));\nexports.MomentumOptimizer = MomentumOptimizer;\n//# sourceMappingURL=momentum_optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/momentum_optimizer.js\n// module id = 78\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"../../math/ndarray\");\nvar tensor_array_map_1 = require(\"../tensor_array_map\");\nvar optimizer_1 = require(\"./optimizer\");\nvar RMSPropOptimizer = (function (_super) {\n    __extends(RMSPropOptimizer, _super);\n    function RMSPropOptimizer(learningRate, gamma, specifiedVariableList) {\n        var _this = _super.call(this, learningRate, specifiedVariableList) || this;\n        _this.learningRate = learningRate;\n        _this.gamma = gamma;\n        _this.accumulatedSquaredGradients = new tensor_array_map_1.TensorArrayMap();\n        _this.eps = ndarray_1.Scalar.new(1e-6);\n        _this.g = ndarray_1.Scalar.new(_this.gamma);\n        return _this;\n    }\n    RMSPropOptimizer.prototype.beforeBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        _super.prototype.beforeBatch.call(this, math, batchSize, runtime, activationArrayMap, gradientArrayMap);\n        if (this.accumulatedSquaredGradients.size() === 0) {\n            this.variableNodes.forEach(function (node) {\n                _this.accumulatedSquaredGradients.set(node.output, ndarray_1.NDArray.zeros(node.output.shape));\n            });\n        }\n    };\n    RMSPropOptimizer.prototype.afterBatch = function (math, batchSize, runtime, activationArrayMap, gradientArrayMap) {\n        var _this = this;\n        math.scope(function (keep) {\n            _this.variableNodes.forEach(function (node) {\n                var oldVariable = activationArrayMap.get(node.output);\n                var gradient = _this.variableGradients.get(node.output);\n                var oldCache = _this.accumulatedSquaredGradients.get(node.output);\n                var gradientSquare = math.multiply(gradient, gradient);\n                var cache = math.scaledArrayAdd(_this.g, oldCache, math.subtract(_this.one, _this.g), gradientSquare);\n                var variable = math.scaledArrayAdd(_this.c, math.divide(gradient, math.add(math.sqrt(cache), _this.eps)), _this.one, oldVariable);\n                _this.accumulatedSquaredGradients.set(node.output, keep(cache));\n                activationArrayMap.set(node.output, keep(variable));\n                node.data = variable;\n                oldVariable.dispose();\n                oldCache.dispose();\n            });\n        });\n        this.variableGradients.dispose();\n        this.variableGradients = new tensor_array_map_1.TensorArrayMap();\n    };\n    RMSPropOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.eps.dispose();\n        this.g.dispose();\n        this.accumulatedSquaredGradients.dispose();\n    };\n    return RMSPropOptimizer;\n}(optimizer_1.Optimizer));\nexports.RMSPropOptimizer = RMSPropOptimizer;\n//# sourceMappingURL=rmsprop_optimizer.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph/optimizers/rmsprop_optimizer.js\n// module id = 79\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar session_1 = require(\"./graph/session\");\nvar ndarray_1 = require(\"./math/ndarray\");\nvar DEFAULT_EVAL_INTERVAL_MS = 1500;\nvar DEFAULT_COST_INTERVAL_MS = 500;\nvar DEFAULT_INFERENCE_EXAMPLE_INTERVAL_MS = 3000;\nvar MetricReduction;\n(function (MetricReduction) {\n    MetricReduction[MetricReduction[\"SUM\"] = 0] = \"SUM\";\n    MetricReduction[MetricReduction[\"MEAN\"] = 1] = \"MEAN\";\n})(MetricReduction = exports.MetricReduction || (exports.MetricReduction = {}));\nvar GraphRunner = (function () {\n    function GraphRunner(math, session, eventObserver) {\n        this.math = math;\n        this.session = session;\n        this.eventObserver = eventObserver;\n        this.lastCostTimestamp = 0;\n        this.lastEvalTimestamp = 0;\n        this.totalIdleTimeMs = 0;\n        this.resetStatistics();\n        this.zeroScalar = ndarray_1.Scalar.new(0);\n    }\n    GraphRunner.prototype.resetStatistics = function () {\n        this.totalBatchesTrained = 0;\n        this.totalIdleTimeMs = 0;\n        this.lastStopTimestamp = null;\n    };\n    GraphRunner.prototype.train = function (costTensor, trainFeedEntries, batchSize, optimizer, numBatches, metricTensor, metricFeedEntries, metricBatchSize, metricReduction, evalIntervalMs, costIntervalMs) {\n        if (metricReduction === void 0) { metricReduction = MetricReduction.MEAN; }\n        if (evalIntervalMs === void 0) { evalIntervalMs = DEFAULT_EVAL_INTERVAL_MS; }\n        if (costIntervalMs === void 0) { costIntervalMs = DEFAULT_COST_INTERVAL_MS; }\n        this.costTensor = costTensor;\n        this.trainFeedEntries = trainFeedEntries;\n        this.metricTensor = metricTensor;\n        this.metricFeedEntries = metricFeedEntries;\n        if (metricBatchSize != null && this.metricBatchSize !== metricBatchSize) {\n            if (this.metricBatchSizeScalar != null) {\n                this.metricBatchSizeScalar.dispose();\n            }\n            this.metricBatchSizeScalar = ndarray_1.Scalar.new(metricBatchSize);\n        }\n        this.metricBatchSize = metricBatchSize;\n        this.metricReduction = metricReduction;\n        this.batchSize = batchSize;\n        this.optimizer = optimizer;\n        this.metricIntervalMs = evalIntervalMs;\n        this.costIntervalMs = costIntervalMs;\n        this.currentTrainLoopNumBatches = numBatches;\n        this.batchesTrainedThisRun = 0;\n        this.isTraining = true;\n        this.trainStartTimestamp = performance.now();\n        this.trainNetwork();\n    };\n    GraphRunner.prototype.stopTraining = function () {\n        this.isTraining = false;\n        this.lastStopTimestamp = performance.now();\n    };\n    GraphRunner.prototype.resumeTraining = function () {\n        this.isTraining = true;\n        if (this.lastStopTimestamp != null) {\n            this.totalIdleTimeMs += performance.now() - this.lastStopTimestamp;\n        }\n        this.trainNetwork();\n    };\n    GraphRunner.prototype.trainNetwork = function () {\n        var _this = this;\n        if (this.batchesTrainedThisRun === this.currentTrainLoopNumBatches) {\n            this.stopTraining();\n        }\n        if (!this.isTraining) {\n            if (this.eventObserver.doneTrainingCallback != null) {\n                this.eventObserver.doneTrainingCallback();\n            }\n            return;\n        }\n        var start = performance.now();\n        var shouldComputeCost = this.eventObserver.avgCostCallback != null &&\n            (start - this.lastCostTimestamp > this.costIntervalMs);\n        if (shouldComputeCost) {\n            this.lastCostTimestamp = start;\n        }\n        var costReduction = shouldComputeCost ? session_1.CostReduction.MEAN : session_1.CostReduction.NONE;\n        this.math.scope(function (keep) {\n            var avgCost = _this.session.train(_this.costTensor, _this.trainFeedEntries, _this.batchSize, _this.optimizer, costReduction);\n            if (shouldComputeCost) {\n                var trainTime = performance.now() - start;\n                _this.eventObserver.avgCostCallback(avgCost);\n                if (_this.eventObserver.trainExamplesPerSecCallback != null) {\n                    var examplesPerSec = (_this.batchSize * 1000 / trainTime);\n                    _this.eventObserver.trainExamplesPerSecCallback(examplesPerSec);\n                }\n            }\n            if (_this.eventObserver.metricCallback != null &&\n                _this.metricFeedEntries != null &&\n                start - _this.lastEvalTimestamp > _this.metricIntervalMs) {\n                _this.lastEvalTimestamp = start;\n                if (_this.lastComputedMetric != null) {\n                    _this.lastComputedMetric.dispose();\n                }\n                _this.lastComputedMetric = _this.computeMetric();\n                _this.eventObserver.metricCallback(_this.lastComputedMetric);\n            }\n            if (_this.eventObserver.totalTimeCallback != null) {\n                _this.eventObserver.totalTimeCallback((start - _this.trainStartTimestamp) / 1000);\n            }\n            _this.batchesTrainedThisRun++;\n            _this.totalBatchesTrained++;\n            if (_this.eventObserver.batchesTrainedCallback != null) {\n                _this.eventObserver.batchesTrainedCallback(_this.totalBatchesTrained);\n            }\n        });\n        requestAnimationFrame(function () { return _this.trainNetwork(); });\n    };\n    GraphRunner.prototype.infer = function (inferenceTensor, inferenceFeedEntries, inferenceExampleIntervalMs, inferenceExampleCount, numPasses) {\n        var _this = this;\n        if (inferenceExampleIntervalMs === void 0) { inferenceExampleIntervalMs = DEFAULT_INFERENCE_EXAMPLE_INTERVAL_MS; }\n        if (inferenceExampleCount === void 0) { inferenceExampleCount = 5; }\n        if (this.eventObserver.inferenceExamplesCallback == null &&\n            this.eventObserver.inferenceExamplesPerSecCallback == null) {\n            throw new Error('Cannot start inference loop, no inference example or ' +\n                'examples/sec observer provided.');\n        }\n        for (var i = 0; i < inferenceFeedEntries.length; i++) {\n            var feedEntry = inferenceFeedEntries[i];\n            if (feedEntry.data instanceof ndarray_1.NDArray) {\n                throw new Error('Cannot start inference on the model runner with feed entries of ' +\n                    'type NDArray. Please use InputProviders.');\n            }\n        }\n        this.inferenceExampleIntervalMs = inferenceExampleIntervalMs;\n        this.inferenceTensor = inferenceTensor;\n        this.inferenceFeedEntries = inferenceFeedEntries;\n        this.inferenceExampleCount = inferenceExampleCount;\n        this.currentInferenceLoopNumPasses = numPasses;\n        if (!this.isInferring) {\n            this.inferencePassesThisRun = 0;\n            requestAnimationFrame(function () { return _this.inferNetwork(); });\n        }\n        this.isInferring = true;\n    };\n    GraphRunner.prototype.inferNetwork = function () {\n        var _this = this;\n        if (!this.isInferring ||\n            this.inferencePassesThisRun === this.currentInferenceLoopNumPasses) {\n            return;\n        }\n        this.math.scope(function (keep, track) {\n            var feeds = [];\n            var inferenceValues = [];\n            var start = performance.now();\n            for (var i = 0; i < _this.inferenceExampleCount; i++) {\n                var ndarrayFeedEntries = [];\n                for (var j = 0; j < _this.inferenceFeedEntries.length; j++) {\n                    var feedEntry = _this.inferenceFeedEntries[j];\n                    var nextCopy = feedEntry.data.getNextCopy(_this.math);\n                    ndarrayFeedEntries.push({ tensor: feedEntry.tensor, data: track(nextCopy) });\n                }\n                feeds.push(ndarrayFeedEntries);\n                inferenceValues.push(_this.session.eval(_this.inferenceTensor, ndarrayFeedEntries));\n            }\n            if (_this.eventObserver.inferenceExamplesPerSecCallback != null) {\n                inferenceValues[inferenceValues.length - 1].getValues();\n                var inferenceExamplesPerSecTime = performance.now() - start;\n                var examplesPerSec = (_this.inferenceExampleCount * 1000 / inferenceExamplesPerSecTime);\n                _this.eventObserver.inferenceExamplesPerSecCallback(examplesPerSec);\n            }\n            if (_this.eventObserver.inferenceExamplesCallback != null) {\n                _this.eventObserver.inferenceExamplesCallback(feeds, inferenceValues);\n            }\n            _this.inferencePassesThisRun++;\n        });\n        this.lastInferTimeoutID = window.setTimeout(function () { return _this.inferNetwork(); }, this.inferenceExampleIntervalMs);\n    };\n    GraphRunner.prototype.stopInferring = function () {\n        this.isInferring = false;\n        window.clearTimeout(this.lastInferTimeoutID);\n    };\n    GraphRunner.prototype.isInferenceRunning = function () {\n        return this.isInferring;\n    };\n    GraphRunner.prototype.computeMetric = function () {\n        var _this = this;\n        if (this.metricFeedEntries == null) {\n            throw new Error('Cannot compute metric, no metric FeedEntries provided.');\n        }\n        var metric = this.zeroScalar;\n        return this.math.scope(function (keep) {\n            for (var i = 0; i < _this.metricBatchSize; i++) {\n                var metricValue = _this.session.eval(_this.metricTensor, _this.metricFeedEntries);\n                metric = _this.math.add(metric, metricValue);\n            }\n            if (_this.metricReduction === MetricReduction.MEAN) {\n                metric = _this.math.divide(metric, _this.metricBatchSizeScalar);\n            }\n            return metric;\n        });\n    };\n    GraphRunner.prototype.getTotalBatchesTrained = function () {\n        return this.totalBatchesTrained;\n    };\n    GraphRunner.prototype.getLastComputedMetric = function () {\n        return this.lastComputedMetric;\n    };\n    GraphRunner.prototype.setMath = function (math) {\n        this.math = math;\n    };\n    GraphRunner.prototype.setSession = function (session) {\n        this.session = session;\n    };\n    GraphRunner.prototype.setInferenceTensor = function (inferenceTensor) {\n        this.inferenceTensor = inferenceTensor;\n    };\n    GraphRunner.prototype.setInferenceExampleCount = function (inferenceExampleCount) {\n        this.inferenceExampleCount = inferenceExampleCount;\n    };\n    return GraphRunner;\n}());\nexports.GraphRunner = GraphRunner;\n//# sourceMappingURL=graph_runner.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/graph_runner.js\n// module id = 80\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"./ndarray\");\nvar TanHFunc = (function () {\n    function TanHFunc() {\n    }\n    TanHFunc.prototype.output = function (math, x) {\n        return math.scope(function () {\n            return math.tanh(x);\n        });\n    };\n    TanHFunc.prototype.der = function (math, x, y) {\n        return math.scope(function () {\n            var ySquared = math.elementWiseMul(y, y);\n            return math.scalarMinusArray(ndarray_1.Scalar.ONE, ySquared);\n        });\n    };\n    TanHFunc.prototype.dispose = function () { };\n    return TanHFunc;\n}());\nexports.TanHFunc = TanHFunc;\nvar ReLUFunc = (function () {\n    function ReLUFunc() {\n    }\n    ReLUFunc.prototype.output = function (math, x) {\n        return math.scope(function () {\n            return math.relu(x);\n        });\n    };\n    ReLUFunc.prototype.der = function (math, x, y) {\n        return math.scope(function () {\n            return math.step(x);\n        });\n    };\n    ReLUFunc.prototype.dispose = function () { };\n    return ReLUFunc;\n}());\nexports.ReLUFunc = ReLUFunc;\nvar LeakyReluFunc = (function () {\n    function LeakyReluFunc(alpha) {\n        this.alpha = alpha;\n    }\n    LeakyReluFunc.prototype.output = function (math, x) {\n        return math.leakyRelu(x, this.alpha);\n    };\n    LeakyReluFunc.prototype.der = function (math, x, y) {\n        return math.step(x, this.alpha);\n    };\n    LeakyReluFunc.prototype.dispose = function () { };\n    return LeakyReluFunc;\n}());\nexports.LeakyReluFunc = LeakyReluFunc;\nvar SigmoidFunc = (function () {\n    function SigmoidFunc() {\n    }\n    SigmoidFunc.prototype.output = function (math, x) {\n        return math.scope(function () {\n            return math.sigmoid(x);\n        });\n    };\n    SigmoidFunc.prototype.der = function (math, x, y) {\n        return math.scope(function () {\n            var ySquared = math.elementWiseMul(y, y);\n            return math.subStrict(y, ySquared);\n        });\n    };\n    SigmoidFunc.prototype.dispose = function () { };\n    return SigmoidFunc;\n}());\nexports.SigmoidFunc = SigmoidFunc;\nvar SquareFunc = (function () {\n    function SquareFunc() {\n    }\n    SquareFunc.prototype.output = function (math, x) {\n        return math.scope(function () {\n            return math.elementWiseMul(x, x);\n        });\n    };\n    SquareFunc.prototype.der = function (math, x, y) {\n        return math.scope(function () {\n            return math.scalarTimesArray(ndarray_1.Scalar.TWO, x);\n        });\n    };\n    SquareFunc.prototype.dispose = function () { };\n    return SquareFunc;\n}());\nexports.SquareFunc = SquareFunc;\n//# sourceMappingURL=activation_functions.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/activation_functions.js\n// module id = 81\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ndarray_1 = require(\"./ndarray\");\nvar SquareCostFunc = (function () {\n    function SquareCostFunc() {\n        this.halfOne = ndarray_1.Scalar.new(0.5);\n    }\n    SquareCostFunc.prototype.cost = function (math, x1, x2) {\n        var diff = math.subStrict(x1, x2);\n        var diffSquared = math.elementWiseMul(diff, diff);\n        var result = math.scalarTimesArray(this.halfOne, diffSquared);\n        diff.dispose();\n        diffSquared.dispose();\n        return result;\n    };\n    SquareCostFunc.prototype.der = function (math, x1, x2) {\n        return math.subStrict(x1, x2);\n    };\n    SquareCostFunc.prototype.dispose = function () {\n        this.halfOne.dispose();\n    };\n    return SquareCostFunc;\n}());\nexports.SquareCostFunc = SquareCostFunc;\n//# sourceMappingURL=cost_functions.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/cost_functions.js\n// module id = 82\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PARALLELIZE_THRESHOLD = 30;\nfunction computeOptimalWindowSize(inSize) {\n    if (inSize <= exports.PARALLELIZE_THRESHOLD) {\n        return inSize;\n    }\n    return nearestDivisor(inSize, Math.floor(Math.sqrt(inSize)));\n}\nexports.computeOptimalWindowSize = computeOptimalWindowSize;\nfunction nearestDivisor(size, start) {\n    for (var i = start; i < size; ++i) {\n        if (size % i === 0) {\n            return i;\n        }\n    }\n    return size;\n}\n//# sourceMappingURL=reduce_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/reduce_util.js\n// module id = 83\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util = require(\"../util\");\nfunction assertParamsValid(input, begin, size) {\n    util.assert(input.rank === begin.length, \"Error in slice\" + input.rank + \"D: Length of begin \" + begin + \" must \" +\n        (\"match the rank of the array (\" + input.rank + \").\"));\n    util.assert(input.rank === size.length, \"Error in slice\" + input.rank + \"D: Length of size \" + size + \" must \" +\n        (\"match the rank of the array (\" + input.rank + \").\"));\n    for (var i = 0; i < input.rank; ++i) {\n        util.assert(begin[i] + size[i] <= input.shape[i], \"Error in slice\" + input.rank + \"D: begin[\" + i + \"] + size[\" + i + \"] \" +\n            (\"(\" + (begin[i] + size[i]) + \") would overflow input.shape[\" + i + \"] (\" + input.shape[i] + \")\"));\n    }\n}\nexports.assertParamsValid = assertParamsValid;\n//# sourceMappingURL=slice_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/slice_util.js\n// module id = 84\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar broadcast_util = require(\"../broadcast_util\");\nvar AddScaledMatProgram = (function () {\n    function AddScaledMatProgram(aShape, bShape) {\n        this.variableNames = ['A', 'B', 'c1', 'c2'];\n        this.supportsBroadcasting = true;\n        this.outputShape =\n            broadcast_util.assertAndGetBroadcastShape(aShape, bShape);\n        this.userCode = \"\\n      void main() {\\n        float a = getAAtOutCoords();\\n        float b = getBAtOutCoords();\\n        float c1 = getC1();\\n        float c2 = getC2();\\n        setOutput(dot(vec2(c1, c2), vec2(a, b)));\\n      }\\n    \";\n    }\n    return AddScaledMatProgram;\n}());\nexports.AddScaledMatProgram = AddScaledMatProgram;\n//# sourceMappingURL=addscaledmat_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/addscaledmat_gpu.js\n// module id = 85\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ArgMinMaxProgram = (function () {\n    function ArgMinMaxProgram(reduceInfo, op, firstPass) {\n        this.variableNames = ['A'];\n        var windowSize = reduceInfo.windowSize;\n        var batchSize = reduceInfo.batchSize;\n        var inSize = reduceInfo.inSize;\n        var outSize = Math.ceil(inSize / windowSize);\n        if (!firstPass) {\n            this.variableNames.push('bestIndicesA');\n        }\n        this.outputShape = [batchSize, outSize];\n        var compOp = (op === 'max') ? '>' : '<';\n        var indexSnippet = firstPass ?\n            'inOffset + i;' :\n            'round(getBestIndicesA(batch, inOffset + i));';\n        this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \" + windowSize + \";\\n\\n        int bestIndex = 0;\\n        float bestValue = getA(batch, inOffset);\\n\\n        for (int i = 0; i < \" + windowSize + \"; i++) {\\n          int inIdx = \" + indexSnippet + \";\\n          float candidate = getA(batch, inIdx);\\n          if (isNaN(candidate)) {\\n            setOutput(candidate);\\n            return;\\n          }\\n          if (candidate \" + compOp + \" bestValue) {\\n            bestValue = candidate;\\n            bestIndex = inIdx;\\n          }\\n        }\\n        setOutput(float(bestIndex));\\n      }\\n    \";\n    }\n    return ArgMinMaxProgram;\n}());\nexports.ArgMinMaxProgram = ArgMinMaxProgram;\n//# sourceMappingURL=argminmax_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/argminmax_gpu.js\n// module id = 86\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar broadcast_util = require(\"../broadcast_util\");\nvar BatchNormProgram = (function () {\n    function BatchNormProgram(xShape, meanShape, varianceShape, offsetShape, scaleShape, varianceEpsilon) {\n        this.outputShape = [];\n        this.supportsBroadcasting = true;\n        this.variableNames = ['x', 'mean', 'variance'];\n        broadcast_util.assertAndGetBroadcastShape(xShape, meanShape);\n        broadcast_util.assertAndGetBroadcastShape(xShape, varianceShape);\n        var offsetSnippet = '0.0';\n        if (offsetShape != null) {\n            broadcast_util.assertAndGetBroadcastShape(xShape, offsetShape);\n            this.variableNames.push('offset');\n            offsetSnippet = 'getOffsetAtOutCoords()';\n        }\n        var scaleSnippet = '1.0';\n        if (scaleShape != null) {\n            broadcast_util.assertAndGetBroadcastShape(xShape, scaleShape);\n            this.variableNames.push('scale');\n            scaleSnippet = 'getScaleAtOutCoords()';\n        }\n        this.outputShape = xShape;\n        this.userCode = \"\\n      void main() {\\n        float x = getXAtOutCoords();\\n        float mean = getMeanAtOutCoords();\\n        float variance = getVarianceAtOutCoords();\\n        float offset = \" + offsetSnippet + \";\\n        float scale = \" + scaleSnippet + \";\\n        float inv = scale / sqrt(variance + float(\" + varianceEpsilon + \"));\\n        setOutput((x - mean) * inv + offset);\\n      }\\n    \";\n    }\n    return BatchNormProgram;\n}());\nexports.BatchNormProgram = BatchNormProgram;\n//# sourceMappingURL=batchnorm_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/batchnorm_gpu.js\n// module id = 87\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClipProgram = (function () {\n    function ClipProgram(aShape, min, max) {\n        this.variableNames = ['A'];\n        this.outputShape = aShape;\n        var minFixed = min.toFixed(20);\n        var maxFixed = max.toFixed(20);\n        this.userCode = \"\\n      void main() {\\n        float value = getAAtOutCoords();\\n        if (isNaN(value)) {\\n          setOutput(value);\\n          return;\\n        }\\n\\n        setOutput(clamp(value, \" + minFixed + \", \" + maxFixed + \"));\\n      }\\n    \";\n    }\n    return ClipProgram;\n}());\nexports.ClipProgram = ClipProgram;\n//# sourceMappingURL=clip_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/clip_gpu.js\n// module id = 88\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar concat_util = require(\"../concat_util\");\nvar shader_compiler_1 = require(\"./shader_compiler\");\nvar ConcatProgram = (function () {\n    function ConcatProgram(aShape, bShape, axis) {\n        this.variableNames = ['A', 'B'];\n        this.outputShape = [];\n        var yAxes = ['yR', 'yC', 'yD', 'yW'];\n        var concatAxis = yAxes[axis];\n        this.outputShape = concat_util.computeOutShape(aShape, bShape, axis);\n        var dType = shader_compiler_1.getCoordsDataType(aShape.length);\n        var unpackSnippet = getUnpack(aShape.length);\n        var sampleCoords = getSampleCoords(aShape.length);\n        this.userCode = \"\\n      void main() {\\n        \" + dType + \" coords = getOutputCoords();\\n        \" + unpackSnippet + \"\\n\\n        float value = 0.0;\\n        if (\" + concatAxis + \" < \" + aShape[axis] + \") {\\n          value = getA(\" + sampleCoords + \");\\n        } else {\\n          \" + concatAxis + \" -= \" + aShape[axis] + \";\\n          value = getB(\" + sampleCoords + \");\\n        }\\n\\n        setOutput(value);\\n      }\\n    \";\n    }\n    return ConcatProgram;\n}());\nexports.ConcatProgram = ConcatProgram;\nfunction getSampleCoords(rank) {\n    if (rank === 1) {\n        return 'yR';\n    }\n    else if (rank === 2) {\n        return 'yR, yC';\n    }\n    else if (rank === 3) {\n        return 'yR, yC, yD';\n    }\n    else if (rank === 4) {\n        return 'yR, yC, yD, yW';\n    }\n    else {\n        throw Error(\"Concat for rank \" + rank + \" is not yet supported\");\n    }\n}\nfunction getUnpack(rank) {\n    var res = rank === 1 ? 'int yR = coords;' : 'int yR = coords.x;';\n    if (rank > 1) {\n        res += '\\nint yC = coords.y;';\n    }\n    if (rank > 2) {\n        res += '\\nint yD = coords.z;';\n    }\n    if (rank > 3) {\n        res += '\\nint yW = coords.w;';\n    }\n    if (rank > 4) {\n        throw Error(\"Concat for rank \" + rank + \" is not yet supported\");\n    }\n    return res;\n}\n//# sourceMappingURL=concat_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/concat_gpu.js\n// module id = 89\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar conv_util = require(\"../conv_util\");\nvar Conv2DDerWeightsProgram = (function () {\n    function Conv2DDerWeightsProgram(convInfo) {\n        this.variableNames = ['x', 'dy'];\n        var _a = convInfo.outShape, yNumRows = _a[0], yNumCols = _a[1], outDepth = _a[2];\n        var _b = convInfo.inShape, xNumRows = _b[0], xNumCols = _b[1], inDepth = _b[2];\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        this.outputShape = conv_util.computeWeightsShape4D(inDepth, outDepth, convInfo.filterHeight, convInfo.filterWidth);\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int wR = coords.x;\\n        int wC = coords.y;\\n        int d1 = coords.z;\\n        int d2 = coords.w;\\n\\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int yR = 0; yR < \" + yNumRows + \"; yR++) {\\n          int xR = wR + yR * \" + strideHeight + \" - \" + padTop + \";\\n\\n          if (xR < 0 || xR >= \" + xNumRows + \") {\\n            continue;\\n          }\\n\\n          for (int yC = 0; yC < \" + yNumCols + \"; yC++) {\\n            int xC = wC + yC * \" + strideWidth + \" - \" + padLeft + \";\\n\\n            if (xC < 0 || xC >= \" + xNumCols + \") {\\n              continue;\\n            }\\n\\n            float dyValue = getDy(yR, yC, d2);\\n            float xValue = getX(xR, xC, d1);\\n            dotProd += (xValue * dyValue);\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return Conv2DDerWeightsProgram;\n}());\nexports.Conv2DDerWeightsProgram = Conv2DDerWeightsProgram;\nvar Conv2DDerInputProgram = (function () {\n    function Conv2DDerInputProgram(convInfo) {\n        this.variableNames = ['dy', 'W'];\n        var _a = convInfo.outShape, yRows = _a[0], yCols = _a[1], outDepth = _a[2];\n        this.outputShape = convInfo.inShape;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        this.userCode = \"\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int d1 = coords.z;\\n\\n        ivec2 dyCorner = coords.xy - pads;\\n        int dyRCorner = dyCorner.x;\\n        int dyCCorner = dyCorner.y;\\n\\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \" + strideHeight + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + yRows + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          int wRPerm = \" + filterHeight + \" - 1 - wR;\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + strideWidth + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + yCols + \".0 || fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            int wCPerm = \" + filterWidth + \" - 1 - wC;\\n\\n            for (int d2 = 0; d2 < \" + outDepth + \"; d2++) {\\n              float xValue = getDy(idyR, idyC, d2);\\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\\n              dotProd += xValue * wValue;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return Conv2DDerInputProgram;\n}());\nexports.Conv2DDerInputProgram = Conv2DDerInputProgram;\nvar Conv2DDerBiasProgram = (function () {\n    function Conv2DDerBiasProgram(yShape) {\n        this.variableNames = ['dy'];\n        var yNumRows = yShape[0], yNumCols = yShape[1], outputDepth = yShape[2];\n        this.outputShape = [outputDepth];\n        this.userCode = \"\\n      void main() {\\n        int d2 = getOutputCoords();\\n\\n        float derBias = 0.0;\\n        for (int yR = 0; yR < \" + yNumRows + \"; yR++) {\\n          for (int yC = 0; yC < \" + yNumCols + \"; yC++) {\\n            derBias += getDy(yR, yC, d2);\\n          }\\n        }\\n        setOutput(derBias);\\n      }\\n    \";\n    }\n    return Conv2DDerBiasProgram;\n}());\nexports.Conv2DDerBiasProgram = Conv2DDerBiasProgram;\n//# sourceMappingURL=conv_backprop_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/conv_backprop_gpu.js\n// module id = 90\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Conv2DProgram = (function () {\n    function Conv2DProgram(convInfo, hasBias) {\n        this.variableNames = ['x', 'W'];\n        if (hasBias) {\n            this.variableNames.push('bias');\n        }\n        this.outputShape = convInfo.outShape;\n        var biasSnippet = hasBias ? 'dotProd += getBias(d2);' : '';\n        var _a = convInfo.inShape, xNumRows = _a[0], xNumCols = _a[1], inputDepth = _a[2];\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var inputDepthNearestVec4 = Math.floor(inputDepth / 4) * 4;\n        var inputDepthVec4Remainder = inputDepth % 4;\n        this.userCode = \"\\n      const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int d2 = coords.z;\\n\\n        ivec2 xRCCorner = coords.xy * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          int xR = xRCorner + wR;\\n\\n          if (xR < 0 || xR >= \" + xNumRows + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            int xC = xCCorner + wC;\\n\\n            if (xC < 0 || xC >= \" + xNumCols + \") {\\n              continue;\\n            }\\n\\n            for (int d1 = 0; d1 < \" + inputDepthNearestVec4 + \"; d1 += 4) {\\n              vec4 xValues = vec4(\\n                getX(xR, xC, d1),\\n                getX(xR, xC, d1 + 1),\\n                getX(xR, xC, d1 + 2),\\n                getX(xR, xC, d1 + 3)\\n              );\\n              vec4 wValues = vec4(\\n                getW(wR, wC, d1, d2),\\n                getW(wR, wC, d1 + 1, d2),\\n                getW(wR, wC, d1 + 2, d2),\\n                getW(wR, wC, d1 + 3, d2)\\n              );\\n\\n              dotProd += dot(xValues, wValues);\\n            }\\n\\n            if (\" + (inputDepthVec4Remainder === 1) + \") {\\n              dotProd +=\\n                getX(xR, xC, \" + inputDepthNearestVec4 + \") *\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \", d2);\\n            } else if (\" + (inputDepthVec4Remainder === 2) + \") {\\n              vec2 xValues = vec2(\\n                getX(xR, xC, \" + inputDepthNearestVec4 + \"),\\n                getX(xR, xC, \" + inputDepthNearestVec4 + \" + 1)\\n              );\\n              vec2 wValues = vec2(\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \", d2),\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \" + 1, d2)\\n              );\\n              dotProd += dot(xValues, wValues);\\n            } else if (\" + (inputDepthVec4Remainder === 3) + \") {\\n              vec3 xValues = vec3(\\n                getX(xR, xC, \" + inputDepthNearestVec4 + \"),\\n                getX(xR, xC, \" + inputDepthNearestVec4 + \" + 1),\\n                getX(xR, xC, \" + inputDepthNearestVec4 + \" + 2)\\n              );\\n              vec3 wValues = vec3(\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \", d2),\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \" + 1, d2),\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \" + 2, d2)\\n              );\\n              dotProd += dot(xValues, wValues);\\n            }\\n          }\\n        }\\n        \" + biasSnippet + \"\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return Conv2DProgram;\n}());\nexports.Conv2DProgram = Conv2DProgram;\n//# sourceMappingURL=conv_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/conv_gpu.js\n// module id = 91\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DepthwiseConv2DProgram = (function () {\n    function DepthwiseConv2DProgram(convInfo) {\n        this.variableNames = ['x', 'W'];\n        this.outputShape = convInfo.outShape;\n        var xNumRows = convInfo.inShape[1];\n        var xNumCols = convInfo.inShape[2];\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var channelMul = convInfo.channelMul;\n        this.userCode = \"\\n      const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords.x;\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int d2 = coords.w;\\n        int d1 = d2 / \" + channelMul + \";\\n        int q = d2 - d1 * \" + channelMul + \";\\n\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          int xR = xRCorner + wR;\\n\\n          if (xR < 0 || xR >= \" + xNumRows + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            int xC = xCCorner + wC;\\n\\n            if (xC < 0 || xC >= \" + xNumCols + \") {\\n              continue;\\n            }\\n\\n            float xVal = getX(batch, xR, xC, d1);\\n            float wVal = getW(wR, wC, d1, q);\\n            dotProd += xVal * wVal;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return DepthwiseConv2DProgram;\n}());\nexports.DepthwiseConv2DProgram = DepthwiseConv2DProgram;\n//# sourceMappingURL=conv_gpu_depthwise.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/conv_gpu_depthwise.js\n// module id = 92\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Copy2DProgram = (function () {\n    function Copy2DProgram(srcNumCols, destNumCols) {\n        this.variableNames = ['source'];\n        this.outputShape = null;\n        this.userCode = \"\\n      uniform ivec2 sourceStart;\\n      uniform ivec2 destStart;\\n\\n      void main() {\\n        ivec2 destCoords = getOutputCoords() - destStart;\\n        int index = destCoords.x * \" + destNumCols + \" + destCoords.y;\\n        int r = index / \" + srcNumCols + \";\\n        ivec2 sourceCoords = sourceStart + ivec2(r, index - r * \" + srcNumCols + \");\\n        setOutput(getSource(sourceCoords.x, sourceCoords.y));\\n      }\\n    \";\n    }\n    Copy2DProgram.prototype.getCustomSetupFunc = function (sourceStart, destStart, destSize) {\n        return function (gpgpu, webGLProgram) {\n            gpgpu.setOutputMatrixWriteRegion(destStart[0], destSize[0], destStart[1], destSize[1]);\n            var sourceStartCRLoc = gpgpu.getUniformLocation(webGLProgram, 'sourceStart');\n            gpgpu.gl.uniform2i(sourceStartCRLoc, sourceStart[0], sourceStart[1]);\n            var destStartCRLoc = gpgpu.getUniformLocation(webGLProgram, 'destStart');\n            gpgpu.gl.uniform2i(destStartCRLoc, destStart[0], destStart[1]);\n        };\n    };\n    return Copy2DProgram;\n}());\nexports.Copy2DProgram = Copy2DProgram;\n//# sourceMappingURL=copy_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/copy_gpu.js\n// module id = 93\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment_1 = require(\"../../environment\");\nvar util = require(\"../../util\");\nvar shader_compiler = require(\"./shader_compiler\");\nvar ATTRIBUTE_NAMES = ['uv', 'clipSpacePos'];\nvar NAN_UNIFORM_NAME = 'NaN';\nfunction shouldUploadNaNUniform() {\n    return !environment_1.ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED');\n}\nfunction compileProgram(gpgpu, program, inputs, output) {\n    var userCode = program.userCode;\n    var inputInfos = inputs.map(function (input, i) {\n        var shapeInfo = {\n            logicalShape: input.shape,\n            texShape: input.getTextureShapeRC(),\n            textureType: input.getData().textureType\n        };\n        return { name: program.variableNames[i], shapeInfo: shapeInfo };\n    });\n    var inShapeInfos = inputInfos.map(function (x) { return x.shapeInfo; });\n    var outShapeInfo = {\n        logicalShape: output.shape,\n        texShape: output.getTextureShapeRC(),\n        textureType: output.getData().textureType\n    };\n    var source = shader_compiler.makeShader(inputInfos, outShapeInfo, userCode, program.supportsBroadcasting === true);\n    var webGLProgram = gpgpu.createProgram(source);\n    var uniformLocations = {};\n    for (var i = 0; i < program.variableNames.length; i++) {\n        var uniformName = program.variableNames[i];\n        uniformLocations[uniformName] =\n            gpgpu.getUniformLocation(webGLProgram, uniformName);\n    }\n    var attributeLocations = {};\n    ATTRIBUTE_NAMES.forEach(function (attribute) {\n        attributeLocations[attribute] =\n            gpgpu.getAttributeLocation(webGLProgram, attribute);\n    });\n    if (shouldUploadNaNUniform()) {\n        uniformLocations[NAN_UNIFORM_NAME] =\n            gpgpu.getUniformLocation(webGLProgram, NAN_UNIFORM_NAME);\n    }\n    return {\n        program: program,\n        source: source,\n        webGLProgram: webGLProgram,\n        uniformLocations: uniformLocations,\n        attributeLocations: attributeLocations,\n        gpgpu: gpgpu,\n        inShapeInfos: inShapeInfos,\n        outShapeInfo: outShapeInfo\n    };\n}\nexports.compileProgram = compileProgram;\nfunction validateBinaryAndProgram(shapeInfos, inputs) {\n    if (shapeInfos.length !== inputs.length) {\n        throw Error(\"Binary was compiled with \" + shapeInfos.length + \" inputs, but \" +\n            (\"was executed with \" + inputs.length + \" inputs\"));\n    }\n    shapeInfos.forEach(function (s, i) {\n        var shapeA = s.logicalShape;\n        var texShapeA = s.texShape;\n        var shapeB = inputs[i].shape;\n        var texShapeB = inputs[i].getTextureShapeRC();\n        if (!util.arraysEqual(shapeA, shapeB)) {\n            throw Error(\"Binary was compiled with different shapes than \" +\n                (\"the current args. Shapes \" + shapeA + \" and \" + shapeB + \" must match\"));\n        }\n        if (!util.arraysEqual(texShapeA, texShapeB)) {\n            throw Error(\"Binary was compiled with different texture shapes than the\" +\n                (\" current args. Shape \" + texShapeA + \" and \" + texShapeB + \" must match\"));\n        }\n    });\n}\nfunction runProgram(binary, inputs, output, customSetup) {\n    validateBinaryAndProgram(binary.inShapeInfos, inputs);\n    validateBinaryAndProgram([binary.outShapeInfo], [output]);\n    var outTex = output.getTexture();\n    var outTexShape = output.getTextureShapeRC();\n    var gpgpu = binary.gpgpu;\n    gpgpu.setOutputMatrixTexture(outTex, outTexShape[0], outTexShape[1]);\n    gpgpu.setProgram(binary.webGLProgram);\n    inputs.forEach(function (input, i) {\n        var tex = input.getTexture();\n        var variableName = binary.program.variableNames[i];\n        var variableUniformLocation = binary.uniformLocations[variableName];\n        gpgpu.setInputMatrixTexture(tex, variableUniformLocation, i);\n    });\n    if (shouldUploadNaNUniform()) {\n        gpgpu.gl.uniform1f(binary.uniformLocations[NAN_UNIFORM_NAME], NaN);\n    }\n    if (customSetup != null) {\n        customSetup(gpgpu, binary.webGLProgram);\n    }\n    gpgpu.executeProgram(binary.attributeLocations);\n}\nexports.runProgram = runProgram;\nfunction makeShaderKey(program, inputs, output) {\n    var keyInputs = '';\n    inputs.concat(output).forEach(function (x) {\n        keyInputs += x.shape + \"_\" + x.getTextureShapeRC();\n    });\n    var keyUserCode = program.userCode;\n    var keyBroadcast = (program.supportsBroadcasting === true).toString();\n    var key = program.constructor.name;\n    key += '_' + keyBroadcast + '_' + keyInputs + '_' + keyUserCode;\n    return key;\n}\nexports.makeShaderKey = makeShaderKey;\n//# sourceMappingURL=gpgpu_math.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/gpgpu_math.js\n// module id = 94\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MaxPool2DBackpropProgram = (function () {\n    function MaxPool2DBackpropProgram(convInfo) {\n        this.variableNames = ['dy', 'maxPos'];\n        this.outputShape = convInfo.inShape;\n        var dyRows = convInfo.outShape[0];\n        var dyCols = convInfo.outShape[1];\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        var lastIndex = filterHeight * filterWidth - 1;\n        this.userCode = \"\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int d = coords.z;\\n\\n        ivec2 dyRCCorner = coords.xy - pads;\\n        int dyRCorner = dyRCCorner.x;\\n        int dyCCorner = dyRCCorner.y;\\n\\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \" + strideHeight + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + dyRows + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + strideWidth + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + dyCols + \".0 || fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            float dyValue = getDy(idyR, idyC, d);\\n            int maxPosValue = \" + lastIndex + \" - int(getMaxPos(idyR, idyC, d));\\n\\n            // Get the current value, check it against the value from the\\n            // position matrix.\\n            int curPosValue = wR * \" + filterWidth + \" + wC;\\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\\n\\n            dotProd += dyValue * mask;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return MaxPool2DBackpropProgram;\n}());\nexports.MaxPool2DBackpropProgram = MaxPool2DBackpropProgram;\n//# sourceMappingURL=max_pool_backprop_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/max_pool_backprop_gpu.js\n// module id = 95\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar math_1 = require(\"../math\");\nvar MatMulProgram = (function () {\n    function MatMulProgram(aShape, bShape, aOrient, bOrient) {\n        if (aOrient === void 0) { aOrient = math_1.MatrixOrientation.REGULAR; }\n        if (bOrient === void 0) { bOrient = math_1.MatrixOrientation.REGULAR; }\n        this.variableNames = ['matrixA', 'matrixB'];\n        var outerShapeA = (aOrient === math_1.MatrixOrientation.REGULAR) ? aShape[0] : aShape[1];\n        var outerShapeB = (bOrient === math_1.MatrixOrientation.REGULAR) ? bShape[1] : bShape[0];\n        this.outputShape = [outerShapeA, outerShapeB];\n        var sharedDim = (aOrient === math_1.MatrixOrientation.REGULAR ? aShape[1] : aShape[0]);\n        var aSnippetFromOffset = function (vec4Offset, indexVar) {\n            return (aOrient === math_1.MatrixOrientation.REGULAR) ?\n                \"aRow, \" + indexVar + \" + \" + vec4Offset :\n                indexVar + \" + \" + vec4Offset + \", aRow\";\n        };\n        var bSnippetFromOffset = function (vec4Offset, indexVar) {\n            return (bOrient === math_1.MatrixOrientation.REGULAR) ?\n                indexVar + \" + \" + vec4Offset + \", bCol\" :\n                \"bCol, \" + indexVar + \" + \" + vec4Offset;\n        };\n        var sharedDimNearestVec4 = Math.floor(sharedDim / 4) * 4;\n        var sharedDimVec4Remainder = sharedDim % 4;\n        this.userCode = \" float dotARowBCol(int aRow, int bCol) {\\n      float result = 0.0;\\n      for (int i = 0; i < \" + sharedDimNearestVec4 + \"; i += 4) {\\n        vec4 a = vec4(\\n          getMatrixA(\" + aSnippetFromOffset(0, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(2, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(3, 'i') + \")\\n        );\\n        vec4 b = vec4(\\n          getMatrixB(\" + bSnippetFromOffset(0, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(2, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(3, 'i') + \")\\n        );\\n\\n        result += dot(a, b);\\n      }\\n\\n      if (\" + (sharedDimVec4Remainder === 1) + \") {\\n        result += getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \") *\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \");\\n      } else if (\" + (sharedDimVec4Remainder === 2) + \") {\\n        vec2 a = vec2(\\n          getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, sharedDimNearestVec4) + \")\\n        );\\n        vec2 b = vec2(\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, sharedDimNearestVec4) + \")\\n        );\\n        result += dot(a, b);\\n      } else if (\" + (sharedDimVec4Remainder === 3) + \") {\\n        vec3 a = vec3(\\n          getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(2, sharedDimNearestVec4) + \")\\n        );\\n        vec3 b = vec3(\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(2, sharedDimNearestVec4) + \")\\n        );\\n        result += dot(a, b);\\n      }\\n\\n      return result;\\n    }\\n\\n    void main() {\\n      ivec2 resRC = getOutputCoords();\\n      setOutput(dotARowBCol(resRC.x, resRC.y));\\n    }\\n    \";\n    }\n    return MatMulProgram;\n}());\nexports.MatMulProgram = MatMulProgram;\n//# sourceMappingURL=mulmat_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/mulmat_gpu.js\n// module id = 96\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MultinomialProgram = (function () {\n    function MultinomialProgram(batchSize, numOutcomes, numSamples) {\n        this.variableNames = ['probs'];\n        this.outputShape = [batchSize, numSamples];\n        this.userCode = \"\\n      uniform float seed;\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n\\n        float r = random(seed);\\n        float cdf = 0.0;\\n\\n        for (int i = 0; i < \" + (numOutcomes - 1) + \"; i++) {\\n          cdf += getProbs(batch, i);\\n\\n          if (r < cdf) {\\n            setOutput(float(i));\\n            return;\\n          }\\n        }\\n\\n        // If no other event happened, last event happened.\\n        setOutput(float(\" + (numOutcomes - 1) + \"));\\n      }\\n    \";\n    }\n    MultinomialProgram.prototype.getCustomSetupFunc = function (seed) {\n        var _this = this;\n        return function (gpgpu, webGLProgram) {\n            if (_this.seedLoc == null) {\n                _this.seedLoc = gpgpu.getUniformLocation(webGLProgram, 'seed');\n            }\n            gpgpu.gl.uniform1f(_this.seedLoc, seed);\n        };\n    };\n    return MultinomialProgram;\n}());\nexports.MultinomialProgram = MultinomialProgram;\n//# sourceMappingURL=multinomial_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/multinomial_gpu.js\n// module id = 97\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar OneHotProgram = (function () {\n    function OneHotProgram(numIndices, depth, onValue, offValue) {\n        this.variableNames = ['indices'];\n        this.outputShape = [numIndices, depth];\n        this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int index = round(getIndices(coords.x));\\n        setOutput(mix(float(\" + offValue + \"), float(\" + onValue + \"),\\n                      float(index == coords.y)));\\n      }\\n    \";\n    }\n    OneHotProgram.prototype.getCustomSetupFunc = function (seed) {\n        var _this = this;\n        return function (gpgpu, webGLProgram) {\n            if (_this.seedLoc == null) {\n                _this.seedLoc = gpgpu.getUniformLocation(webGLProgram, 'seed');\n            }\n            gpgpu.gl.uniform1f(_this.seedLoc, seed);\n        };\n    };\n    return OneHotProgram;\n}());\nexports.OneHotProgram = OneHotProgram;\n//# sourceMappingURL=onehot_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/onehot_gpu.js\n// module id = 98\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Pool2DProgram = (function () {\n    function Pool2DProgram(convInfo, poolType, computePositions) {\n        this.variableNames = ['x'];\n        if (poolType === 'avg' && computePositions) {\n            throw new Error('Cannot compute positions for average pool.');\n        }\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var xNumRows = convInfo.inShape[0];\n        var xNumCols = convInfo.inShape[1];\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        this.outputShape = convInfo.outShape;\n        var isAvgPool = poolType === 'avg';\n        var initializationValue = '0.0';\n        if (!isAvgPool) {\n            if (poolType === 'min') {\n                initializationValue = '1.0 / 0.0';\n            }\n            else {\n                initializationValue = '-1.0 / 0.0';\n            }\n        }\n        if (computePositions) {\n            var compareOp_1 = poolType === 'min' ? '<=' : '>=';\n            this.userCode = \"\\n        const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n        const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n        void main() {\\n          ivec3 coords = getOutputCoords();\\n          int d = coords.z;\\n\\n          ivec2 xRCCorner = coords.xy * strides - pads;\\n          int xRCorner = xRCCorner.x;\\n          int xCCorner = xRCCorner.y;\\n\\n          // max/min x(?, ?, d) to get y(yR, yC, d).\\n          // ? = to be determined\\n          float minMaxValue = 0.0;\\n          float minMaxValueFound = 0.0;\\n          int minMaxPosition = 0;\\n          float avgValue = 0.0;\\n\\n          for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n            int xR = xRCorner + wR;\\n\\n            if (xR < 0 || xR >= \" + xNumRows + \") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n              int xC = xCCorner + wC;\\n\\n              if (xC < 0 || xC >= \" + xNumCols + \") {\\n                continue;\\n              }\\n\\n              float value = getX(xR, xC, d);\\n\\n              if (isNaN(value)) {\\n                setOutput(value);\\n                return;\\n              }\\n\\n              // If a min / max value has already been found, use it. If not,\\n              // use the current value.\\n              float currMinMaxValue = mix(\\n                  value, minMaxValue, minMaxValueFound);\\n              if (value \" + compareOp_1 + \" currMinMaxValue) {\\n                minMaxValue = value;\\n                minMaxValueFound = 1.0;\\n                minMaxPosition = wR * \" + filterWidth + \" + wC;\\n              }\\n            }\\n          }\\n          setOutput(float(minMaxPosition));\\n        }\\n      \";\n            return;\n        }\n        var compareOp = poolType === 'min' ? 'min' : 'max';\n        var returnValue = poolType + \"(\" + poolType + \"(\" + poolType + \"(\" +\n            'minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])';\n        if (poolType === 'avg') {\n            returnValue = \"avgValue / \" + filterHeight * filterWidth + \".0\";\n        }\n        var filterWidthNearestVec4 = Math.floor(filterWidth / 4) * 4;\n        var filterWidthVec4Remainder = filterWidth % 4;\n        var updateSnippet = \"\\n      if (hasNaN(values)) {\\n        setOutput(getNaN(values));\\n        return;\\n      }\\n      if (\" + isAvgPool + \") {\\n        avgValue += dot(values, ones);\\n      } else {\\n        minMaxValue = \" + compareOp + \"(values, minMaxValue);\\n      }\\n    \";\n        this.userCode = \"\\n      const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n      const float initializationValue = \" + initializationValue + \";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float getValue(int xR, int xC, int d) {\\n        if (xC < 0 || xC >= \" + xNumCols + \") {\\n          return initializationValue;\\n        }\\n        return getX(xR, xC, d);\\n      }\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int d = coords.z;\\n\\n        ivec2 xRCCorner = coords.xy * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // max/min x(?, ?, d) to get y(yR, yC, d).\\n        // ? = to be determined\\n        vec4 minMaxValue = vec4(\" + initializationValue + \");\\n        float avgValue = 0.0;\\n\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          int xR = xRCorner + wR;\\n\\n          if (xR < 0 || xR >= \" + xNumRows + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + filterWidthNearestVec4 + \"; wC += 4) {\\n            int xC = xCCorner + wC;\\n\\n            vec4 values = vec4(\\n              getValue(xR, xC, d),\\n              getValue(xR, xC + 1, d),\\n              getValue(xR, xC + 2, d),\\n              getValue(xR, xC + 3, d)\\n            );\\n\\n            \" + updateSnippet + \"\\n          }\\n\\n          int xC = xCCorner + \" + filterWidthNearestVec4 + \";\\n          if (\" + (filterWidthVec4Remainder === 1) + \") {\\n            vec4 values = vec4(\\n              getValue(xR, xC, d),\\n              initializationValue,\\n              initializationValue,\\n              initializationValue\\n            );\\n            \" + updateSnippet + \"\\n          } else if (\" + (filterWidthVec4Remainder === 2) + \") {\\n            vec4 values = vec4(\\n              getValue(xR, xC, d),\\n              getValue(xR, xC + 1, d),\\n              initializationValue,\\n              initializationValue\\n            );\\n\\n            \" + updateSnippet + \"\\n          } else if (\" + (filterWidthVec4Remainder === 3) + \") {\\n            vec4 values = vec4(\\n              getValue(xR, xC, d),\\n              getValue(xR, xC + 1, d),\\n              getValue(xR, xC + 2, d),\\n              initializationValue\\n            );\\n\\n            \" + updateSnippet + \"\\n          }\\n        }\\n        setOutput(\" + returnValue + \");\\n      }\\n    \";\n    }\n    return Pool2DProgram;\n}());\nexports.Pool2DProgram = Pool2DProgram;\n//# sourceMappingURL=pool_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/pool_gpu.js\n// module id = 99\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ReduceProgram = (function () {\n    function ReduceProgram(reduceInfo, reduceType) {\n        this.variableNames = ['x'];\n        var windowSize = reduceInfo.windowSize;\n        var batchSize = reduceInfo.batchSize;\n        var inSize = reduceInfo.inSize;\n        var outSize = Math.ceil(inSize / windowSize);\n        this.outputShape = [batchSize, outSize];\n        var isReduceSum = reduceType === 'sum';\n        var initializationValue = '0.0';\n        if (!isReduceSum) {\n            if (reduceType === 'min') {\n                initializationValue = '1.0 / 0.0';\n            }\n            else {\n                initializationValue = '-1.0 / 0.0';\n            }\n        }\n        var compareOp = reduceType === 'min' ? 'min' : 'max';\n        var returnValue = reduceType + \"(\" + reduceType + \"(\" + reduceType + \"(\" +\n            'minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])';\n        if (reduceType === 'sum') {\n            returnValue = \"sumValue\";\n        }\n        var windowSizeNearestVec4 = Math.floor(windowSize / 4) * 4;\n        var windowSizeVec4Remainder = windowSize % 4;\n        var updateSnippet = \"\\n      if (\" + isReduceSum + \") {\\n        sumValue += dot(values, ones);\\n      } else {\\n        if (hasNaN(values)) {\\n          setOutput(getNaN(values));\\n          return;\\n        }\\n        minMaxValue = \" + compareOp + \"(values, minMaxValue);\\n      }\\n    \";\n        var checkOutOfBounds = '';\n        if (inSize % windowSize > 0) {\n            checkOutOfBounds = \"\\n        if (inIdx < 0 || inIdx >= \" + inSize + \") {\\n          return initializationValue;\\n        }\\n      \";\n        }\n        this.userCode = \"\\n      const float initializationValue = \" + initializationValue + \";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float getValue(int batch, int inIdx) {\\n        \" + checkOutOfBounds + \"\\n        return getX(batch, inIdx);\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \" + windowSize + \";\\n\\n        vec4 minMaxValue = vec4(\" + initializationValue + \");\\n        float sumValue = 0.0;\\n\\n        for (int i = 0; i < \" + windowSizeNearestVec4 + \"; i += 4) {\\n          int inIdx = inOffset + i;\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            getValue(batch, inIdx + 3)\\n          );\\n\\n          \" + updateSnippet + \"\\n        }\\n\\n        int inIdx = inOffset + \" + windowSizeNearestVec4 + \";\\n        if (\" + (windowSizeVec4Remainder === 1) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            initializationValue,\\n            initializationValue,\\n            initializationValue\\n          );\\n          \" + updateSnippet + \"\\n        } else if (\" + (windowSizeVec4Remainder === 2) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            initializationValue,\\n            initializationValue\\n          );\\n          \" + updateSnippet + \"\\n        } else if (\" + (windowSizeVec4Remainder === 3) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            initializationValue\\n          );\\n          \" + updateSnippet + \"\\n        }\\n        setOutput(\" + returnValue + \");\\n      }\\n    \";\n    }\n    return ReduceProgram;\n}());\nexports.ReduceProgram = ReduceProgram;\n//# sourceMappingURL=reduce_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/reduce_gpu.js\n// module id = 100\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar webgl_util = require(\"./webgl_util\");\nfunction getRenderRGBShader(gpgpu, destinationWidth) {\n    var fragmentShaderSource = \"\\n    precision highp float;\\n    uniform sampler2D source;\\n    varying vec2 resultUV;\\n\\n    const float destinationWidth = \" + destinationWidth + \".0;\\n    const float a = 1.0;\\n\\n    void main() {\\n      float xr = floor(resultUV.s * destinationWidth) * 3.0;\\n      vec3 x = xr + vec3(0, 1, 2);\\n\\n      float sourceWidth = destinationWidth * 3.0;\\n      vec3 u = (x + 0.5) / sourceWidth;\\n      float v = 1.0 - resultUV.t;\\n\\n      float r = texture2D(source, vec2(u[0], v)).r;\\n      float g = texture2D(source, vec2(u[1], v)).r;\\n      float b = texture2D(source, vec2(u[2], v)).r;\\n\\n      gl_FragColor = vec4(r, g, b, a);\\n    }\";\n    return gpgpu.createProgram(fragmentShaderSource);\n}\nexports.getRenderRGBShader = getRenderRGBShader;\nfunction renderToCanvas(gpgpu, renderShader, sourceTex) {\n    webgl_util.bindCanvasToFramebuffer(gpgpu.gl);\n    renderToFramebuffer(gpgpu, renderShader, sourceTex);\n}\nexports.renderToCanvas = renderToCanvas;\nfunction renderToFramebuffer(gpgpu, renderShader, sourceTex) {\n    gpgpu.setProgram(renderShader);\n    var sourceSamplerLocation = webgl_util.getProgramUniformLocationOrThrow(gpgpu.gl, renderShader, 'source');\n    gpgpu.setInputMatrixTexture(sourceTex, sourceSamplerLocation, 0);\n    gpgpu.executeProgram();\n}\nexports.renderToFramebuffer = renderToFramebuffer;\n//# sourceMappingURL=render_ndarray_gpu_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/render_ndarray_gpu_util.js\n// module id = 101\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ResizeBilinear3DProgram = (function () {\n    function ResizeBilinear3DProgram(inputShape, outputDimensionsRowCol, alignCorners) {\n        this.variableNames = ['A'];\n        this.outputShape = [];\n        var depth = inputShape[2];\n        this.outputShape =\n            [outputDimensionsRowCol[0], outputDimensionsRowCol[1], depth];\n        var effectiveInputShape = alignCorners ?\n            [inputShape[0] - 1, inputShape[1] - 1, depth] :\n            inputShape;\n        var effectiveOutputShape = alignCorners ?\n            [this.outputShape[0] - 1, this.outputShape[1] - 1, depth] :\n            this.outputShape;\n        this.userCode = \"\\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\\n          \" + effectiveInputShape[0] / effectiveOutputShape[0] + \",\\n          \" + effectiveInputShape[1] / effectiveOutputShape[1] + \");\\n      const vec2 inputShapeRC = vec2(\" + inputShape[0] + \".0, \" + inputShape[1] + \".0);\\n\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        ivec2 yRC = coords.xy;\\n        int d = coords.z;\\n\\n        // Fractional source index.\\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the four integer indices.\\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\\n        ivec2 sourceCeilRC = ivec2(\\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\\n\\n        float topLeft = getA(sourceFloorRC.x, sourceFloorRC.y, d);\\n        float bottomLeft = getA(sourceCeilRC.x, sourceFloorRC.y, d);\\n        float topRight = getA(sourceFloorRC.x, sourceCeilRC.y, d);\\n        float bottomRight = getA(sourceCeilRC.x, sourceCeilRC.y, d);\\n\\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\\n\\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\\n        float newValue = top + (bottom - top) * fracRC.x;\\n\\n        setOutput(newValue);\\n      }\\n    \";\n    }\n    return ResizeBilinear3DProgram;\n}());\nexports.ResizeBilinear3DProgram = ResizeBilinear3DProgram;\n//# sourceMappingURL=resize_bilinear_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/resize_bilinear_gpu.js\n// module id = 102\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shader_compiler_1 = require(\"./shader_compiler\");\nvar SliceProgram = (function () {\n    function SliceProgram(destSize) {\n        this.variableNames = ['source'];\n        this.outputShape = destSize;\n        this.rank = destSize.length;\n        var dtype = shader_compiler_1.getCoordsDataType(this.rank);\n        var sourceCoords = getCoords(this.rank);\n        this.userCode = \"\\n      uniform \" + dtype + \" start;\\n\\n      void main() {\\n        \" + dtype + \" sourceLoc = start + getOutputCoords();\\n        setOutput(getSource(\" + sourceCoords + \"));\\n      }\\n    \";\n    }\n    SliceProgram.prototype.getCustomSetupFunc = function (start) {\n        var _this = this;\n        if (start.length !== this.rank) {\n            throw Error(\"The rank (\" + this.rank + \") of the program must match the \" +\n                (\"length of start (\" + start.length + \")\"));\n        }\n        return function (gpgpu, webGLProgram) {\n            if (_this.startLoc == null) {\n                _this.startLoc = gpgpu.getUniformLocationNoThrow(webGLProgram, 'start');\n                if (_this.startLoc == null) {\n                    return;\n                }\n            }\n            if (_this.rank === 1) {\n                gpgpu.gl.uniform1i(_this.startLoc, start[0]);\n            }\n            else if (_this.rank === 2) {\n                gpgpu.gl.uniform2i(_this.startLoc, start[0], start[1]);\n            }\n            else if (_this.rank === 3) {\n                gpgpu.gl.uniform3i(_this.startLoc, start[0], start[1], start[2]);\n            }\n            else if (_this.rank === 4) {\n                gpgpu.gl.uniform4i(_this.startLoc, start[0], start[1], start[2], start[3]);\n            }\n            else {\n                throw Error(\"Slicing for rank \" + _this.rank + \" is not yet supported\");\n            }\n        };\n    };\n    return SliceProgram;\n}());\nexports.SliceProgram = SliceProgram;\nfunction getCoords(rank) {\n    if (rank === 1) {\n        return 'sourceLoc';\n    }\n    else if (rank === 2) {\n        return 'sourceLoc.x, sourceLoc.y';\n    }\n    else if (rank === 3) {\n        return 'sourceLoc.x, sourceLoc.y, sourceLoc.z';\n    }\n    else if (rank === 4) {\n        return 'sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w';\n    }\n    else {\n        throw Error(\"Slicing for rank \" + rank + \" is not yet supported\");\n    }\n}\n//# sourceMappingURL=slice_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/slice_gpu.js\n// module id = 103\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureManager = (function () {\n    function TextureManager(gpgpu) {\n        this.gpgpu = gpgpu;\n        this.numUsedTextures = 0;\n        this.numFreeTextures = 0;\n        this.freeTextures = {};\n        this.logEnabled = false;\n        this.usedTextureCount = {};\n    }\n    TextureManager.prototype.acquireTexture = function (shapeRC) {\n        var shapeKey = getKeyFromTextureShape(shapeRC);\n        if (!(shapeKey in this.freeTextures)) {\n            this.freeTextures[shapeKey] = [];\n        }\n        if (!(shapeKey in this.usedTextureCount)) {\n            this.usedTextureCount[shapeKey] = 0;\n        }\n        this.usedTextureCount[shapeKey]++;\n        if (this.freeTextures[shapeKey].length > 0) {\n            this.numFreeTextures--;\n            this.numUsedTextures++;\n            this.log();\n            return this.freeTextures[shapeKey].shift();\n        }\n        this.numUsedTextures++;\n        this.log();\n        return this.gpgpu.createMatrixTexture(shapeRC[0], shapeRC[1]);\n    };\n    TextureManager.prototype.releaseTexture = function (texture, shape) {\n        var shapeKey = getKeyFromTextureShape(shape);\n        if (!(shapeKey in this.freeTextures)) {\n            this.freeTextures[shapeKey] = [];\n        }\n        this.freeTextures[shapeKey].push(texture);\n        this.numFreeTextures++;\n        this.numUsedTextures--;\n        this.usedTextureCount[shapeKey]--;\n        this.log();\n    };\n    TextureManager.prototype.log = function () {\n        if (!this.logEnabled) {\n            return;\n        }\n        var total = this.numFreeTextures + this.numUsedTextures;\n        console.log('Free/Used', this.numFreeTextures + \" / \" + this.numUsedTextures, \"(\" + total + \")\");\n    };\n    TextureManager.prototype.getNumUsedTextures = function () {\n        return this.numUsedTextures;\n    };\n    TextureManager.prototype.getNumFreeTextures = function () {\n        return this.numFreeTextures;\n    };\n    TextureManager.prototype.dispose = function () {\n        for (var shape in this.freeTextures) {\n            if (this.freeTextures.hasOwnProperty(shape)) {\n                for (var i = 0; i < this.freeTextures[shape].length; i++) {\n                    this.gpgpu.deleteMatrixTexture(this.freeTextures[shape][i]);\n                }\n            }\n        }\n    };\n    return TextureManager;\n}());\nexports.TextureManager = TextureManager;\nfunction getKeyFromTextureShape(shapeRowsCol) {\n    return shapeRowsCol[0] + \"_\" + shapeRowsCol[1];\n}\n//# sourceMappingURL=texture_manager.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/texture_manager.js\n// module id = 104\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shader_compiler_1 = require(\"./shader_compiler\");\nvar TileProgram = (function () {\n    function TileProgram(aShape, reps) {\n        this.variableNames = ['A'];\n        var outputShape = new Array(aShape.length);\n        for (var i = 0; i < outputShape.length; i++) {\n            outputShape[i] = aShape[i] * reps[i];\n        }\n        this.outputShape = outputShape;\n        this.rank = outputShape.length;\n        var dtype = shader_compiler_1.getCoordsDataType(this.rank);\n        var sourceCoords = getSourceCoords(aShape);\n        this.userCode = \"\\n      void main() {\\n        \" + dtype + \" resRC = getOutputCoords();\\n        setOutput(getA(\" + sourceCoords + \"));\\n      }\\n    \";\n    }\n    return TileProgram;\n}());\nexports.TileProgram = TileProgram;\nfunction getSourceCoords(aShape) {\n    var rank = aShape.length;\n    if (rank > 4) {\n        throw Error(\"Tile for rank \" + rank + \" is not yet supported\");\n    }\n    if (rank === 1) {\n        return \"imod(resRC, \" + aShape[0] + \")\";\n    }\n    var currentCoords = ['resRC.x', 'resRC.y', 'resRC.z', 'resRC.w'];\n    var sourceCoords = [];\n    for (var i = 0; i < aShape.length; i++) {\n        sourceCoords.push(\"imod(\" + currentCoords[i] + \", \" + aShape[i] + \")\");\n    }\n    return sourceCoords.join();\n}\n//# sourceMappingURL=tile_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/tile_gpu.js\n// module id = 105\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shader_compiler_1 = require(\"./shader_compiler\");\nvar TransposeProgram = (function () {\n    function TransposeProgram(aShape, newDim) {\n        this.variableNames = ['A'];\n        var outputShape = new Array(aShape.length);\n        for (var i = 0; i < outputShape.length; i++) {\n            outputShape[i] = aShape[newDim[i]];\n        }\n        this.outputShape = outputShape;\n        this.rank = outputShape.length;\n        var dtype = shader_compiler_1.getCoordsDataType(this.rank);\n        var switched = getSwitchedCoords(newDim);\n        this.userCode = \"\\n    void main() {\\n      \" + dtype + \" resRC = getOutputCoords();\\n      setOutput(getA(\" + switched + \"));\\n    }\\n    \";\n    }\n    return TransposeProgram;\n}());\nexports.TransposeProgram = TransposeProgram;\nfunction getSwitchedCoords(newDim) {\n    var rank = newDim.length;\n    if (rank > 4) {\n        throw Error(\"Transpose for rank \" + rank + \" is not yet supported\");\n    }\n    var originalOrder = ['resRC.x', 'resRC.y', 'resRC.z', 'resRC.w'];\n    var switchedCoords = new Array(rank);\n    for (var i = 0; i < newDim.length; i++) {\n        switchedCoords[newDim[i]] = originalOrder[i];\n    }\n    return switchedCoords.join();\n}\n//# sourceMappingURL=transpose_gpu.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/math/webgl/transpose_gpu.js\n// module id = 106\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar environment = require(\"./environment\");\nvar environment_1 = require(\"./environment\");\nvar math_cpu_1 = require(\"./math/math_cpu\");\nvar math_gpu_1 = require(\"./math/math_gpu\");\nvar util = require(\"./util\");\nexports.TEST_EPSILON = 1e-2;\nfunction mean(values) {\n    var sum = 0;\n    for (var i = 0; i < values.length; i++) {\n        sum += values[i];\n    }\n    return sum / values.length;\n}\nexports.mean = mean;\nfunction standardDeviation(values, mean) {\n    var squareDiffSum = 0;\n    for (var i = 0; i < values.length; i++) {\n        var diff = values[i] - mean;\n        squareDiffSum += diff * diff;\n    }\n    return Math.sqrt(squareDiffSum / values.length);\n}\nexports.standardDeviation = standardDeviation;\nfunction kurtosis(values) {\n    var valuesMean = mean(values);\n    var n = values.length;\n    var sum2 = 0;\n    var sum4 = 0;\n    for (var i = 0; i < n; i++) {\n        var v = values[i] - valuesMean;\n        sum2 += Math.pow(v, 2);\n        sum4 += Math.pow(v, 4);\n    }\n    return (1 / n) * sum4 / Math.pow((1 / n) * sum2, 2) - 3;\n}\nexports.kurtosis = kurtosis;\nfunction skewness(values) {\n    var valuesMean = mean(values);\n    var n = values.length;\n    var sum2 = 0;\n    var sum3 = 0;\n    var i = -1;\n    while (++i < n) {\n        var v = values[i] - valuesMean;\n        sum2 += Math.pow(v, 2);\n        sum3 += Math.pow(v, 3);\n    }\n    return (1 / n) * sum3 / Math.pow((1 / (n - 1)) * sum2, 3 / 2);\n}\nexports.skewness = skewness;\nfunction jarqueBeraNormalityTest(values) {\n    var s = skewness(values);\n    var k = kurtosis(values);\n    var jb = values.length * ((Math.pow(s, 2) / 6) + (Math.pow(k, 2) / 24));\n    var CHI_SQUARE_2DEG = 5.991;\n    if (jb > CHI_SQUARE_2DEG) {\n        throw new Error(\"Invalid p-value for JB: \" + jb);\n    }\n}\nexports.jarqueBeraNormalityTest = jarqueBeraNormalityTest;\nfunction expectArrayInMeanStdRange(actual, expectedMean, expectedStdDev, epsilon) {\n    if (epsilon === void 0) { epsilon = exports.TEST_EPSILON; }\n    var actualMean = mean(actual);\n    expectNumbersClose(actualMean, expectedMean, epsilon);\n    expectNumbersClose(standardDeviation(actual, actualMean), expectedStdDev, epsilon);\n}\nexports.expectArrayInMeanStdRange = expectArrayInMeanStdRange;\nfunction expectArraysClose(actual, expected, epsilon) {\n    if (epsilon === void 0) { epsilon = exports.TEST_EPSILON; }\n    var aType = actual.constructor.name;\n    var bType = expected.constructor.name;\n    if (aType !== bType) {\n        throw new Error(\"Arrays are of different type \" + aType + \" vs \" + bType);\n    }\n    if (actual.length !== expected.length) {\n        throw new Error(\"Matrices have different lengths (\" + actual.length + \" vs \" +\n            (expected.length + \").\"));\n    }\n    for (var i = 0; i < expected.length; ++i) {\n        var a = actual[i];\n        var e = expected[i];\n        if (!areClose(a, e, epsilon)) {\n            var actualStr = \"actual[\" + i + \"] === \" + a;\n            var expectedStr = \"expected[\" + i + \"] === \" + e;\n            throw new Error('Arrays differ: ' + actualStr + ', ' + expectedStr);\n        }\n    }\n}\nexports.expectArraysClose = expectArraysClose;\nfunction expectNumbersClose(a, e, epsilon) {\n    if (epsilon === void 0) { epsilon = exports.TEST_EPSILON; }\n    if (!areClose(a, e, epsilon)) {\n        throw new Error(\"Numbers differ: actual === \" + a + \", expected === \" + e);\n    }\n}\nexports.expectNumbersClose = expectNumbersClose;\nfunction areClose(a, e, epsilon) {\n    if (isNaN(a) && isNaN(e)) {\n        return true;\n    }\n    if (isNaN(a) || isNaN(e) || Math.abs(a - e) > epsilon) {\n        return false;\n    }\n    return true;\n}\nfunction expectValuesInRange(actual, low, high) {\n    for (var i = 0; i < actual.length; i++) {\n        if (actual[i] < low || actual[i] > high) {\n            throw new Error(\"Value out of range:\" + actual[i] + \" low: \" + low + \", high: \" + high);\n        }\n    }\n}\nexports.expectValuesInRange = expectValuesInRange;\nfunction randomArrayInRange(n, minValue, maxValue) {\n    var v = new Float32Array(n);\n    var range = maxValue - minValue;\n    for (var i = 0; i < n; ++i) {\n        v[i] = (Math.random() * range) + minValue;\n    }\n    return v;\n}\nexports.randomArrayInRange = randomArrayInRange;\nfunction makeIdentity(n) {\n    var i = new Float32Array(n * n);\n    for (var j = 0; j < n; ++j) {\n        i[(j * n) + j] = 1;\n    }\n    return i;\n}\nexports.makeIdentity = makeIdentity;\nfunction cpuMultiplyMatrix(a, aRow, aCol, b, bRow, bCol) {\n    var result = new Float32Array(aRow * bCol);\n    for (var r = 0; r < aRow; ++r) {\n        var aOffset = (r * aCol);\n        var cOffset = (r * bCol);\n        for (var c = 0; c < bCol; ++c) {\n            var d = 0;\n            for (var k = 0; k < aCol; ++k) {\n                d += a[aOffset + k] * b[(k * bCol) + c];\n            }\n            result[cOffset + c] = d;\n        }\n    }\n    return result;\n}\nexports.cpuMultiplyMatrix = cpuMultiplyMatrix;\nfunction cpuDotProduct(a, b) {\n    if (a.length !== b.length) {\n        throw new Error('cpuDotProduct: incompatible vectors.');\n    }\n    var d = 0;\n    for (var i = 0; i < a.length; ++i) {\n        d += a[i] * b[i];\n    }\n    return d;\n}\nexports.cpuDotProduct = cpuDotProduct;\nfunction describeMathCPU(name, tests, featuresList) {\n    var testNameBase = 'math_cpu.' + name;\n    describeWithFeaturesAndExecutor(testNameBase, tests, function (testName, tests, features) { return executeMathTests(testName, tests, function () { return new math_cpu_1.NDArrayMathCPU(); }, features); }, featuresList);\n}\nexports.describeMathCPU = describeMathCPU;\nfunction describeMathGPU(name, tests, featuresList) {\n    var testNameBase = 'math_gpu.' + name;\n    describeWithFeaturesAndExecutor(testNameBase, tests, function (testName, tests, features) { return executeMathTests(testName, tests, function () { return new math_gpu_1.NDArrayMathGPU(); }, features); }, featuresList);\n}\nexports.describeMathGPU = describeMathGPU;\nfunction describeCustom(name, tests, featuresList, customBeforeEach, customAfterEach) {\n    describeWithFeaturesAndExecutor(name, [tests], function (testName, tests, features) { return executeTests(testName, tests, features, customBeforeEach, customAfterEach); }, featuresList);\n}\nexports.describeCustom = describeCustom;\nfunction describeWithFeaturesAndExecutor(testNameBase, tests, executor, featuresList) {\n    if (featuresList != null) {\n        featuresList.forEach(function (features) {\n            var testName = testNameBase + ' ' + JSON.stringify(features);\n            executor(testName, tests, features);\n        });\n    }\n    else {\n        executor(testNameBase, tests);\n    }\n}\nvar PROMISE_IT = function (name, testFunc) {\n    it(name, function (done) {\n        var result = testFunc();\n        if (result instanceof Promise) {\n            result.then(done, function (e) {\n                fail(e);\n                done();\n            });\n        }\n        else {\n            done();\n        }\n    });\n};\nfunction executeMathTests(testName, tests, mathFactory, features) {\n    var math;\n    var customBeforeEach = function () {\n        math = mathFactory();\n        math.startScope();\n    };\n    var customAfterEach = function () {\n        math.endScope(null);\n        math.dispose();\n    };\n    var customIt = function (name, testFunc) {\n        PROMISE_IT(name, function () { return testFunc(math); });\n    };\n    executeTests(testName, tests, features, customBeforeEach, customAfterEach, customIt);\n}\nexports.executeMathTests = executeMathTests;\nfunction executeTests(testName, tests, features, customBeforeEach, customAfterEach, customIt) {\n    if (customIt === void 0) { customIt = PROMISE_IT; }\n    describe(testName, function () {\n        beforeEach(function () {\n            if (features != null) {\n                environment.setEnvironment(new environment_1.Environment(features));\n            }\n            if (customBeforeEach != null) {\n                customBeforeEach();\n            }\n        });\n        afterEach(function () {\n            if (customAfterEach != null) {\n                customAfterEach();\n            }\n            if (features != null) {\n                environment.setEnvironment(new environment_1.Environment());\n            }\n        });\n        tests.forEach(function (test) { return test(customIt); });\n    });\n}\nexports.executeTests = executeTests;\nfunction assertIsNan(val, dtype) {\n    if (!util.isValNaN(val, dtype)) {\n        throw new Error(\"Value \" + val + \" does not represent NaN for dtype \" + dtype);\n    }\n}\nexports.assertIsNan = assertIsNan;\n//# sourceMappingURL=test_util.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/test_util.js\n// module id = 107\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar version = '0.3.11';\nexports.version = version;\n//# sourceMappingURL=version.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/deeplearn/dist/src/version.js\n// module id = 108\n// module chunks = 0","module.exports = function(dtype) {\n  switch (dtype) {\n    case 'int8':\n      return Int8Array\n    case 'int16':\n      return Int16Array\n    case 'int32':\n      return Int32Array\n    case 'uint8':\n      return Uint8Array\n    case 'uint16':\n      return Uint16Array\n    case 'uint32':\n      return Uint32Array\n    case 'float32':\n      return Float32Array\n    case 'float64':\n      return Float64Array\n    case 'array':\n      return Array\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dtype/index.js\n// module id = 109\n// module chunks = 0","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by François Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/index.js\n// module id = 110\n// module chunks = 0","// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = data.toString();\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/lib/alea.js\n// module id = 111\n// module chunks = 0","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/lib/tychei.js\n// module id = 112\n// module chunks = 0","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/lib/xor128.js\n// module id = 113\n// module chunks = 0","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/lib/xor4096.js\n// module id = 114\n// module chunks = 0","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// François Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/lib/xorshift7.js\n// module id = 115\n// module chunks = 0","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/lib/xorwow.js\n// module id = 116\n// module chunks = 0","/*\nCopyright 2014 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\nvar global = this,\n    width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\nmath['seed' + rngname] = seedrandom;\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n}\n\n// End anonymous scope, and pass initial values.\n})(\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/seedrandom/seedrandom.js\n// module id = 117\n// module chunks = 0","// Original implementation sourced via:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Base64_encoding_and_decoding#Appendix.3A_Decode_a_Base64_string_to_Uint8Array_or_ArrayBuffer\n\nvar dtype = require('dtype')\nvar ceil = Math.ceil\n\nmodule.exports.encode = encode\nmodule.exports.decode = decode\n\nfunction b64int(n) {\n  return n < 26 ? n + 65\n    : n < 52 ? n + 71\n    : n < 62 ? n - 4\n    : n === 62 ? 43\n    : n === 63 ? 47\n    : 65\n}\n\nfunction intb64(chr) {\n  return chr > 64 && chr < 91 ? chr - 65\n    : chr > 96 && chr < 123 ? chr - 71\n    : chr > 47 && chr < 58 ? chr + 4\n    : chr === 43 ? 62\n    : chr === 47 ? 63\n    : 0\n}\n\nfunction encode(input) {\n  if (!(input instanceof Uint8Array)) {\n    input = new Uint8Array(input.buffer)\n  }\n\n  var length = input.length\n  var output = \"\"\n\n  for (var value = 0, idx = 0; idx < length; idx++) {\n    var bit = idx % 3\n\n    value |= input[idx] << (16 >>> bit & 24)\n    if (idx > 0 && !((idx * 4 / 3) % 76)) {\n      output += \"\\r\\n\"\n    }\n\n    if (bit === 2 || input.length - idx === 1) {\n      output += String.fromCharCode(\n          b64int(value >>> 18 & 63)\n        , b64int(value >>> 12 & 63)\n        , b64int(value >>> 6 & 63)\n        , b64int(value & 63)\n      )\n      value = 0\n    }\n  }\n\n  return output.replace(/A(?=A$|$)/g, \"=\")\n}\n\nfunction decode(input, output) {\n  input = input.replace(/[^A-Za-z0-9\\+\\/]/g, \"\")\n\n  var inputLength = input.length\n  var outputLength = inputLength * 3 + 1 >> 2\n  var outidx = 0\n  var inidx = 0\n  var rvalue\n\n  if (!output) output = new Uint8Array(outputLength)\n  if (typeof output === 'string') {\n    var type = output\n    var bytes = parseInt(type.match(/[0-9]+/g), 10) / 8\n    var offset = ceil(outputLength / bytes) * bytes - outputLength\n    if (bytes) outputLength += offset\n    output = new Uint8Array(outputLength)\n    rvalue = new (dtype(type))(output.buffer)\n  } else {\n    rvalue = output\n  }\n\n  for (var value = 0; inidx < inputLength; inidx++) {\n    var bit = inidx & 3\n\n    value |= intb64(\n      input.charCodeAt(inidx)\n    ) << (18 - 6 * bit)\n\n    if (bit === 3 || inputLength - inidx === 1) {\n      for (var sbit = 0; sbit < 3 && outidx < outputLength; sbit++) {\n        output[outidx++] = value >>> (16 >>> sbit & 24) & 255\n      }\n      value = 0\n    }\n  }\n\n  return rvalue\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tab64/index.js\n// module id = 118\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/path-browserify/index.js\n// module id = 119\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 120\n// module chunks = 0"],"sourceRoot":""}